/*!
 * guide4you-module-urlapi
 * Version: 3.1.0 (built Mon Oct 15 2018)
 * Klaus Benndorf, License: MIT (https://spdx.org/licenses/MIT.html)
 * Homepage: https://github.com/KlausBenndorf/guide4you-module-urlapi
 *
 * This software contains (parts of) the following software packages:
 * better-scroll v1.13.2, https://github.com/ustbhuangyi/better-scroll, (c) huangyi &lt;ustbhuangyi@gmail.com&gt;
 * csscolorparser v1.0.3, https://github.com/deanm/css-color-parser-js#readme, Dean McNamee <dean@gmail.com>, License: MIT (https://spdx.org/licenses/MIT.html)
 * guide4you v3.1.0, https://github.com/KlausBenndorf/guide4you, Klaus Benndorf, License: MIT (https://spdx.org/licenses/MIT.html)
 * lodash v4.17.11, https://lodash.com/, John-David Dalton <john.david.dalton@gmail.com> (http://allyoucanleet.com/), License: MIT (https://spdx.org/licenses/MIT.html)
 * notifyjs-browser v0.4.2, http://notifyjs.com/, Jaime Pillora, License: MIT (https://spdx.org/licenses/MIT.html)
 * proj4 v2.5.0, https://github.com/proj4js/proj4js#readme, License: MIT (https://spdx.org/licenses/MIT.html)
 * strip-json-comments v2.0.1, https://github.com/sindresorhus/strip-json-comments#readme, Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com), License: MIT (https://spdx.org/licenses/MIT.html)
 * webpack v4.12.0, https://github.com/webpack/webpack, Tobias Koppers @sokra, License: MIT (https://spdx.org/licenses/MIT.html)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery"),require("ol")):"function"==typeof define&&define.amd?define("g4u",["jQuery","ol"],e):"object"==typeof exports?exports.g4u=e(require("jQuery"),require("ol")):t.g4u=e(t.jQuery,t.ol)}(window,function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=801)}([function(t,e,n){var i=n(5),r=n(38),o=n(26),a=n(25),s=n(37),l=function(t,e,n){var u,c,h,f,p=t&l.F,d=t&l.G,v=t&l.S,y=t&l.P,g=t&l.B,m=d?i:v?i[e]||(i[e]={}):(i[e]||{}).prototype,_=d?r:r[e]||(r[e]={}),b=_.prototype||(_.prototype={});for(u in d&&(n=e),n)h=((c=!p&&m&&void 0!==m[u])?m:n)[u],f=g&&c?s(h,i):y&&"function"==typeof h?s(Function.call,h):h,m&&a(m,u,h,t&l.U),_[u]!=h&&o(_,u,f),y&&b[u]!=h&&(b[u]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.even=function(t){if(r.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2==0)return!0}return!1},e.odd=function(t){if(r.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2==1)return!0}return!1},e.checkFor=function(t,e){return e in t&&t[e]},e.asObject=u,e.getConfig=function(t,e){if(t.hasOwnProperty(e)&&t[e])return u(t[e])},e.asyncImageLoad=function(t,e,n){n||(n=e.finalize());return new Promise(function(i,r){function o(){r(new Error("Error loading url "+n))}if(t.addEventListener("load",i),t.addEventListener("error",o),e.username&&e.password){var a=new XMLHttpRequest;a.open("GET",n,!0),a.responseType="blob",a.withCredentials=!0,a.setRequestHeader(e.useProxy?"X-Proxy-Forward-Authorization":"Authorization","Basic "+btoa(e.username+":"+e.password)),a.addEventListener("load",function(e){if(200===this.status){var n=window.URL||window.webkitURL;t.src=n.createObjectURL(this.response)}else o()}),a.send()}else t.src=n})},e.finishAllImages=function(t){var e=[];return c(t,"img").each(function(){var t=this;t.complete||e.push(new Promise(function(e){(0,r.default)(t).on("load",e),(0,r.default)(t).on("error",e)}))}),Promise.all(e)},e.offset=function(t,e){var n=t.offset(),i=e.offset();return{top:n.top-i.top,left:n.left-i.left}},e.recursiveSelect=c,e.showInteractionActivity=function(t){o.Debug.info("superseding interactions:");var e=void 0,n=void 0,i=void 0,r=void 0;for(e in t.supersedingInteractions_){for(i=t.supersedingInteractions_[e].length,r=0,n=0;n<i;n++)t.supersedingInteractions_[e][n].getActive()&&(r+=1);o.Debug.info("  "+e+": total: "+i+" active: "+r)}for(e in o.Debug.info("default interactions:"),t.defaultInteractions_){for(i=t.defaultInteractions_[e].length,r=0,n=0;n<i;n++)t.defaultInteractions_[e][n].getActive()&&(r+=1);o.Debug.info("  "+e+": total: "+i+" active: "+r)}},e.urlDirname=h,e.urlNormalize=f,e.urlJoin=function(t,e){var n=h(f(t)),i=f(e),r=/[^/]+\/$/,o=/^\.\.\//;for(;n.match(r)&&i.match(o);)n=n.replace(r,""),i=i.replace(o,"");return n+i},e.urlRelative=function(t,e){var n=h(f(t)),i=f(e),r="",o=/^\/?((\/\/)|[^/])+\//,a=void 0,s=void 0;for(;n.match(o)&&i.match(o)&&(a=n.match(o)[0],s=i.match(o)[0],a.toUpperCase()===s.toUpperCase());)n=n.replace(o,""),i=i.replace(o,"");for(;n.match(o);)a=n.match(o)[0],n=n.replace(o,""),r+="../";return r+i},e.urlIsAbsolute=function(t){return!!t.match(/^\/|.*:\/\//)},e.mixin=function(t,e){Array.isArray(e)||(e=[e]);var n=e.map(function(t){return t.prototype.initialize}),i=function(t){function e(t){a(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=!0,o=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var h=u.value;h&&h.call(i,t)}}catch(t){o=!0,l=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw l}}return i}return l(e,t),e}(t),r=!0,o=!1,u=void 0;try{for(var c,h=e[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var f=c.value,d=p(f.prototype);for(var v in d)if("constructor"!==v&&"initialize"!==v){if(v in i.prototype)throw new Error("mixins should not overwrite methods");Object.defineProperty(i.prototype,v,d[v])}}}catch(t){o=!0,u=t}finally{try{!r&&h.return&&h.return()}finally{if(o)throw u}}return i},e.mixinAsClass=function(t){var e=t.prototype.initialize;return function(t){function n(t){a(this,n);var i=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e&&e.call(i,t),i}return l(n,t),n}(t)},e.html2Text=function(t){return d.html(t).text()};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1));n(68),n(68),n(68),n(68);var o=n(13);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return"object"===(void 0===t?"undefined":i(t))?t:{}}function c(t,e){return t.filter(e).add(t.find(e))}function h(t){return t.replace(/\/([^/]*)(\?.*)?$/,"/")}function f(t){return t.match(/^\.\//)?f(t.replace(/^\.\//,"")):t}function p(t){var e={};do{Object.getOwnPropertyNames(t).forEach(function(n){e.hasOwnProperty(n)||(e[n]=Object.getOwnPropertyDescriptor(t,n))}),t=Object.getPrototypeOf(t)}while(t!==Object.prototype);return e}var d=(0,r.default)("<p>")},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.keyCodes={ESCAPE:27,TAB:9,ARROW_DOWN:40,ARROW_UP:38,ENTER:13,SHIFT:16,CTRL:17},e.cssClasses={mousedown:"g4u-mouse-down",clickable:"g4u-clickable",crosshair:"g4u-crosshair",hidden:"g4u-hidden",arrow:"g4u-arrow",mobile:"g4u-mobile",desktop:"g4u-desktop",move:"g4u-move",active:"g4u-active",mainButton:"g4u-control-mainbutton",hasTooltip:"g4u-has-tooltip",upperCase:"g4u-uppercase",collapsed:"g4u-collapsed"}},function(t,e,n){var i=n(61),r=n(232),o=n(149);t.exports=function(t,e){return o(r(t,e,i),t+"")}},function(t,e,n){var i=n(563),r=n(525),o=n(61),a=n(11),s=n(517);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?r(t[0],t[1]):i(t):s(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var i=n(132)("wks"),r=n(77),o=n(5).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.Debug=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"tryOrThrow",value:function(t){try{t()}catch(t){this.error(t)}}},{key:"info",value:function(t){0}},{key:"warn",value:function(t){console.warn(t)}},{key:"error",value:function(t){console.error(t),console.trace()}},{key:"defaultErrorHandler",value:function(e){t.error(e),e.stack&&t.error(e.stack)}}]),t}()},function(t,e,n){var i=n(505);t.exports=function(t){var e=i(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var i=n(44),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(4),r=n(304),o=n(46),a=Object.defineProperty;e.f=n(17)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Control=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(3),o=n(195);e.Control=(0,r.mixin)(i.default.control.Control,o.ControlLogicMixin)},function(t,e,n){var i=n(45);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(108),r=n(502);t.exports=function t(e,n,o,a,s){var l=-1,u=e.length;for(o||(o=r),s||(s=[]);++l<u;){var c=e[l];n>0&&o(c)?n>1?t(c,n-1,o,a,s):i(s,c):a||(s[s.length]=c)}return s}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},function(t,e,n){var i=n(264),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},function(t,e,n){var i=n(0),r=n(6),o=n(45),a=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){var i=n(5),r=n(26),o=n(31),a=n(77)("src"),s=Function.toString,l=(""+s).split("toString");n(38).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||r(n,a,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var i=n(16),r=n(78);t.exports=n(17)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(48),r=n(53);t.exports=function(t){return r(t)&&i(t)}},function(t,e,n){var i=n(31),r=n(19),o=n(188)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(95),r=n(78),o=n(30),a=n(46),s=n(31),l=n(304),u=Object.getOwnPropertyDescriptor;e.f=n(17)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(96),r=n(45);t.exports=function(t){return i(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInFront=function t(e,n){var r=0;n=n||(0,i.default)(document);var o=!1;e.parents().each(function(r,a){(0,i.default)(a).is(n)||"absolute"===(0,i.default)(a).css("position")&&(o=!0,t((0,i.default)(a),n),t(e,(0,i.default)(a)))});o||(n.find("*:visible").not(function(t,n){return n!==e[0]&&(0,i.default)(n).parents().is(e)}).each(function(){var t=parseInt((0,i.default)(this).css("z-index"),10);t&&r<t&&(r=t)}),e.css("z-index",r+1))},e.addTooltip=function(t,e){t.addClass(r.cssClasses.hasTooltip).append((0,i.default)('<span role="tooltip">').html(e))},e.changeTooltip=function(t,e){t.find("[role=tooltip]").html(e)};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),r=n(8)},function(t,e){t.exports=function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){"use strict";var i=n(6);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(21);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListenerOrganizerMixin=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(2)),o=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(e){s(this,t),this.element=e}return i(t,[{key:"on",value:function(t,e,n){this.event=t,this.listener=e,this.useCapture=n,this.element.addEventListener(t,e,n)}},{key:"once",value:function(t,e,n){var i=this;this.on(t,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(this,n),i.detach()},n)}},{key:"detach",value:function(){this.element.removeEventListener(this.event,this.listener,this.useCapture)}}]),t}(),u=function(){function t(e){s(this,t),this.element=e}return i(t,[{key:"on",value:function(t,e){this.event=t,this.listener=e,this.element.on(t,e)}},{key:"once",value:function(t,e){this.event=t,this.listener=e,this.element.one(t,e)}},{key:"detach",value:function(){this.element.off(this.event,this.listener)}}]),t}(),c=function(){function t(e){s(this,t),this.element=e}return i(t,[{key:"on",value:function(t,e){this.event=t,this.key_=this.element.on(t,e)}},{key:"once",value:function(t,e){this.event=t,this.key_=this.element.once(t,e)}},{key:"detach",value:function(){r.default.Observable.unByKey(this.key_)}}]),t}();e.ListenerOrganizerMixin=function(){function t(){s(this,t)}return i(t,[{key:"initialize",value:function(){this.organizedListeners_=[]}},{key:"listenAt",value:function(e){var n=this;e=Array.isArray(e)?e:[e];var i={on:function(r,o,a){var s=!0,l=!1,u=void 0;try{for(var c,h=e[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=t.getTypeListener(f);p.on(r,o,a),n.organizedListeners_.push(p)}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}return i},once:function(r,o,a){var s=!0,l=!1,u=void 0;try{for(var c,h=e[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=t.getTypeListener(f);p.once(r,o,a),n.organizedListeners_.push(p)}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}return i}};return i}},{key:"detachFrom",value:function(t,e){var n=this.organizedListeners_.filter(function(e){return e.element===t});e&&(n=n.filter(function(t){return t.event===e}));var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.detach(),this.organizedListeners_.splice(this.organizedListeners_.indexOf(l),1)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}},{key:"detachAllListeners",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.organizedListeners_[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){i.value.detach()}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}this.organizedListeners_=[]}}],[{key:"getTypeListener",value:function(t){if(t instanceof r.default.Observable)return new c(t);if(t instanceof o.default)return new u(t);if(t.addEventListener)return new l(t);throw new Error("no suitable listener interface found!")}}]),t}()},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.copy=function(t){return r.default.isArray(t)?r.default.extend([],t):r.default.isPlainObject(t)?r.default.extend({},t):t},e.copyDeep=function(t){return r.default.isArray(t)?r.default.extend(!0,[],t):r.default.isPlainObject(t)?r.default.extend(!0,{},t):t},e.merge=function(t,e){return r.default.extend(t,e)},e.mergeDeep=function(t,e){return r.default.extend(!0,t,e)},e.mergeWithDefaults=function t(e,n){if("object"===(void 0===n?"undefined":i(n))&&"object"===(void 0===e?"undefined":i(e))){var r=!0,o=!1,a=void 0;try{for(var s,l=Object.keys(n)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(!(u in e)&&u.search("Element")<0)e[u]=n[u];else if(e[u]instanceof Array){if(e[u].length===n[u].length)for(var c=0;c<e[u].length;c+=1)t(e[u][c],n[u][c]);else if(u+"Element"in n)for(var h=0;h<e[u].length;h+=1)t(e[u][h],n[u+"Element"])}else"object"===i(e[u])?t(e[u],n[u]):"object"!==i(e[u])&&"object"===i(n[u])&&e[u]&&(e[u]={},t(e[u],n[u]))}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}else e||(e=n);return e},e.take=function(t,e){if(t.hasOwnProperty(e)){var n=t[e];return delete t[e],n}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1))},function(t,e,n){var i=n(37),r=n(96),o=n(19),a=n(15),s=n(171);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var v,y,g=o(e),m=r(g),_=i(s,d,3),b=a(m.length),w=0,M=n?p(e,b):l?p(e,0):void 0;b>w;w++)if((f||w in m)&&(y=_(v=m[w],w,g),t))if(n)M[w]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:M.push(v)}else if(c)return!1;return h?-1:u||c?c:M}}},function(t,e,n){var i=n(0),r=n(38),o=n(6);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(211),r=n(399),o=n(398),a=n(209),s=n(387),l=n(205),u=n(386),c=n(203),h=n(202),f=n(14),p="Expected a function",d=1,v=2,y=8,g=16,m=32,_=64,b=Math.max;t.exports=function(t,e,n,w,M,x,S,P){var O=e&v;if(!O&&"function"!=typeof t)throw new TypeError(p);var k=w?w.length:0;if(k||(e&=~(m|_),w=M=void 0),S=void 0===S?S:b(f(S),0),P=void 0===P?P:f(P),k-=M?M.length:0,e&_){var C=w,E=M;w=M=void 0}var L=O?void 0:l(t),A=[t,e,n,w,M,C,E,x,S,P];if(L&&u(A,L),t=A[0],e=A[1],n=A[2],w=A[3],M=A[4],!(P=A[9]=void 0===A[9]?O?0:t.length:b(A[9]-k,0))&&e&(y|g)&&(e&=~(y|g)),e&&e!=d)j=e==y||e==g?o(t,e,P):e!=m&&e!=(d|m)||M.length?a.apply(void 0,A):s(t,e,n,w);else var j=r(t,e,n);return h((L?i:c)(j,A),t,e)}},function(t,e,n){var i=n(265),r=n(158);t.exports=function(t){return null!=t&&r(t.length)&&!i(t)}},function(t,e,n){var i=n(283),r=n(0),o=n(132)("metadata"),a=o.store||(o.store=new(n(280))),s=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o};t.exports={store:a,map:s,has:function(t,e,n){var i=s(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=s(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){s(n,i,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e,n){"use strict";if(n(17)){var i=n(56),r=n(5),o=n(6),a=n(0),s=n(121),l=n(165),u=n(37),c=n(71),h=n(78),f=n(26),p=n(69),d=n(44),v=n(15),y=n(278),g=n(75),m=n(46),_=n(31),b=n(94),w=n(7),M=n(19),x=n(174),S=n(74),P=n(28),O=n(73).f,k=n(172),C=n(77),E=n(12),L=n(42),A=n(131),j=n(124),T=n(169),I=n(87),N=n(127),F=n(72),D=n(170),R=n(288),B=n(16),V=n(29),z=B.f,$=V.f,U=r.RangeError,G=r.TypeError,W=r.Uint8Array,Y=Array.prototype,q=l.ArrayBuffer,X=l.DataView,H=L(0),Q=L(2),Z=L(3),K=L(4),J=L(5),tt=L(6),et=A(!0),nt=A(!1),it=T.values,rt=T.keys,ot=T.entries,at=Y.lastIndexOf,st=Y.reduce,lt=Y.reduceRight,ut=Y.join,ct=Y.sort,ht=Y.slice,ft=Y.toString,pt=Y.toLocaleString,dt=E("iterator"),vt=E("toStringTag"),yt=C("typed_constructor"),gt=C("def_constructor"),mt=s.CONSTR,_t=s.TYPED,bt=s.VIEW,wt=L(1,function(t,e){return Ot(j(t,t[gt]),e)}),Mt=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),xt=!!W&&!!W.prototype.set&&o(function(){new W(1).set({})}),St=function(t,e){var n=d(t);if(n<0||n%e)throw U("Wrong offset!");return n},Pt=function(t){if(w(t)&&_t in t)return t;throw G(t+" is not a typed array!")},Ot=function(t,e){if(!(w(t)&&yt in t))throw G("It is not a typed array constructor!");return new t(e)},kt=function(t,e){return Ct(j(t,t[gt]),e)},Ct=function(t,e){for(var n=0,i=e.length,r=Ot(t,i);i>n;)r[n]=e[n++];return r},Et=function(t,e,n){z(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,i,r,o,a,s=M(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,f=k(s);if(void 0!=f&&!x(f)){for(a=f.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,n=v(s.length),r=Ot(this,n);n>e;e++)r[e]=h?c(s[e],e):s[e];return r},At=function(){for(var t=0,e=arguments.length,n=Ot(this,e);e>t;)n[t]=arguments[t++];return n},jt=!!W&&o(function(){pt.call(new W(1))}),Tt=function(){return pt.apply(jt?ht.call(Pt(this)):Pt(this),arguments)},It={copyWithin:function(t,e){return R.call(Pt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return K(Pt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return D.apply(Pt(this),arguments)},filter:function(t){return kt(this,Q(Pt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return J(Pt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){H(Pt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Pt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(Pt(this),arguments)},lastIndexOf:function(t){return at.apply(Pt(this),arguments)},map:function(t){return wt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Pt(this),arguments)},reduceRight:function(t){return lt.apply(Pt(this),arguments)},reverse:function(){for(var t,e=Pt(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return Z(Pt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Pt(this),t)},subarray:function(t,e){var n=Pt(this),i=n.length,r=g(t,i);return new(j(n,n[gt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,v((void 0===e?i:g(e,i))-r))}},Nt=function(t,e){return kt(this,ht.call(Pt(this),t,e))},Ft=function(t){Pt(this);var e=St(arguments[1],1),n=this.length,i=M(t),r=v(i.length),o=0;if(r+e>n)throw U("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Dt={entries:function(){return ot.call(Pt(this))},keys:function(){return rt.call(Pt(this))},values:function(){return it.call(Pt(this))}},Rt=function(t,e){return w(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return Rt(t,e=m(e,!0))?h(2,t[e]):$(t,e)},Vt=function(t,e,n){return!(Rt(t,e=m(e,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};mt||(V.f=Bt,B.f=Vt),a(a.S+a.F*!mt,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:Vt}),o(function(){ft.call({})})&&(ft=pt=function(){return ut.call(this)});var zt=p({},It);p(zt,Dt),f(zt,dt,Dt.values),p(zt,{slice:Nt,set:Ft,constructor:function(){},toString:ft,toLocaleString:Tt}),Et(zt,"buffer","b"),Et(zt,"byteOffset","o"),Et(zt,"byteLength","l"),Et(zt,"length","e"),z(zt,vt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,l){var u=t+((l=!!l)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=r[u],g=d||{},m=d&&P(d),_=!d||!s.ABV,M={},x=d&&d.prototype,k=function(t,n){z(t,n,{get:function(){return function(t,n){var i=t._d;return i.v[h](n*e+i.o,Mt)}(this,n)},set:function(t){return function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*e+r.o,i,Mt)}(this,n,t)},enumerable:!0})};_?(d=n(function(t,n,i,r){c(t,d,u,"_d");var o,a,s,l,h=0,p=0;if(w(n)){if(!(n instanceof q||"ArrayBuffer"==(l=b(n))||"SharedArrayBuffer"==l))return _t in n?Ct(d,n):Lt.call(d,n);o=n,p=St(i,e);var g=n.byteLength;if(void 0===r){if(g%e)throw U("Wrong length!");if((a=g-p)<0)throw U("Wrong length!")}else if((a=v(r)*e)+p>g)throw U("Wrong length!");s=a/e}else s=y(n),o=new q(a=s*e);for(f(t,"_d",{b:o,o:p,l:a,e:s,v:new X(o)});h<s;)k(t,h++)}),x=d.prototype=S(zt),f(x,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&N(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,i,r){var o;return c(t,d,u),w(n)?n instanceof q||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==r?new g(n,St(i,e),r):void 0!==i?new g(n,St(i,e)):new g(n):_t in n?Ct(d,n):Lt.call(d,n):new g(y(n))}),H(m!==Function.prototype?O(g).concat(O(m)):O(g),function(t){t in d||f(d,t,g[t])}),d.prototype=x,i||(x.constructor=d));var C=x[dt],E=!!C&&("values"==C.name||void 0==C.name),L=Dt.values;f(d,yt,!0),f(x,_t,u),f(x,bt,!0),f(x,gt,d),(l?new d(1)[vt]==u:vt in x)||z(x,vt,{get:function(){return u}}),M[u]=d,a(a.G+a.W+a.F*(d!=g),M),a(a.S,u,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){g.of.call(d,1)}),u,{from:Lt,of:At}),"BYTES_PER_ELEMENT"in x||f(x,"BYTES_PER_ELEMENT",e),a(a.P,u,It),F(u),a(a.P+a.F*xt,u,{set:Ft}),a(a.P+a.F*!E,u,Dt),i||x.toString==ft||(x.toString=ft),a(a.P+a.F*o(function(){new d(1).slice()}),u,{slice:Nt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),u,{toLocaleString:Tt}),I[u]=E?C:L,i||E||f(x,dt,L)}}else t.exports=function(){}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e){var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?n:e)&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var i=n(573),r=n(256)(i);t.exports=r},function(t,e,n){var i=n(12)("unscopables"),r=Array.prototype;void 0==r[i]&&n(26)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e){t.exports=!1},function(t,e,n){var i=n(77)("meta"),r=n(7),o=n(31),a=n(16).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(6)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!o(t,i)&&c(t),t}}},function(t,e){var n="__lodash_placeholder__";t.exports=function(t,e){for(var i=-1,r=t.length,o=0,a=[];++i<r;){var s=t[i];s!==e&&s!==n||(t[i]=n,a[o++]=i)}return a}},function(t,e,n){var i=n(110),r=n(102),o=n(147),a=n(109),s=n(414),l=n(155),u=200;t.exports=function(t,e,n){var c=-1,h=r,f=t.length,p=!0,d=[],v=d;if(n)p=!1,h=o;else if(f>=u){var y=e?null:s(t);if(y)return l(y);p=!1,h=a,v=new i}else v=e?[]:d;t:for(;++c<f;){var g=t[c],m=e?e(g):g;if(g=n||0!==g?g:0,p&&m==m){for(var _=v.length;_--;)if(v[_]===m)continue t;e&&v.push(m),d.push(g)}else h(v,m,n)||(v!==d&&v.push(m),d.push(g))}return d}},function(t,e,n){var i=n(65),r=n(48),o=n(52),a=n(40);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?r(n)&&o(e,n.length):"string"==s&&e in n)&&i(n[e],t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var i=n(63),r=1/0;t.exports=function(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}},function(t,e,n){var i=n(84),r=n(53),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||r(t)&&i(t)==o}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var i=n(581),r=n(576);t.exports=function(t,e){var n=r(t,e);return i(n)?n:void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GroupLayer=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(93),a=n(3);e.GroupLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=new WeakMap;return n.getLayers().on("add",function(t){var e=t.element;e.provideMap&&e.provideMap(n.getProvidedMap()),i.set(e,e.on(["change:visible","change:childVisible"],function(){n.dispatchEvent({type:"change:childVisible",child:e})}))}),n.getLayers().on("remove",function(t){var e=t.element;e.provideMap&&e.provideMap(null),r.default.Observable.unByKey(i.get(e)),i.delete(e)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,a.mixin)(r.default.layer.Group,o.ProvideMapMixin)),i(e,[{key:"provideMap",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"provideMap",this).call(this,t),this.getLayers().forEach(function(e){e.provideMap&&e.provideMap(t)})}},{key:"recursiveForEach",value:function(t){var e=this;this.getLayers().forEach(function(n){t(n,e),n.recursiveForEach&&n.recursiveForEach(t)})}},{key:"forEachOn",value:function(t,n){var i=this;this.recursiveForEach(function(r){r.on(t,n),r instanceof e&&(i.getLayers().on("add",function(e){e.element.on(t,n)}),i.getLayers().on("remove",function(e){e.element.un(t,n)}))})}},{key:"countChildrenVisible",value:function(){for(var t=this.getLayersArray(),n=0,i=0,r=t.length;i<r;i++)t[i]instanceof e?n+=t[i].countChildrenVisible():t[i].getVisible()&&(n+=1);return n}},{key:"countChildren",value:function(){for(var t=this.getLayersArray(),n=0,i=0,r=t.length;i<r;i++)t[i]instanceof e?n+=t[i].countChildren():n+=1;return n}},{key:"getLayersArray",value:function(){return this.getLayers().getArray()}},{key:"getLength",value:function(){return this.getLayers().getLength()}},{key:"isParentOf",value:function(t){var e=!1;return this.recursiveForEach(function(n){t===n&&(e=!0)}),e}},{key:"getIds",value:function(){for(var t=void 0!==this.get("id")?[this.get("id")]:[],e=this.getLayersArray(),n=0,i=e.length;n<i;n++)e[n].getIds?t=t.concat(e[n].getIds()):t.push(e[n].get("id"));return t}},{key:"getAttributions",value:function(){var t=[];return this.recursiveForEach(function(e){if(e.getVisible()&&e.getSource){var n=e.getSource().getAttributions();n&&(t=t.concat(n))}}),t}},{key:"removeLayerById",value:function(t){for(var e=this.getLayers(),n=0;n<e.getLength();n++){if(e.item(n).get("id")===t)return e.removeAt(n);if(e.item(n).removeLayerById){var i=e.item(n).removeLayerById(t);if(i)return i}}}},{key:"findLayer",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.getLayersArray()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(t(a))return a;if(a.findLayer){var s=a.findLayer(t);if(s)return s}}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"getLayerById",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.getLayersArray()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.get("id")===t)return a;if(a.getLayerById){var s=a.getLayerById(t);if(s)return s}}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"removeLayer",value:function(t){var e=this.getLayers().remove(t);return e||this.getLayers().forEach(function(n){!e&&n.removeLayer&&(e=n.removeLayer(t))}),e}},{key:"getIdsVisibilities",value:function(){var t={};return this.recursiveForEach(function(e){e.get("id")&&(t[e.get("id")]=e.getVisible())}),t}},{key:"setIdsVisibilities",value:function(t){this.recursiveForEach(function(e){e.get("id")&&e.setVisible(t[e.get("id")])})}},{key:"containsLayer",value:function(t){return this.getLayers().getArray().some(function(e){return e===t||(e.containsLayer?e.containsLayer(t):void 0)})}}]),e}()},function(t,e){},function(t,e,n){var i=n(25);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var i=n(37),r=n(290),o=n(174),a=n(4),s=n(15),l=n(172),u={},c={};(e=t.exports=function(t,e,n,h,f){var p,d,v,y,g=f?function(){return t}:l(t),m=i(n,h,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=s(t.length);p>_;_++)if((y=e?m(a(d=t[_])[0],d[1]):m(t[_]))===u||y===c)return y}else for(v=g.call(t);!(d=v.next()).done;)if((y=r(v,m,d.value,e))===u||y===c)return y}).BREAK=u,e.RETURN=c},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var i=n(5),r=n(16),o=n(17),a=n(12)("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(302),r=n(187).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(4),r=n(301),o=n(187),a=n(188)("IE_PROTO"),s=function(){},l=function(){var t,e=n(190)("iframe"),i=o.length;for(e.style.display="none",n(186).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[o[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(44),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(302),r=n(187);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.ActivatableMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.activate_=!0===t.active,this.active_=!1}},{key:"activateOnMapChange",value:function(){this.setActive(this.activate_)}},{key:"setActive",value:function(t){var e=this.active_;if(e!==t){this.active_=t;var n={type:"change:active",oldValue:e};this.dispatchEvent(n)}}},{key:"getActive",value:function(){return this.active_}}]),t}()},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e){t.exports=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var i=n(571),r=n(257),o=n(48);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var i=n(92),r=n(580),o=n(579),a="[object Null]",s="[object Undefined]",l=i?i.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:l&&l in Object(t)?r(t):o(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorLayer=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(162),o=n(3),a=n(93);e.VectorLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.on("change:visible",function(){n.getSource().setRefreshing&&n.getSource().setRefreshing(n.getVisible())}),n.set("mutators",t.mutators||[]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,o.mixin)((0,o.mixin)(i.default.layer.Vector,a.ProvideMapMixin),r.LayerLoadProcessCountMixin)),e}()},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports={}},function(t,e,n){var i=n(0),r=n(45),o=n(6),a=n(184),s="["+a+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),c=function(t,e,n){var r={},s=o(function(){return!!a[t]()||"​"!="​"[t]()}),l=r[t]=s?e(h):a[t];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},h=c.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=c},function(t,e,n){var i=n(16).f,r=n(31),o=n(12)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(110),r=n(102),o=n(147),a=n(22),s=n(82),l=n(109),u=200;t.exports=function(t,e,n,c){var h=-1,f=r,p=!0,d=t.length,v=[],y=e.length;if(!d)return v;n&&(e=a(e,s(n))),c?(f=o,p=!1):e.length>=u&&(f=l,p=!1,e=new i(e));t:for(;++h<d;){var g=t[h],m=null==n?g:n(g);if(g=c||0!==g?g:0,p&&m==m){for(var _=y;_--;)if(e[_]===m)continue t;v.push(g)}else f(e,m,c)||v.push(g)}return v}},function(t,e,n){var i=n(11),r=n(153),o=n(524),a=n(522);t.exports=function(t,e){return i(t)?t:r(t,e)?[t]:o(a(t))}},function(t,e,n){var i=n(23).Symbol;t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.ProvideMapMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"provideMap",value:function(t){this.providedMap_=t}},{key:"getProvidedMap",value:function(){return this.providedMap_}}]),t}()},function(t,e,n){var i=n(36),r=n(12)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(36);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RewireMixin=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(195),a=n(8),s=n(3);e.RewireMixin=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ControlLogicMixin),i(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.singleButton=!1,function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,t),this.rewire()}},{key:"rewire",value:function(){(0,s.recursiveSelect)(this.get$Element(),"button[title]").each(function(){var t=(0,r.default)(this).attr("title");(0,r.default)(this).addClass(a.cssClasses.hasTooltip).removeAttr("title").append("<span role='tooltip'>"+t+"</span>")})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Window=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=c(n(2)),o=c(n(1)),a=n(3),s=n(32),l=n(8),u=c(n(363));function c(t){return t&&t.__esModule?t:{default:t}}n(892);e.Window=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.className_=t.hasOwnProperty("className")?t.className:"g4u-window",n.classNameBody_=n.className_+"-content",n.classNameButtonClose_=n.className_+"-button-close",n.$element_=(0,o.default)("<div>").addClass(n.className_).on("click",function(t){return t.stopPropagation()}),n.$positionWrapper_=(0,o.default)("<div>").addClass(n.className_+"-inner-position"),n.$scrollWrapper_=(0,o.default)("<div>").addClass(n.className_+"-scroll-wrap"),n.$body_=(0,o.default)("<div>").addClass(n.classNameBody_),n.$button_=(0,o.default)("<button>").addClass(n.classNameButtonClose_),n.$element_.append(n.$button_).append(n.$positionWrapper_.append(n.$scrollWrapper_.append(n.$body_))).addClass(l.cssClasses.hidden),t.hasOwnProperty("id")&&n.$element_.attr("id",t.id),n.$button_.on("click",function(){return n.setVisible(!1)}),n.draggable_=!t.hasOwnProperty("draggable")||t.draggable,n.fixedPosition_=!0===t.fixedPosition,n.map_=t.map,n.$context_=(0,o.default)(n.map_.getTarget());var i=n.draggable_;return n.map_.asSoonAs("ready",!0,function(){n.map_.on("resize",function(){return n.updateSize(!0)});var t=function(){n.map_.get("mobile")?(n.draggable_=!1,n.getVisible()&&n.setEnableMobileScrolling_(!0)):(n.draggable_=i,n.scroll_&&n.scroll_.enabled&&n.setEnableMobileScrolling_(!1)),n.updateSize()};t(),n.map_.on("change:mobile",t)}),n.makeWindowDraggable_(),n.$element_.on("mousedown",function(){n.getInFront()}),n.visible_=!1,n.setVisible(!!t.hasOwnProperty("visible")&&t.visible),n.shieldActivated_=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Object),i(e,[{key:"makeWindowDraggable_",value:function(){var t=this,e=0,n=0,i=!1,r=!1;this.$context_.on("mousemove",function(o){r&&(o.clientY-n===t.$element_.offset().top&&o.clientX-e===t.$element_.offset().left||(i=!0,t.$element_.css("position","absolute"),t.$element_.offset({top:o.clientY-n,left:o.clientX-e}),o.stopPropagation()))}),this.$button_.on("mousedown",function(i){!(0,o.default)(i.target).is("input, textarea")&&t.draggable_&&(e=i.clientX-t.$element_.offset().left,n=i.clientY-t.$element_.offset().top,r=!0)}),this.$element_.get(0).addEventListener("click",function(e){i&&t.draggable_&&(i=!1,e.preventDefault(),e.stopPropagation())},!0),this.$context_.on("mouseup",function(){r=!1})}},{key:"setEnableMobileScrolling_",value:function(t){var e=this;t?this.scroll_?this.scroll_.enable():(this.scroll_=new u.default(this.$scrollWrapper_.get(0),{scrollbar:!0,bounce:!1}),window.addEventListener("wheel",function(t){e.getVisible()&&e.scroll_.enabled&&e.scroll_.scrollTo(0,Math.max(e.scroll_.maxScrollY,Math.min(0,e.scroll_.y-t.deltaY)),100)})):this.scroll_&&(this.scroll_.scrollTo(0,0,0),this.scroll_.disable())}},{key:"getInFront",value:function(){(0,s.getInFront)(this.$element_,this.$context_)}},{key:"setVisible",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.visible_;i!==t&&(t?(this.$element_.removeClass(l.cssClasses.hidden),this.map_.get("mobile")?(this.setEnableMobileScrolling_(!0),this.map_.get("shield").setActive(!0),this.map_.get("shield").add$OnTop(this.$element_,{findParentWindow:!1}),this.shieldActivated_=!0,this.map_.get("history").push(function(){return e.setVisible(!1,!1)})):this.map_.get("shield").getActive()||this.getInFront()):(this.map_.get("mobile")&&this.setEnableMobileScrolling_(!1),this.shieldActivated_&&(n?this.map_.get("history").pop():(this.map_.get("shield").setActive(!1),this.map_.get("shield").remove$OnTop(this.$element_),this.shieldActivated_=!1)),this.$element_.addClass(l.cssClasses.hidden),this.$element_.css("top",""),this.$element_.css("left","")),this.visible_=t,this.updateSize(!0),this.dispatchEvent({type:"change:visible",oldValue:i,newValue:t}))}},{key:"getVisible",value:function(){return this.visible_}},{key:"get$Body",value:function(){return this.$body_}},{key:"get$Element",value:function(){return this.$element_}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;if(this.getVisible()){if(this.map_.get("mobile")){e=10;var n=this.$context_.innerWidth()-2*e,i=this.$context_.innerHeight()-2*e;this.get$Body().css("max-height",""),this.$element_.css("width",n),this.$element_.css("height",i);var r=this.$context_.offset();this.$element_.css("left",e+r.left),this.$element_.css("top",e+r.top)}else{e=50;var o=this.$context_.innerWidth()-2*e,s=this.$context_.innerHeight()-2*e,u=this.$element_.css("position"),c=this.$element_.css("top"),h=this.$element_.css("left");this.$element_.css("position",""),this.$element_.css("top",""),this.$element_.css("left",""),this.$element_.css("width",""),this.$element_.css("height",""),this.get$Body().css("max-height",""),this.$element_.css("position","fixed"),this.$element_.css("top","0px"),this.$element_.css("left","0px"),this.$element_.css("width","auto"),this.$element_.css("height","auto");var f=this.$element_.outerWidth(),p=this.$element_.outerHeight(),d=Math.min(f,o),v=Math.min(p,s);this.$element_.css("width",d),this.$element_.css("height",v);var y=parseInt(this.get$Body().css("padding-top").split("px")[0])+parseInt(this.get$Body().css("padding-bottom").split("px")[0]);if(this.get$Body().css("max-height",this.get$Element().innerHeight()-this.$button_.outerHeight()-y),this.$element_.css("position",u),t&&!this.fixedPosition_){c=this.$element_.css("top"),h=this.$element_.css("left");var g=(0,a.offset)(this.$context_,this.$element_),m=(this.$context_.width()-d)/2,_=e,b="auto"===c?0:parseInt(c),w="auto"===h?0:parseInt(h);this.$element_.css("top",b+g.top+_),this.$element_.css("left",w+g.left+m)}else this.$element_.css("top",c),this.$element_.css("left",h)}0===this.get$Body().children(":not(."+l.cssClasses.hidden+")").length&&this.$element_.addClass(l.cssClasses.hidden),this.scroll_&&this.scroll_.refresh()}}}]),e}()},function(t,e,n){var i=n(139),r=n(40);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=i(t.prototype),o=t.apply(n,e);return r(o)?o:n}}},function(t,e,n){var i=n(142),r=n(61),o=n(63),a=2147483647;t.exports=function(t,e,n){var s=0,l=null==t?s:t.length;if("number"==typeof e&&e==e&&l<=a){for(;s<l;){var u=s+l>>>1,c=t[u];null!==c&&!o(c)&&(n?c<=e:c<e)?s=u+1:l=u}return l}return i(t,e,r,n)}},function(t,e,n){var i=n(33);t.exports=function(t,e,n,r){for(var o=t.length,a=r?o:-1;(r?a--:++a<o)&&e(t[a],a,t););return n?i(t,r?0:a,r?a+1:o):i(t,r?a+1:0,r?o:a)}},function(t,e,n){var i=n(105);t.exports=function(t,e){return!(null==t||!t.length)&&i(t,e,0)>-1}},function(t,e,n){var i=n(225);t.exports=function(t,e){var n=-1,r=t.length,o=r-1;for(e=void 0===e?r:e;++n<e;){var a=i(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}},function(t,e,n){var i=n(496),r=n(83);t.exports=function(t){return null==t?[]:i(t,r(t))}},function(t,e,n){var i=n(107),r=n(235),o=n(497);t.exports=function(t,e,n){return e==e?o(t,e,n):i(t,r,n)}},function(t,e,n){var i=n(22),r=n(10),o=n(236),a=n(11);t.exports=function(t,e){return(a(t)?i:o)(t,r(e,3))}},function(t,e){t.exports=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},function(t,e){t.exports=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var i=n(156),r=n(538),o=n(537);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,t.exports=a},function(t,e,n){var i=n(543);t.exports=function(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var i=n(66)(Object,"create");t.exports=i},function(t,e,n){var i=n(65);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},function(t,e,n){var i=n(561),r=n(560),o=n(559),a=n(558),s=n(557);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var i=n(575),r=n(574),o=n(10),a=n(11);t.exports=function(t,e){return function(n,s){var l=a(n)?i:r,u=e?e():{};return l(n,t,o(s,2),u)}}},function(t,e,n){var i=n(266);t.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(13);e.URL=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!==r.default.type(e)&&e.hasOwnProperty("url")?(this.url=e.url,this.useProxy=e.useProxy,this.proxy=e.proxy,this.cache=void 0===e.cache||e.cache,this.username=e.username,this.password=e.password,e.params?this.params=e.params.slice(0):this.params=[],e.expand?this.expand=e.expand.slice(0):this.expand=[],this.globalProxy=e.globalProxy,this.localiser=e.localiser):(this.url=e,this.useProxy=!1,this.cache=!0,this.params=[],this.expand=[]),n&&this.extractParamsFromMap(n)}return i(t,[{key:"extractParamsFromMap",value:function(t){this.globalProxy=this.globalProxy||t.get("proxy"),this.localiser=this.localiser||t.get("localiser")}},{key:"clone",value:function(){return new t(this)}},{key:"finalize",value:function(){var e=this;this.cache||(e=this.clone().addParam(Math.random().toString(36).substring(7)));var n=this.localiser?this.localiser.selectL10N(e.url):e.url;e.params.length&&(-1===n.search(/\?/)?n+="?":n+="&",n+=e.params.join("&"));var i=!0,r=!1,o=void 0;try{for(var a,s=e.expand[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n=t.expandTemplate_(n,l)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}if(!0===e.useProxy||void 0===e.useProxy&&e.proxy){var u=e.proxy||this.globalProxy;if(!u)throw new Error("No proxy configured. Either configure a local or global proxy if you want to use the option useProxy.");return t.expandTemplate_(u,{paramName:"url",paramValue:t.encodeTemplate_(n),required:!0})}return n}},{key:"addParam",value:function(t){return this.params.push(t),this}},{key:"expandTemplate",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.expand.findIndex(function(e){return e.paramName===t});i>=0&&this.expand.splice(i,1);return e=function t(n){return"string"===r.default.type(n)?encodeURIComponent(n):"array"===r.default.type(e)?n.map(function(e){return t(e)}):n}(e),this.expand.push({paramName:t,paramValue:e,required:n}),this}},{key:"useProxyFor",value:function(e){return new t({useProxy:this.useProxy,proxy:this.proxy,url:e})}},{key:"extend",value:function(t){var e=this.clone();return e.url+=t,e}}],[{key:"extractFromConfig",value:function(e,n,i,a){return e.hasOwnProperty(n)?e.hasOwnProperty("useProxy")||e.hasOwnProperty("proxy")||e.hasOwnProperty("cache")?(o.Debug.warn("Using the parameters 'useProxy' 'proxy' 'cache' directly inside a config object is considered deprecated. Please use a URLConfig object"),new t({url:e[n]||i,useProxy:e.useProxy,proxy:e.proxy,cache:e.cache},a)):r.default.isPlainObject(e[n])&&!e[n].hasOwnProperty("url")?(o.Debug.warn('The url config object is missing an "url" parameter. The software is assuming the parameter is a Localizable.'),new t({url:e[n]},a)):new t(e[n],a):null}},{key:"expandTemplate_",value:function(t,e){var n=new RegExp("{"+e.paramName+"([^}]*)}"),i=t.match(n);if(!i){if(e.required)throw new Error("required parameter "+e.paramName+" (enclosed in {}) not found in string "+t);return t}if("string"===r.default.type(e.paramValue))return t.replace(n,e.paramValue);if("array"===r.default.type(e.paramValue)){var o=i[1]||",";return t.replace(n,e.paramValue.join(o))}if("number"===r.default.type(e.paramValue)){for(var a=new RegExp("(?::|,)([^,])","g"),s=a.exec(i[1]),l=0;l<e.paramValue;l++)s=a.exec(i[1]);return t.replace(n,s[1])}}},{key:"encodeTemplate_",value:function(t){var e=t.split("}"),n="",i=void 0;for(i=0;i<e.length-1;i+=1){var r=e[i].split("{");n+=encodeURIComponent(r[0])+"{"+r[1]+"}"}return n+=encodeURIComponent(e[i])}}]),t}()},function(t,e,n){"use strict";var i=n(0),r=n(21),o=n(37),a=n(70);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,l=arguments[1];return r(this),(e=void 0!==l)&&r(l),void 0==t?new this:(n=[],e?(i=0,s=o(l,arguments[2],2),a(t,!1,function(t){n.push(s(t,i++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";t.exports=n(56)||!n(6)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(5)[t]})},function(t,e,n){for(var i,r=n(5),o=n(26),a=n(77),s=a("typed_array"),l=a("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[f[h++]])?(o(i.prototype,s,!0),o(i.prototype,l,!0)):c=!1;t.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(t,e,n){"use strict";var i=n(5),r=n(0),o=n(25),a=n(69),s=n(57),l=n(70),u=n(71),c=n(7),h=n(6),f=n(127),p=n(89),d=n(183);t.exports=function(t,e,n,v,y,g){var m=i[t],_=m,b=y?"set":"add",w=_&&_.prototype,M={},x=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(g||w.forEach&&!h(function(){(new _).entries().next()}))){var S=new _,P=S[b](g?{}:-0,1)!=S,O=h(function(){S.has(1)}),k=f(function(t){new _(t)}),C=!g&&h(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});k||((_=e(function(e,n){u(e,_,t);var i=d(new m,e,_);return void 0!=n&&l(n,y,i[b],i),i})).prototype=w,w.constructor=_),(O||C)&&(x("delete"),x("has"),y&&x("get")),(C||P)&&x(b),g&&w.clear&&delete w.clear}else _=v.getConstructor(e,t,y,b),a(_.prototype,n),s.NEED=!0;return p(_,t),M[t]=_,r(r.G+r.W+r.F*(_!=m),M),g||v.setStrong(_,t,y),_}},function(t,e,n){var i=n(5).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){var i=n(4),r=n(21),o=n(12)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},function(t,e,n){"use strict";var i=n(26),r=n(25),o=n(6),a=n(45),s=n(12);t.exports=function(t,e,n){var l=s(t),u=n(a,l,""[t]),c=u[0],h=u[1];o(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,c),i(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){"use strict";var i=n(4);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(12)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var i=n(7),r=n(36),o=n(12)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(36);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(30),r=n(15),o=n(75);t.exports=function(t){return function(e,n,a){var s,l=i(e),u=r(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var i=n(38),r=n(5),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(56)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterText=function(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):t},e.restoreText=function(t){return t?t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/"):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerModule=function(t){i.push(t)},e.getRegisteredModules=function(){return i};var i=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WindowDecorator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(18),a=n(98),s=n(32),l=n(8);n(837);e.WindowDecorator=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,r.default)("<div>").addClass("g4u-window-decorator").get(0),t.singleButton=!1,t.className=t.component.getClassName(),t.windowed=!0;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.$button_=(0,r.default)("<button>").addClass(l.cssClasses.mainButton),n.get$Element().append(n.$button_),n.component_=t.component,n.component_.get$Element().addClass("g4u-window-component"),n.$button_.addClass(l.cssClasses.hasTooltip).html(n.component_.getTitle()),(0,s.addTooltip)(n.$button_,n.component_.getTipLabel()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),i(e,[{key:"getComponent",value:function(){return this.component_}},{key:"setMap",value:function(t){var n=this;(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),this.getMap()&&this.getMap().removeControl(this.component_),t&&(t.addControl(this.component_),this.window_=new a.Window({map:t}),this.component_.on("change",function(){n.window_.updateSize(),n.window_.getInFront()}),this.window_.get$Body().append(this.component_.get$Element()),this.component_.setActive?(this.component_.getActive()&&(setTimeout(function(){return n.setWindowVisible(!0)},0),this.$button_.addClass(l.cssClasses.active)),this.$button_.on("click touch",function(){n.component_.setActive(!n.component_.getActive())}),this.component_.on("change:active",function(){var t=n.component_.getActive();setTimeout(function(){return n.setWindowVisible(t)},0),n.$button_.toggleClass(l.cssClasses.active,t)}),this.window_.on("change:visible",function(t){n.window_.getVisible()||n.component_.setActive(!1),n.dispatchEvent({type:"change:windowVisible",oldValue:t.oldValue})})):(this.$button_.on("click touch",function(){n.setWindowVisible(!n.window_.getVisible())}),this.window_.on("change:visible",function(t){n.dispatchEvent({type:"change:windowVisible",oldValue:t.oldValue})})),this.get$Element().append(this.window_.get$Element()))}},{key:"setActive",value:function(t){this.component_.setActive?this.component_.setActive(t):this.window_.setVisible(t)}},{key:"setWindowVisible",value:function(t){this.window_.setVisible(t)}},{key:"getWindowVisible",value:function(){return this.window_.getVisible()}},{key:"getFloat",value:function(){return this.component_.getFloat()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComposedControl=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(98),a=n(18),s=n(8);n(875),n(873);e.ComposedControl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=(0,r.default)("<div>");t.hasOwnProperty("element")?(0,r.default)(t.element).append(n):t.element=n.get(0),t.singleButton=!1;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.controls_=[],i.$container_=n,t.hasOwnProperty("containerClassName")&&i.$container_.addClass(t.containerClassName),i.classNameItem_=i.getClassName()+"-item",i.classNameItemFirst_=i.classNameItem_+"-first",i.classNameItemLast_=i.classNameItem_+"-last",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Control),i(e,[{key:"getControls",value:function(){return this.controls_}},{key:"get$Container",value:function(){return this.$container_}},{key:"setWindowForControl_",value:function(t){var e=new o.Window({$context:(0,r.default)(this.getMap().getViewport())});t.setWindow(e,!0)}},{key:"addClasses_",value:function(t){return t.addClass(this.classNameItemLast_),0===this.$container_.children().length?t.addClass(this.classNameItemFirst_):this.$container_.children(":last-child").removeClass(this.classNameItemLast_),t}},{key:"addControl",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getMap();if(!i)throw new Error("composed controls needs to be added to the map before they can get any controls");if(i.addControl(t),t.setWindow&&this.setWindowForControl_(t),!n.hasOwnProperty("claim")||!n.claim)if(!n.hasOwnProperty("wrap")||n.wrap){var o=(0,r.default)("<div>");n.hasOwnProperty("element")?o.append((0,r.default)(n.element)):t.set$Target(o),o.addClass(this.classNameItem_),n.hasOwnProperty("cssPosition")&&!n.cssPosition||this.addClasses_(o),t.getVisible()||o.addClass(s.cssClasses.hidden),t.on("change:visible",function(){o.toggleClass(s.cssClasses.hidden,!t.getVisible())}),this.$container_.append(o)}else(0,r.default)(n.element).addClass(this.classNameItem_),n.hasOwnProperty("cssPosition")&&!n.cssPosition||this.addClasses_((0,r.default)(n.element)),n.hasOwnProperty("element")?this.$container_.append((0,r.default)(n.element)):t.set$Target(this.$container_);t.on("change:visible",function(){return e.updateVisibility()}),t.on("change",function(t){return e.dispatchEvent(t)}),t.on("change:size",function(t){return e.dispatchEvent(t)}),this.controls_.push(t),this.changed(),this.updateVisibility()}},{key:"removeControl",value:function(t){t.get$Element().hasClass(this.classNameItem_)?t.get$Element().remove():t.get$Element().parent().hasClass(this.classNameItem_)&&t.get$Element().parent().remove(),this.controls_.splice(this.controls_.indexOf(t),1),this.getMap().removeControl(t),this.changed()}},{key:"setMap",value:function(t){var n=this;this.getMap()&&(this.controls_.forEach(function(t){n.getMap().removeControl(t)}),this.controls_=[]),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"updateVisibility",value:function(){this.setVisible(this.controls_.some(function(t){return t.getVisible()}))}}]),e}()},function(t,e){t.exports=function(){}},function(t,e,n){var i=n(139),r=n(137),o=4294967295;function a(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=i(r.prototype),a.prototype.constructor=a,t.exports=a},function(t,e,n){var i=n(40),r=Object.create,o=function(){function t(){}return function(e){if(!i(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var i=n(90),r=n(20),o=n(59);t.exports=function(t,e,n){var a=t.length;if(a<2)return a?o(t[0]):[];for(var s=-1,l=Array(a);++s<a;)for(var u=t[s],c=-1;++c<a;)c!=s&&(l[s]=i(l[s]||u,t[c],e,n));return o(r(l,1),e,n)}},function(t,e,n){var i=n(64),r=n(22),o=n(152),a=n(261),s=n(27),l=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=i(t,function(t){if(s(t))return e=l(t.length,e),!0}),a(e,function(e){return r(t,o(e))})}},function(t,e,n){var i=n(63),r=4294967294,o=Math.floor,a=Math.min;t.exports=function(t,e,n,s){e=n(e);for(var l=0,u=null==t?0:t.length,c=e!=e,h=null===e,f=i(e),p=void 0===e;l<u;){var d=o((l+u)/2),v=n(t[d]),y=void 0!==v,g=null===v,m=v==v,_=i(v);if(c)var b=s||m;else b=p?m&&(s||y):h?m&&y&&(s||!g):f?m&&y&&!g&&(s||!_):!g&&!_&&(s?v<=e:v<e);b?l=d+1:u=d}return a(u,r)}},function(t,e,n){var i=n(22),r=n(105),o=n(437),a=n(82),s=n(81),l=Array.prototype.splice;t.exports=function(t,e,n,u){var c=u?o:r,h=-1,f=e.length,p=t;for(t===e&&(e=s(e)),n&&(p=i(t,a(n)));++h<f;)for(var d=0,v=e[h],y=n?n(v):v;(d=c(p,y,d,u))>-1;)p!==t&&l.call(p,d,1),l.call(t,d,1);return t}},function(t,e,n){var i=n(27);t.exports=function(t){return i(t)?t:[]}},function(t,e,n){var i=n(110),r=n(102),o=n(147),a=n(22),s=n(82),l=n(109),u=Math.min;t.exports=function(t,e,n){for(var c=n?o:r,h=t[0].length,f=t.length,p=f,d=Array(f),v=1/0,y=[];p--;){var g=t[p];p&&e&&(g=a(g,s(e))),v=u(g.length,v),d[p]=!n&&(e||h>=120&&g.length>=120)?new i(p&&g):void 0}g=t[0];var m=-1,_=d[0];t:for(;++m<h&&y.length<v;){var b=g[m],w=e?e(b):b;if(b=n||0!==b?b:0,!(_?l(_,w):c(y,w,n))){for(p=f;--p;){var M=d[p];if(!(M?l(M,w):c(t[p],w,n)))continue t}_&&_.push(w),y.push(b)}}return y}},function(t,e,n){var i=n(20);t.exports=function(t){return null!=t&&t.length?i(t,1):[]}},function(t,e){t.exports=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}},function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},function(t,e,n){var i=n(493),r=n(231)(i);t.exports=r},function(t,e,n){var i=n(40),r=n(63),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return o;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=l.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):s.test(t)?o:+t}},function(t,e,n){var i=n(61);t.exports=function(t){return"function"==typeof t?t:i}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var i=n(11),r=n(63),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!r(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var i=n(91),r=n(62);t.exports=function(t,e){for(var n=0,o=(e=i(e,t)).length;null!=t&&n<o;)t=t[r(e[n++])];return n&&n==o?t:void 0}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var i=n(551),r=n(544),o=n(542),a=n(541),s=n(540);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var i=n(66)(n(23),"Map");t.exports=i},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var i=n(570),r=n(53),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(t){return r(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SourceServerVector=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(2)),o=l(n(1)),a=n(41),s=n(13);function l(t){return t&&t.__esModule?t:{default:t}}e.SourceServerVector=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=(0,a.copy)(t),i=(0,a.take)(t,"url"),o=(0,a.take)(t,"type")||"";n.loader=function(){return c.loader.apply(c,arguments)};var s=t.loadingStrategy||"ALL";if("BBOX"===s){var l=t.bboxRatio||1;if(l<1)throw new Error("The bboxRatio should not be smaller than 1");var u=[0,0,0,0];n.strategy=function(t){if(r.default.extent.containsExtent(u,t))return[t];var e=(t[2]-t[0])/2*(l-1),n=(t[3]-t[1])/2*(l-1);return[u=[t[0]-e,t[1]-n,t[2]+e,t[3]+n]]}}else n.strategy=r.default.loadingstrategy.all;var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));c.localiser_=t.localiser,c.localised_=t.localised||!1,c.loadingStrategy_=s,c.urlTemplate=i,c.type_=o;var h={};switch(t.hasOwnProperty("defaultStyle")&&(h.defaultStyle=t.defaultStyle),t.hasOwnProperty("extractStyles")&&(h.extractStyles=t.extractStyles),c.type_){case"KML":h.showPointNames=!1,c.format_=new r.default.format.KML(h),c.dataType_="text xml";break;case"GeoJSON":c.format_=new r.default.format.GeoJSON(h),c.dataType_="text json";break;default:throw new Error(c.type_+" is not supported by SourceServerVector!")}return c.refresh_=0,t.hasOwnProperty("refresh")&&c.setRefresh(t.refresh),c.refreshTimeoutId_=null,c.doClear_=!1,c.bboxProjection_=t.bboxProjection,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.source.Vector),i(e,[{key:"loader",value:function(t,e,n){var i=this,a=this.urlTemplate.clone();if("BBOX"===this.loadingStrategy_){var l=r.default.proj.transformExtent(t,n,this.bboxProjection_);a.expandTemplate("bboxleft",l[0].toString()).expandTemplate("bboxbottom",l[1].toString()).expandTemplate("bboxright",l[2].toString()).expandTemplate("bboxtop",l[3].toString()).expandTemplate("resolution",e.toString(),!1)}this.refresh_&&(this.refreshTimeoutId_&&clearTimeout(this.refreshTimeoutId_),this.refreshTimeoutId_=setTimeout(function(){i.doClear_=!0,i.loader(t,e,n)},this.refresh_)),this.localised_&&(a.cache=!1);var u=a.finalize();o.default.ajax({url:u,dataType:this.dataType_,beforeSend:function(){return i.dispatchEvent("vectorloadstart")},success:function(t){a.useProxy&&/xml$/.test(i.dataType_)&&(t=i.addProxyToHrefTags(t)),i.doClear_&&(i.clear(),i.doClear_=!1);var e=i.format_.readFeatures(t,{featureProjection:n});i.addFeatures(e),i.dispatchEvent("vectorloadend")},error:function(){s.Debug.error("Getting Feature resource failed with url "+u),i.dispatchEvent("vectorloaderror")},headers:this.localiser_?{"Accept-Language":this.localiser_.getCurrentLang()}:{}})}},{key:"setRefresh",value:function(t){this.refresh_=t>0?t:0}},{key:"addProxyToHrefTags",value:function(t){var e,n=t.getElementsByTagName("href"),i=void 0;for(i=0,e=n.length;i<e;i++)if(n[i].textContent)n[i].textContent=this.urlTemplate.useProxyFor(n[i].textContent.trim()).finalize();else{if(!n[i].innerHTML)throw new Error("Can't prepend proxy inside KML (textContent and innerHTML missing)");n[i].innerHTML=this.urlTemplate.useProxyFor(n[i].innerHTML.trim()).finalize()}return t}},{key:"getUrlTemplate",value:function(){return this.urlTemplate}},{key:"setUrlTemplate",value:function(t){this.urlTemplate=t}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerMixin=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(67);e.BaseLayerMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"initialize",value:function(t){this.groupLayer_=t.groupLayer,this.on("change:available",this.onChangeAvailable.bind(this)),this.on("change:visible",this.onChangeVisible.bind(this)),this.isBaseLayer=!0}},{key:"onChangeAvailable",value:function(){!this.get("available")&&this.getVisible()&&this.groupLayer_.recursiveForEach(function(t){t instanceof r.GroupLayer||!t.get("available")||t.setVisible(!0)})}},{key:"onChangeVisible",value:function(){var t=this;if(this.getVisible())this.groupLayer_.recursiveForEach(function(e){e instanceof r.GroupLayer||e===t||e.setVisible(!1)});else{var e=!1;this.groupLayer_.recursiveForEach(function(t){t instanceof r.GroupLayer||!t.getVisible()||(e=!0)}),e||this.setVisible(!0)}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.LayerLoadProcessCountMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"initialize",value:function(){var t=this;this.debounceLoadComplete_=40,this.isLoading_=!1,this.loadProcessCount_=0,this.getSource()&&this.registerCounters_(),this.on("change:source",function(){return t.registerCounters_()})}},{key:"registerCounters_",value:function(){var t=this,e=!1;this.getSource().on(["vectorloadstart","tileloadstart","imageloadstart"],function(){t.loadProcessCount_+=1,t.isLoading_||(t.isLoading_=!0,t.dispatchEvent("loadcountstart")),e=!0}),this.getSource().on(["vectorloadend","vectorloaderror","tileloadend","tileloaderror","imageloadend","imageloaderror"],function(){t.loadProcessCount_-=1,0===t.loadProcessCount_&&(e=!1,t.getProvidedMap().afterPostrender(function(){e||(t.isLoading_=!1,t.dispatchEvent("loadcountend"))}))})}},{key:"isLoading",value:function(){return this.isLoading_}}]),t}()},function(t,e,n){"use strict";function i(){return""}function r(t,e,n){return t.slice(e,n).replace(/\S/g," ")}t.exports=function(t,e){for(var n,o,a=!1,s=!1,l=0,u="",c=!1===(e=e||{}).whitespace?i:r,h=0;h<t.length;h++){if(n=t[h],o=t[h+1],!s&&'"'===n)"\\"===t[h-1]&&"\\"!==t[h-2]||(a=!a);if(!a)if(s||n+o!=="//"){if(1===s&&n+o==="\r\n"){s=!1,u+=c(t,l,++h),l=h;continue}if(1===s&&"\n"===n)s=!1,u+=c(t,l,h),l=h;else{if(!s&&n+o==="/*"){u+=t.slice(l,h),l=h,s=2,h++;continue}if(2===s&&n+o==="*/"){s=!1,u+=c(t,l,++h+1),l=h+1;continue}}}else u+=t.slice(l,h),l=h,s=1,h++}return u+(s?c(t.substr(l)):t.substr(l))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G4UMap=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=g(n(2)),s=g(n(1)),l=g(n(163)),u=n(596);n(334);var c=n(333),h=n(41),f=n(8),p=n(332),d=n(13);n(809);var v=n(134),y=n(331);function g(t){return t&&t.__esModule?t:{default:t}}e.G4UMap=function(t){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a={},g={},m=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{controls:[],interactions:[],view:null}));m.set("guide4youVersion","v3.1.0"),m.set("options",o),m.defaultInteractions_=new Map,m.supersedingInteractions_=new Map,m.modules_=[],m.addModules((0,v.getRegisteredModules)()),m.set("ready",!1),m.on(["change:ready","change:ready:ui","change:ready:layers"],function(t){m.get(t.key)&&m.dispatchEvent(t.key)});var _=new y.PopupModifierManager;if(m.set("popupModifiers",_),o.popupModifiers&&m.on("change:featurePopup",function(){var t=!0,e=!1,n=void 0;try{for(var i,r=Object.keys(o.popupModifiers)[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value,s=o.popupModifiers[a];s.setMap(m),_.register(a,s)}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}}),"string"==typeof t&&"#"!==t[0]?m.setTarget((0,s.default)("#"+t).get(0)):m.setTarget((0,s.default)(t).get(0)),(0,s.default)(m.getTarget()).children().addClass(f.cssClasses.desktop),"object"===(void 0===n?"undefined":i(n)))a=n;else{if("string"!=typeof n)throw new Error("Unrecognised type for parameter configOrFileName!");m.set("configFileName",n),m.set("defaultLayerConfigFileName",r)}if("object"===(void 0===r?"undefined":i(r)))g=r;else{if("string"!=typeof r)throw new Error("Unrecognised type for parameter layerConfigOrFileName!");m.set("layerConfigFileName",r)}function b(t){return s.default.ajax({url:t,dataType:"text"}).then(function(e){try{return JSON.parse((0,l.default)(e))}catch(e){d.Debug.error("The config file "+t+" couldn't be parsed."),d.Debug.error(e)}}).fail(function(e){d.Debug.error("The config file "+t+" couldn't be loaded."),d.Debug.error(e)})}m.dispatchEvent("beforeConfigLoad"),m.set("mapConfigReady",!1),m.set("layerConfigReady",!1);var w=[],M=m.get("configFileName");M&&w.push(b(M).then(function(t){a=t}));var x=m.get("layerConfigFileName");return x&&w.push(b(x).then(function(t){g=t})),Promise.all(w).then(function(){m.set("mapConfigReady",!0),m.set("layerConfigReady",!0),a=(0,h.mergeWithDefaults)(a,p.defaults.config),m.set("mapConfig",a),m.set("layerConfig",g);var t=0;m.on("change:configFileName",function(e){m.set("ready",!1),t++,m.oldMapConfigs_=m.oldMapConfigs_||{},m.oldMapConfigs_[e.oldValue]=m.get("mapConfig"),m.oldMapConfigs_.hasOwnProperty(m.get("configFileName"))?m.set("mapConfig",m.oldMapConfigs_[m.get("configFileName")]):(m.set("mapConfigReady",!1),b(m.get("configFileName")).then(function(t){m.set("mapConfigReady",!0),m.set("mapConfig",t)}).always(function(){0===--t&&m.set("ready",!0)}))}),m.on("change:layerConfigFileName",function(e){m.set("ready",!1),t++,m.oldLayerConfigs_=m.oldLayerConfigs_||{},m.oldLayerConfigs_[e.oldValue]=m.get("layerConfig"),m.oldLayerConfigs_.hasOwnProperty(m.get("layerConfigFileName"))?m.set("layerConfig",m.oldLayerConfigs_[m.get("layerConfigFileName")]):(m.set("layerConfigReady",!1),b(m.get("layerConfigFileName")).then(function(t){m.set("layerConfigReady",!0),m.set("layerConfig",t)}).always(function(){0===--t&&m.set("ready",!0)}))}),m.set("proxy",a.proxy);var e=void 0;if(o.localiser)m.set("localiser",o.localiser);else{var n={};if(a.hasOwnProperty("languageSettings")){var i=a.languageSettings;n.currentLanguage=i.currentLanguage,i.hasOwnProperty("defaultLanguage")&&(n.defaultLanguage=i.defaultLanguage),i.hasOwnProperty("languageFile")&&(n.languageFile=i.languageFile),i.hasOwnProperty("availableLanguages")&&(n.availableLanguages=i.availableLanguages)}var r=new c.L10N(n);m.set("localiser",r),e=r.ajaxGetLanguageFile()}return m.asSoonAs("ready",!0,function(){m.get("localiser").on("change:language",function(){var t=m.getLayerGroup().getIdsVisibilities();m.get("configurator").configureLayers(),m.get("configurator").configureUI(),m.getLayerGroup().setIdsVisibilities(t)})}),m.dispatchEvent("afterConfigLoad"),e}).then(function(){m.set("configurator",new u.MapConfigurator(m)),m.dispatchEvent("afterConfiguring"),m.get("ready:ui")&&m.get("ready:layers")&&m.set("ready",!0),m.on(["change:ready:ui","change:ready:layers"],function(t){m.get(t.key)||m.set("ready",!1),m.get("ready:ui")&&m.get("ready:layers")&&m.set("ready",!0)})}).catch(d.Debug.defaultErrorHandler),m}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Map),r(e,[{key:"getControlsByName",value:function(t){return this.controlsByName[t]||[]}},{key:"addModule",value:function(t){t.setMap(this),this.modules_.push(t)}},{key:"addModules",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;this.addModule(a)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"afterPostrender",value:function(t){this.once("postrender",function(){return setTimeout(t,0)})}},{key:"getModules",value:function(){return this.modules_}},{key:"removeInteraction",value:function(t){var n=void 0;this.defaultInteractions_.forEach(function(e){(n=e.indexOf(t))>-1&&e.splice(n,1)}),this.supersedingInteractions_.forEach(function(e){(n=e.indexOf(t))>-1&&e.splice(n,1)}),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeInteraction",this).call(this,t)}},{key:"removeInteractions",value:function(){for(;this.getInteractions()&&this.getInteractions().getLength();){var t=!0,e=!1,n=void 0;try{for(var i,r=this.getInteractions().getArray()[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;this.removeInteraction(o)}}catch(t){e=!0,n=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw n}}}}},{key:"addInteraction",value:function(){throw new Error("Use addDefaultInteraction or addSupersedingInteraction")}},{key:"addDefaultInteraction",value:function(t,n){var i=!0,r=!1,a=void 0;try{for(var s,l=t.split(" ")[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this.defaultInteractions_.has(u)?this.defaultInteractions_.get(u).push(n):this.defaultInteractions_.set(u,[n])}}catch(t){r=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addInteraction",this).call(this,n)}},{key:"deactivateInteractions",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.defaultInteractions_.get(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setActive(!1)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}var a=!0,s=!1,l=void 0;try{for(var u,c=this.supersedingInteractions_.get(t)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value.setActive(!1)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}}},{key:"activateInteractions",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,o=this.getDefaultInteractions(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setActive(!0)}}catch(t){n=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"getDefaultInteractions",value:function(t){return this.defaultInteractions_.get(t)}},{key:"addSupersedingInteraction",value:function(t,n){var i=this,r=t.split(" "),a=function(){var t=!0,e=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var l=a.value,u=!0,c=!1,h=void 0;try{for(var f,p=i.supersedingInteractions_.get(l)[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;n!==d&&d.setActive(!1)}}catch(t){c=!0,h=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw h}}if(i.defaultInteractions_.get(l)){var v=!0,y=!1,g=void 0;try{for(var m,_=i.defaultInteractions_.get(l)[Symbol.iterator]();!(v=(m=_.next()).done);v=!0){m.value.setActive(!1)}}catch(t){y=!0,g=t}finally{try{!v&&_.return&&_.return()}finally{if(y)throw g}}}}}catch(t){e=!0,o=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw o}}},s=function(){var t=!0,e=!1,n=void 0;try{for(var o,a=r[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(i.defaultInteractions_.get(s)){var l=!0,u=!1,c=void 0;try{for(var h,f=i.defaultInteractions_.get(s)[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){h.value.setActive(!0)}}catch(t){u=!0,c=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}},l=!0,u=!1,c=void 0;try{for(var h,f=r[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var p=h.value;this.supersedingInteractions_.has(p)?this.supersedingInteractions_.get(p).push(n):this.supersedingInteractions_.set(p,[n])}}catch(t){u=!0,c=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}n.getActive()&&a(),n.on("change:active",function(t){t.oldValue!==n.getActive()&&(n.getActive()?(i.activating_=!0,a(),i.activating_=!1):(i.interactionDecativationTimeout_&&clearTimeout(i.interactionDecativationTimeout_),i.activating_||(i.interactionDecativationTimeout_=setTimeout(s,500))))}),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addInteraction",this).call(this,n)}},{key:"setLayerGroup",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||t.provideMap(this),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setLayerGroup",this).call(this,t)}},{key:"removeControls",value:function(){var t=this,e=this.getControls();if(e)for(;e.getLength()>0;)e.forEach(function(e){return t.removeControl(e)}),e=this.getControls()}}]),e}()},function(t,e,n){"use strict";var i=n(5),r=n(17),o=n(56),a=n(121),s=n(26),l=n(69),u=n(6),c=n(71),h=n(44),f=n(15),p=n(278),d=n(73).f,v=n(16).f,y=n(170),g=n(89),m="prototype",_="Wrong index!",b=i.ArrayBuffer,w=i.DataView,M=i.Math,x=i.RangeError,S=i.Infinity,P=b,O=M.abs,k=M.pow,C=M.floor,E=M.log,L=M.LN2,A=r?"_b":"buffer",j=r?"_l":"byteLength",T=r?"_o":"byteOffset";function I(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,u=l>>1,c=23===e?k(2,-24)-k(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=O(t))!=t||t===S?(r=t!=t?1:0,i=l):(i=C(E(t)/L),t*(o=k(2,-i))<1&&(i--,o*=2),(t+=i+u>=1?c/o:c*k(2,1-u))*o>=2&&(i++,o/=2),i+u>=l?(r=0,i=l):i+u>=1?(r=(t*o-1)*k(2,e),i+=u):(r=t*k(2,u-1)*k(2,e),i=0));e>=8;a[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[h++]=255&i,i/=256,s-=8);return a[--h]|=128*f,a}function N(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,u=t[l--],c=127&u;for(u>>=7;s>0;c=256*c+t[l],l--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return i?NaN:u?-S:S;i+=k(2,e),c-=a}return(u?-1:1)*i*k(2,c-e)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function D(t){return[255&t]}function R(t){return[255&t,t>>8&255]}function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function V(t){return I(t,52,8)}function z(t){return I(t,23,4)}function $(t,e,n){v(t[m],e,{get:function(){return this[n]}})}function U(t,e,n,i){var r=p(+n);if(r+e>t[j])throw x(_);var o=t[A]._b,a=r+t[T],s=o.slice(a,a+e);return i?s:s.reverse()}function G(t,e,n,i,r,o){var a=p(+n);if(a+e>t[j])throw x(_);for(var s=t[A]._b,l=a+t[T],u=i(+r),c=0;c<e;c++)s[l+c]=u[o?c:e-c-1]}if(a.ABV){if(!u(function(){b(1)})||!u(function(){new b(-1)})||u(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var W,Y=(b=function(t){return c(this,b),new P(p(t))})[m]=P[m],q=d(P),X=0;q.length>X;)(W=q[X++])in b||s(b,W,P[W]);o||(Y.constructor=b)}var H=new w(new b(2)),Q=w[m].setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||l(w[m],{setInt8:function(t,e){Q.call(this,t,e<<24>>24)},setUint8:function(t,e){Q.call(this,t,e<<24>>24)}},!0)}else b=function(t){c(this,b,"ArrayBuffer");var e=p(t);this._b=y.call(new Array(e),0),this[j]=e},w=function(t,e,n){c(this,w,"DataView"),c(t,b,"DataView");var i=t[j],r=h(e);if(r<0||r>i)throw x("Wrong offset!");if(r+(n=void 0===n?i-r:f(n))>i)throw x("Wrong length!");this[A]=t,this[T]=r,this[j]=n},r&&($(b,"byteLength","_l"),$(w,"buffer","_b"),$(w,"byteLength","_l"),$(w,"byteOffset","_o")),l(w[m],{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return F(U(this,4,t,arguments[1]))},getUint32:function(t){return F(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return N(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return N(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){G(this,1,t,D,e)},setUint8:function(t,e){G(this,1,t,D,e)},setInt16:function(t,e){G(this,2,t,R,e,arguments[2])},setUint16:function(t,e){G(this,2,t,R,e,arguments[2])},setInt32:function(t,e){G(this,4,t,B,e,arguments[2])},setUint32:function(t,e){G(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){G(this,4,t,z,e,arguments[2])},setFloat64:function(t,e){G(this,8,t,V,e,arguments[2])}});g(b,"ArrayBuffer"),g(w,"DataView"),s(w[m],a.VIEW,!0),e.ArrayBuffer=b,e.DataView=w},function(t,e,n){"use strict";var i=n(21);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}(t)}},function(t,e,n){var i=n(5),r=n(168).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(36)(a);t.exports=function(){var t,e,n,u=function(){var i,r;for(l&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(u)}}else n=function(){r.call(i,u)};else{var h=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var i,r,o,a=n(37),s=n(297),l=n(186),u=n(190),c=n(5),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,v=c.Dispatch,y=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){m.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),e)},i(y),y},p=function(t){delete g[t]},"process"==n(36)(h)?i=function(t){h.nextTick(a(m,t,1))}:v&&v.now?i=function(t){v.now(a(m,t,1))}:d?(o=(r=new d).port2,r.port1.onmessage=_,i=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";var i=n(55),r=n(287),o=n(87),a=n(30);t.exports=n(178)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i=n(19),r=n(75),o=n(15);t.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>s;)e[s++]=t;return e}},function(t,e,n){var i=n(708);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(94),r=n(12)("iterator"),o=n(87);t.exports=n(38).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(16),r=n(78);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(87),r=n(12)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(12)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(128),r=n(45);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){"use strict";var i=n(74),r=n(78),o=n(89),a={};n(26)(a,n(12)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var i=n(56),r=n(0),o=n(25),a=n(26),s=n(87),l=n(177),u=n(89),c=n(28),h=n(12)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,y,g){l(n,e,d);var m,_,b,w=function(t){if(!f&&t in P)return P[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",x="values"==v,S=!1,P=t.prototype,O=P[h]||P["@@iterator"]||v&&P[v],k=O||w(v),C=v?x?w("entries"):k:void 0,E="Array"==e&&P.entries||O;if(E&&(b=c(E.call(new t)))!==Object.prototype&&b.next&&(u(b,M,!0),i||"function"==typeof b[h]||a(b,h,p)),x&&O&&"values"!==O.name&&(S=!0,k=function(){return O.call(this)}),i&&!g||!f&&!S&&P[h]||a(P,h,k),s[e]=k,s[M]=p,v)if(m={values:x?k:w("values"),keys:y?k:w("keys"),entries:C},g)for(_ in m)_ in P||o(P,_,m[_]);else r(r.P+r.F*(f||S),e,m);return m}},function(t,e,n){var i=n(44),r=n(45);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";var i=n(44),r=n(45);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var i=n(7),r=n(185).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(7),r=n(4),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(37)(Function.call,n(29).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var i=n(5).document;t.exports=i&&i.documentElement},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(132)("keys"),r=n(77);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(5),r=n(38),o=n(56),a=n(303),s=n(16).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(7),r=n(5).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrintButton=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(18),a=n(32),s=n(8);n(828);e.PrintButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-printbutton",t.element=(0,r.default)("<button>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.get$Element().addClass(n.className_).addClass(s.cssClasses.mainButton).html(n.getLocaliser().localiseUsingDictionary("PrintButton title")),(0,a.addTooltip)(n.get$Element(),n.getLocaliser().localiseUsingDictionary("PrintButton tipLabel")),n.get$Element().on("click",function(){return n.onClick_()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),i(e,[{key:"onClick_",value:function(){var t=function(t,e){(0,r.default)(t).innerWidth(e[0]),(0,r.default)(t).innerHeight(e[1])};if(function(){try{return this.getMap().getViewport().getElementsByTagName("canvas")[0].getContext("2d").getImageData(1,1,1,1),!1}catch(t){return!0}}()){var e=(0,r.default)(this.getMap().getViewport()),n=e.parent(),i=n.clone().empty().append(e);t(i,this.getMap().getSize());var o=(0,r.default)("body"),a=(0,r.default)("<body>").append(i);document.body=a.get(0),window.print(),document.body=o.get(0),n.append(e)}else{var s=window.open("","_blank"),l=(0,r.default)("<div>").append((0,r.default)("style").clone()).append((0,r.default)('link[type="text/css"]').clone()),u=this.getMap().getViewport(),c=u.parentNode.cloneNode(!0);t(c,this.getMap().getSize());var h=u.getElementsByTagName("canvas")[0];c.getElementsByTagName("canvas")[0].getContext("2d").drawImage(h,0,0);var f=s.document;f.open(),f.write("<!doctype html>"),f.write("<html>"),f.write("<head>"),f.write("<title>"),f.write(this.getLocaliser().localiseUsingDictionary("PrintButton windowTitle")),f.write("</title>"),f.write(l.html()),f.write('<script type="text/javascript">'),f.write("window.onload = function () {\n"),f.write("\twindow.focus();\n"),f.write("\tsetTimeout( function () {\n"),f.write("\t\twindow.print();\n"),f.write("\t\twindow.close();\n"),f.write("\t}, 50);\n"),f.write("};"),f.write("<\/script>"),f.write("</head>"),f.write("</html>"),f.close(),s.onload=function(){f.getElementsByTagName("body")[0].appendChild(c)},s.focus()}this.dispatchEvent("click")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dropdown=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(2)),o=u(n(1)),a=n(8);n(68),n(839);var s=n(39),l=n(3);function u(t){return t&&t.__esModule?t:{default:t}}o.default.extend(o.default.easing,{easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n}});e.Dropdown=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.className_=t.className||"g4u-dropdown",n.classNames_={entry:n.className_+"-entry",selected:n.className_+"-selected",ghost:n.className_+"-ghostentry"},n.$element_=(0,o.default)("<div>").addClass(n.className_),n.$ghostentry=(0,o.default)('<button tabindex="-1">').addClass(n.classNames_.ghost).html(t.ghostentry||"no entries"),n.slideDuration_=t.slideDuration||400,n.entriesArray_=[],n.selectedIndex_=-1,n.setUpKeyboardHandling_(),n.listenAt(n.$element_).on("focus",function(){n.selectedIndex_>-1&&n.entriesArray_[n.selectedIndex_].$element.focus()}),n.listenAt(n.$element_).on("mousemove",function(t){t.stopPropagation()}),n.slideUp(!0);var i=void 0;return n.listenAt(n.$element_).on("click",function(){i=!0}),n.listenAt([document]).on("click",function(){i?i=!1:n.collapse_&&n.slideUp()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,l.mixin)(r.default.Object,s.ListenerOrganizerMixin)),i(e,[{key:"detach",value:function(){this.detachAllListeners()}},{key:"getValue",value:function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].value}},{key:"getText",value:function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].text}},{key:"setUpKeyboardHandling_",value:function(){var t=this;this.listenAt(this.$element_).on("keydown",function(e){switch(e.which){case a.keyCodes.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),t.selectedIndex_<t.entriesArray_.length-1&&(t.entriesArray_[t.selectedIndex_+1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_+1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_+=1);break;case a.keyCodes.ARROW_UP:e.preventDefault(),e.stopPropagation(),t.selectedIndex_>0?(t.entriesArray_[t.selectedIndex_-1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_-1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_-=1):(t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_=-1,t.dispatchEvent({type:"leave:backwards",originalEvent:e}));break;case a.keyCodes.TAB:e.shiftKey?t.dispatchEvent({type:"leave:backwards",originalEvent:e}):t.dispatchEvent({type:"leave:forwards",originalEvent:e});break;case a.keyCodes.ENTER:e.stopPropagation(),e.preventDefault(),t.select$Entry_(t.entriesArray_[t.selectedIndex_].$element)}}),this.listenAt(window).on("keydown",function(e){t.collapse_&&e.which===a.keyCodes.ESCAPE&&(t.slideUp(),t.dispatchEvent("close"))})}},{key:"get$Element",value:function(){return this.$element_}},{key:"getLength",value:function(){return this.entriesArray_.length}},{key:"addEntry",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e||t;var i=this.getLength();this.setLength(i+1);var r=this.entriesArray_[i];r.text=e,r.$element.html(e),r.value=t,n&&(r.$element.addClass(this.classNames_.selected),this.selectedIndex_=i)}},{key:"setActivated",value:function(t,e){this.entriesArray_.find(function(e){return e.value===t}).$element.toggleClass(a.cssClasses.active,e)}},{key:"setFastMode",value:function(t){this.fastMode_=t}},{key:"setEntries",value:function(t,e){e=e||t,this.setLength(t.length);for(var n=0,i=t.length;n<i;n++)this.entriesArray_[n].text=e[n],this.entriesArray_[n].$element.html(e[n]),this.entriesArray_[n].value=t[n]}},{key:"select$Entry_",value:function(t){t.hasClass(this.classNames_.selected)||(t.addClass(this.classNames_.selected),this.selectedIndex_>-1&&this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected)),this.selectedIndex_=this.entriesArray_.findIndex(function(e){return e.$element===t}),this.slideUp(),this.dispatchEvent("select")}},{key:"setLength",value:function(t){var e=this;this.selectedIndex_>-1&&(this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected),this.selectedIndex_=-1);var n=void 0,i=void 0;if(0===this.entriesArray_.length&&this.$element_.empty(),t>this.entriesArray_.length){var r=function(){var t=(0,o.default)('<button tabindex="-1">').addClass(e.classNames_.entry).hide();t.on("click",function(){return e.select$Entry_(t)}),t.focus(),e.$element_.append(t),e.entriesArray_.push({$element:t}),t.slideDown({duration:e.slideDuration_})};for(n=this.entriesArray_.length,i=t;n<i;n++)r()}else if(t<this.entriesArray_.length){for(n=this.entriesArray_.length-1,i=t;n>=i;n--)this.entriesArray_[n].$element.slideUp({duration:this.slideDuration_,complete:function(){e.entriesArray_.pop(),e.$element_.children().last().remove()}});this.selectedIndex_>=t&&(this.selectedIndex_=t-1)}}},{key:"showGhostEntry",value:function(){this.setLength(0),this.$element_.append(this.$ghostentry),this.slideDown()}},{key:"focus",value:function(){this.entriesArray_.length>=0&&(this.selectedIndex_<0&&(this.selectedIndex_=0,this.entriesArray_[0].$element.addClass(this.classNames_.selected)),this.entriesArray_[this.selectedIndex_].$element.focus())}},{key:"slideUp",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n){t.collapse_=!1;var i=t.slideDuration_;(e||t.fastMode_)&&(i=0),t.$element_.slideUp({duration:i,complete:function(){t.$element_.addClass(a.cssClasses.hidden),n()},easing:"easeInCirc"})})}},{key:"slideDown",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n){if(t.$element_.children().length>0){var i=t.slideDuration_;(e||t.fastMode_)&&(i=0),t.$element_.removeClass(a.cssClasses.hidden),t.$element_.slideDown({easing:"easeOutCirc",complete:function(){t.collapse_=!0,n()},duration:i})}})}},{key:"clear",value:function(){this.slideUp(),this.$element_.empty(),this.entriesArray_=[],this.selectedIndex_=-1}},{key:"isSelectable",value:function(){return this.entriesArray_.length>0}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeasurementButton=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=h(n(2)),o=h(n(1)),a=n(18),s=n(8),l=n(85);n(845);var u=n(3),c=n(79);function h(t){return t&&t.__esModule?t:{default:t}}e.MeasurementButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,o.default)("<div>").get(0),t.className=t.className||"g4u-measurement",t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(n.style_=t.style||"#defaultStyle",!t.hasOwnProperty("type"))throw new Error("Measurement needs a type (Polygon, LineString, etc)");return n.type_=t.type,n.dimension_=t.dimension||1,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+n.dimension_+" title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+n.dimension_+" tipLabel")),n.atDrawEnd_=t.atDrawEnd,n.value_=0,n.$valueDisplay_=(0,o.default)("<span>").html("0"),n.$unitPlaceholder_=(0,o.default)("<span>"),n.on("change:active",function(){return n.handleActiveChange_()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,u.mixin)(a.Control,c.ActivatableMixin)),i(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&(this.getMap().getLayers().remove(this.layer_),this.getMap().removeInteraction(this.drawInteraction_)),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){if(this.get$Element().append(this.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+this.dimension_+" measured")).append((0,o.default)("<span>").addClass(this.className_+"-value").append(this.$valueDisplay_).append("&nbsp;").append(this.$unitPlaceholder_)).append("<br/>").append(this.getLocaliser().localiseUsingDictionary("MeasurementButton doubleClickEndsMeasurement")),this.measurementProjection_=t.get("measurementProjection"),!this.measurementProjection_)throw new Error("MeasurementButton needs a measurementProjection. This is a global option of the map.");1===this.dimension_&&this.$unitPlaceholder_.replaceWith(this.measurementProjection_.getUnits()),2===this.dimension_&&this.$unitPlaceholder_.replaceWith(this.measurementProjection_.getUnits()+"&sup2;"),this.measurementTransform_=r.default.proj.getTransform(t.getView().getProjection(),this.measurementProjection_),this.source_=new r.default.source.Vector({projection:this.measurementProjection_}),this.layer_=new l.VectorLayer({source:this.source_}),this.layer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.layer_),t.getLayers().insertAt(1,this.layer_),this.drawInteraction_=new r.default.interaction.Draw({source:this.source_,type:this.type_,style:t.get("styling").getStyle(this.style_)}),this.drawInteraction_.setActive(!1),t.addSupersedingInteraction("singleclick dblclick pointermove",this.drawInteraction_);var i=null;this.drawInteraction_.on("drawstart",function(t){n.clear(),i=t.feature,n.dispatchEvent("measurement")}),t.on("click",function(){if(n.getActive()){var t=i.getGeometry().clone();t.applyTransform(n.measurementTransform_),1===n.dimension_?n.setValue(t.getLength()):2===n.dimension_&&n.setValue(t.getArea())}}),(0,o.default)(t.getViewport()).parent().on("keydown",function(t){t.which===s.keyCodes.ESCAPE&&n.drawInteraction_.getActive()&&n.drawInteraction_.finishDrawing()}),this.drawInteraction_.on("drawend",function(){switch(n.atDrawEnd_){case"newMeasurement":break;case"closeWindow":n.setActive(!1);break;default:n.drawInteraction_.setActive(!1)}}),this.activateOnMapChange()}}},{key:"getValue",value:function(){return this.value_}},{key:"setValue",value:function(t){this.value_=t,this.$valueDisplay_.html(""+Math.round(t)),this.changed()}},{key:"getType",value:function(){return this.type_}},{key:"handleActiveChange_",value:function(){var t=this.getActive();if(this.layer_.setVisible(t),t){this.getMap().get("localiser").isRtl()?this.get$Element().prop("dir","rtl"):this.get$Element().prop("dir",void 0);var e=this.getMap().get("featurePopup");e&&e.setVisible(!1),(0,o.default)(this.getMap().getViewport()).addClass(s.cssClasses.crosshair),this.clear(),this.drawInteraction_.setActive(!0)}else(0,o.default)(this.getMap().getViewport()).removeClass(s.cssClasses.crosshair),this.drawInteraction_.setActive(!1);this.get$Element().toggleClass(s.cssClasses.active,t)}},{key:"clear",value:function(){this.source_.clear(),this.setValue(0)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlLogicMixin=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(8);e.ControlLogicMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.className_=t.hasOwnProperty("className")?t.className:"",t.hasOwnProperty("target")){var e=void 0;e="string"==typeof t.target&&"#"!==t.target[0]?(0,r.default)("#"+t.target):(0,r.default)(t.target),this.set$Target(e)}t.hasOwnProperty("element")&&(0,r.default)(t.element).addClass(this.className_).addClass("ol-unselectable ol-control"),this.singleButton=!0===t.singleButton,this.singleButton&&(0,r.default)(t.element).addClass(o.cssClasses.mainButton),this.controlName_=t.controlName,this.windowed_=!!t.hasOwnProperty("windowed")&&t.windowed,this.localiser_=t.localiser,this.title_=t.hasOwnProperty("title")?this.getLocaliser().selectL10N(t.title):void 0,this.tipLabel_=t.hasOwnProperty("tipLabel")?this.getLocaliser().selectL10N(t.tipLabel):void 0,this.float_=void 0===t.float?["top","left"]:t.float,this.importance_=t.importance||0,this.visible_=!0}},{key:"getFloat",value:function(){return this.float_}},{key:"getImportance",value:function(){return this.importance_}},{key:"getLocaliser",value:function(){return this.localiser_}},{key:"isSingleButton",value:function(){return this.singleButton}},{key:"isWindowed",value:function(){return this.windowed_}},{key:"getControlName",value:function(){return this.controlName_}},{key:"getTitle",value:function(){return this.title_}},{key:"setTitle",value:function(t){this.title_=this.getLocaliser().selectL10N(t)}},{key:"getTipLabel",value:function(){return this.tipLabel_}},{key:"setTipLabel",value:function(t){this.tipLabel_=this.getLocaliser().selectL10N(t)}},{key:"get$Element",value:function(){return(0,r.default)(this.element)}},{key:"get$Target",value:function(){return this.catched$Target_?this.catched$Target_:this.getMap()?(this.catched$Target_=(0,r.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent"),this.catched$Target_):void 0}},{key:"getClassName",value:function(){return this.className_}},{key:"set$Target",value:function(t){this.catched$Target_=t,this.setTarget(t[0]),t.append(this.get$Element())}},{key:"setVisible",value:function(t){t!==this.visible_&&(this.get$Element().toggleClass(o.cssClasses.hidden,!t),this.visible_=t,this.dispatchEvent("change:visible"))}},{key:"getVisible",value:function(){return this.visible_}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attribution=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(18),a=n(39),s=n(3),l=n(8),u=n(32);n(879);e.Attribution=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-attribution",t.singleButton=!1,t.element=(0,r.default)("<div>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("Attribution tipLabel")),n.createStaticHTML(t),n.setCollapsed(!0===t.collapsed),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixin)(o.Control,a.ListenerOrganizerMixin)),i(e,[{key:"setCollapsed",value:function(t,e){var n=this.collapsed_;n!==t&&(this.collapsed_=t,this.dispatchEvent({type:"change:collapsed",oldValue:n}),e||this.dispatchEvent("change:size"),this.get$Element().toggleClass(l.cssClasses.collapsed,t))}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"createStaticHTML",value:function(t){var e=this,n=(0,r.default)("<button>").on("click",function(){e.setCollapsed(!e.getCollapsed())});if((0,u.addTooltip)(n,this.getTipLabel()),this.$list_=(0,r.default)("<ul>"),this.get$Element().append(n).append(this.$list_),this.showPoweredBy_=!1!==t.poweredBy,this.showPoweredBy_){var i=void 0===t.poweredBy?'<a href="https://github.com/KlausBenndorf/guide4you" target="_blank">Guide4You</a>':this.getLocaliser().selectL10N(t.poweredBy);Array.isArray(i)||(i=[i]),this.$poweredBy_=i.map(function(t){return(0,r.default)("<li>").append(t).addClass(e.className_+"-poweredby")})}}},{key:"updateList",value:function(t){this.$list_.empty(),this.showPoweredBy_&&this.$list_.append(this.$poweredBy_);var e=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;this.$list_.append((0,r.default)("<li>").html(s))}}catch(t){n=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}this.getCollapsed()||this.dispatchEvent("change:size")}},{key:"updateRtl",value:function(){this.getMap().get("localiser").isRtl()?this.$list_.prop("dir","rtl"):this.$list_.prop("dir",void 0)}},{key:"setMap",value:function(t){var n=this;this.getMap()&&this.detachAllListeners(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&t.asSoonAs("ready:layers",!0,function(){if(n.getMap()){var t=n.getMap().get("attributions");n.updateList(t.getArray()),n.listenAt(t).on("change",function(){n.updateList(t.getArray())}),n.updateRtl(),n.listenAt(n.getMap().get("localiser")).on("change:language",function(){n.updateRtl()})}},0)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeaturePopup=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=h(n(2)),o=h(n(1)),a=h(n(146)),s=n(39),l=n(98),u=n(8),c=n(3);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n(885);e.FeaturePopup=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.className_=t.hasOwnProperty("className")?t.className:"g4u-featurepopup",n.classNameFeatureName_=n.className_+"-feature-name",n.classNameFeatureDescription_=n.className_+"-feature-description",n.$name_=(0,o.default)("<h3>").addClass(n.classNameFeatureName_),n.$description_=(0,o.default)("<p>").addClass(n.classNameFeatureDescription_),n.feature_=null,n.visible_=!1,n.referencingVisibleLayers_=[],n.pixelOffset_=t.hasOwnProperty("offset")?t.offset:[0,0],n.iconSizedOffset_=t.hasOwnProperty("iconSizedOffset")?t.iconSizedOffset:[0,0],n.centerOnPopup_=!t.hasOwnProperty("centerOnPopup")||t.centerOnPopup,n.centerOnPopupInitial_=n.centerOnPopup_,n.animated_=!t.hasOwnProperty("animated")||t.animated,n.$element_=(0,o.default)("<div>").addClass(n.className_).addClass(u.cssClasses.hidden),n.overlay_=new r.default.Overlay({element:n.$element_.get(0),offset:n.pixelOffset_,positioning:t.hasOwnProperty("positioning")?t.positioning:"center-center",stopEvent:!0}),n.defaultPopupModifiers_=t.popupModifier||[],n.currentPopupModifiers_=[],n.window_=null,n.map__=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,c.mixin)(r.default.Object,s.ListenerOrganizerMixin)),i(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&(this.detachAllListeners(),this.getMap().removeOverlay(this.overlay_)),t){this.window_=new l.Window({draggable:!1,fixedPosition:!0,map:t}),this.window_.get$Body().append(this.$name_).append(this.$description_),this.listenAt(this.window_).on("change:visible",function(){n.window_.getVisible()||n.setVisible(!1)}),this.$element_.append(this.window_.get$Element()),this.listenAt(t.getDefaultInteractions("singleclick")[0]).on("select",function(t){var i=t.selected.filter(e.canDisplay);i.length&&(n.onFeatureClick_(i[0],t.mapBrowserEvent.coordinate),t.target.getFeatures().remove(i[0]),t.target.changed())}),this.listenAt(t.getDefaultInteractions("pointermove")[0]).on("select",function(n){var i=n.selected.filter(e.canDisplay),r=n.deselected.filter(e.canDisplay);i.length?(0,o.default)(t.getViewport()).addClass(u.cssClasses.clickable):r.length&&(0,o.default)(t.getViewport()).removeClass(u.cssClasses.clickable)});var i=function(t,e){e.getFeatures&&n.listenAt(e).on("removefeature",function(t){t.feature===n.getFeature()&&n.referencingVisibleLayers_.forEach(function(t){t.getSource()===e&&n.removeReferencingLayer_(t)})})};!function t(e){if(e.getSource){var r=e.getSource();r&&i(0,r),n.listenAt(e).on("change:source",function(t){n.detachFrom(t.oldValue),i(0,e.getSource())}),n.listenAt(e).on("change:visible",function(){var t=e.getSource();t&&t.getFeatures&&(!1===e.getVisible()?t.getFeatures().indexOf(n.getFeature())>-1&&n.removeReferencingLayer_(e):t.getFeatures().indexOf(n.getFeature())>-1&&n.referencingVisibleLayers_.push(e))})}e.getLayers&&(e.getLayers().forEach(t),n.listenAt(e.getLayers()).on("add",function(e){t(e.element)}).on("remove",function(t){t.element.getSource&&t.element.getSource()&&n.detachFrom(t.element.getSource()),n.detachFrom(t.element)}))}(t.getLayerGroup()),t.addOverlay(this.overlay_),this.$element_.parent().addClass(this.className_+"-container");var r=function(){t.get("mobile")?n.centerOnPopup_=!1:n.centerOnPopup_=n.centerOnPopupInitial_};r(),this.listenAt(t).on("change:mobile",r),t.once("postrender",function(){n.window_.updateSize()})}this.map__=t}},{key:"onFeatureClick_",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.get("features")&&(t=t.get("features")[0]),this.referencingVisibleLayers_=[],this.getMap().getLayerGroup().recursiveForEach(function(n){n.getVisible()&&n.getSource&&n.getSource().getFeatures&&n.getSource().getFeatures().indexOf(t)>-1&&e.referencingVisibleLayers_.push(n)}),this.setFeature(t,n),this.setVisible(!0),this.centerOnPopup_&&this.centerMapOnPopup()}},{key:"removeReferencingLayer_",value:function(t){this.referencingVisibleLayers_.splice(this.referencingVisibleLayers_.indexOf(t),1),0===this.referencingVisibleLayers_.length&&this.setVisible(!1)}},{key:"getMap",value:function(){return this.map__}},{key:"getFeature",value:function(){return this.feature_}},{key:"getLayers",value:function(){return this.referencingVisibleLayers_}},{key:"updateContent",value:function(){var t=this;this.getMap().get("localiser").isRtl()?this.window_.get$Body().prop("dir","rtl"):this.window_.get$Body().prop("dir",void 0),this.getMap().get("popupModifiers").apply({name:this.getFeature().get("name"),description:this.getFeature().get("description")},this.currentPopupModifiers_).then(function(e){e.name?(t.$name_.removeClass(u.cssClasses.hidden),t.$name_.html(e.name)):t.$name_.addClass(u.cssClasses.hidden),e.description?(t.$description_.removeClass(u.cssClasses.hidden),t.$description_.html(e.description)):t.$description_.addClass(u.cssClasses.hidden),t.updateSize(),t.dispatchEvent("update:content")})}},{key:"update",value:function(){var t=this;if(this.getFeature()){var e=this.getFeature();if(this.$name_.empty(),this.$description_.empty(),this.updateContent(),e.get("observedByPopup")||(e.on("change:name",function(){return t.updateContent()}),e.on("change:description",function(){return t.updateContent()}),e.set("observedByPopup",!0)),this.once("change:feature",function(){e.un("change:name",function(){return t.updateContent()}),e.un("change:description",function(){return t.updateContent()}),e.set("observedByPopup",!1)}),!this.getMap().get("mobile")){var n=this.getMap().getView().getResolution();this.addIconSizedOffset(this.getFeature(),n)}var i=!0,r=!1,o=void 0;try{for(var a,s=this.referencingVisibleLayers_[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.get("addClass")&&this.window_.get$Element().addClass(l.get("addClass"))}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.getVisible()&&setTimeout(function(){return t.window_.updateSize()},0)}}},{key:"updateSize",value:function(){this.getVisible()&&this.window_&&this.window_.updateSize&&this.window_.updateSize()}},{key:"setFeature",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=this.feature_;if(t&&this.overlay_.setPosition(n||r.default.extent.getCenter(t.getGeometry().getExtent())),o!==t){this.feature_&&this.feature_.un("change:geometry",this.geometryChangeHandler_),this.feature_=t,this.currentPopupModifiers_=[].concat(f(this.defaultPopupModifiers_),f(i));var s=!0,l=!1,u=void 0;try{for(var c,h=this.referencingVisibleLayers_[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var p=c.value;this.currentPopupModifiers_=this.currentPopupModifiers_.concat((0,a.default)(p.get("popupModifiers")))}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}this.geometryChangeHandler_=function(){e.overlay_.setPosition(n||r.default.extent.getCenter(e.feature_.getGeometry().getExtent())),e.getVisible()&&e.update()},this.feature_.on("change:geometry",this.geometryChangeHandler_),this.dispatchEvent({type:"change:feature",oldValue:o,key:"feature"}),this.update()}}},{key:"getVisible",value:function(){return this.visible_}},{key:"setVisible",value:function(t){var e=this,n=this.visible_;n!==t&&(!0===t&&this.getFeature()?(this.$element_.removeClass(u.cssClasses.hidden),this.window_.setVisible(!0)):(this.$element_.addClass(u.cssClasses.hidden),this.window_.setVisible(!1)),this.visible_=t,this.dispatchEvent({type:"change:visible",oldValue:n,key:"visible"})),t&&setTimeout(function(){return e.window_.updateSize()},0)}},{key:"addIconSizedOffset",value:function(t,e){var n=this;if(0!==this.iconSizedOffset_[0]||0!==this.iconSizedOffset_[1]){var i=t.getStyleFunction();if(i){var o=i(t,e)[0];if(o){var a=o.getImage();a instanceof r.default.style.Icon&&new Promise(function(t){var e=a.getImage();e.complete&&e.src?t():(e.addEventListener("load",function(){n.getMap().render(),n.getMap().once("postcompose",t)}),a.load())}).then(function(){var t=a.getSize(),e=[n.pixelOffset_[0]+n.iconSizedOffset_[0]*t[0]*(a.getScale()||1),n.pixelOffset_[1]+n.iconSizedOffset_[1]*t[1]*(a.getScale()||1)];n.overlay_.setOffset(e)})}}}}},{key:"centerMapOnPopup",value:function(t){var e=this;t=void 0===t?this.animated_:t;var n=function(){e.window_.updateSize(),e.getMap().get("move").toPoint(e.getCenter(),{animated:t})};(0,c.finishAllImages)(this.window_.get$Body()).then(function(){e.getMap().getPixelFromCoordinate([0,0])?n():e.getMap().once("postrender",n)})}},{key:"getCenter",value:function(){var t=this.overlay_.getOffset(),e=this.getMap().getPixelFromCoordinate(this.overlay_.getPosition());e[0]+=t[0],e[1]+=t[1];var n=this.overlay_.getPositioning().split("-"),i=this.$element_.outerWidth(),r=this.$element_.outerHeight();return"left"===n[1]&&(e[0]+=i/2),"right"===n[1]&&(e[0]-=i/2),"top"===n[0]&&(e[1]+=r/2),"bottom"===n[0]&&(e[1]-=r/2),this.getMap().getCoordinateFromPixel(e)}}],[{key:"canDisplay",value:function(t){return t.get("features")&&1===t.get("features").length&&(t=t.get("features")[0]),!t.get("disabled")&&(t.get("name")||t.get("description")&&(0,o.default)(t.get("description")).text().match(/\S/))}}]),e}()},function(t,e,n){var i=n(9),r=n(47),o=n(80),a=n(58),s=i(function(t,e){var n=a(e,o(s));return r(t,32,void 0,e,n)});s.placeholder={},t.exports=s},function(t,e){var n="Expected a function";t.exports=function(t,e,i){if("function"!=typeof t)throw new TypeError(n);return setTimeout(function(){t.apply(void 0,i)},e)}},function(t,e,n){var i=n(40),r=n(381),o=n(150),a="Expected a function",s=Math.max,l=Math.min;t.exports=function(t,e,n){var u,c,h,f,p,d,v=0,y=!1,g=!1,m=!0;if("function"!=typeof t)throw new TypeError(a);function _(e){var n=u,i=c;return u=c=void 0,v=e,f=t.apply(i,n)}function b(t){var n=t-d;return void 0===d||n>=e||n<0||g&&t-v>=h}function w(){var t=r();if(b(t))return M(t);p=setTimeout(w,function(t){var n=e-(t-d);return g?l(n,h-(t-v)):n}(t))}function M(t){return p=void 0,m&&u?_(t):(u=c=void 0,f)}function x(){var t=r(),n=b(t);if(u=arguments,c=this,d=t,n){if(void 0===p)return function(t){return v=t,p=setTimeout(w,e),y?_(t):f}(d);if(g)return p=setTimeout(w,e),_(d)}return void 0===p&&(p=setTimeout(w,e)),f}return e=o(e)||0,i(n)&&(y=!!n.leading,h=(g="maxWait"in n)?s(o(n.maxWait)||0,e):h,m="trailing"in n?!!n.trailing:m),x.cancel=function(){void 0!==p&&clearTimeout(p),v=0,u=d=c=p=void 0},x.flush=function(){return void 0===p?f:M(r())},x}},function(t,e,n){var i=n(14),r="Expected a function";t.exports=function(t,e){var n;if("function"!=typeof e)throw new TypeError(r);return t=i(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}},function(t,e,n){var i=n(391),r=n(390),o=n(149),a=n(389);t.exports=function(t,e,n){var s=e+"";return o(t,r(s,a(i(s),n)))}},function(t,e,n){var i=n(211),r=n(231)(i);t.exports=r},function(t,e,n){var i=n(139),r=n(137);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=i(r.prototype),o.prototype.constructor=o,t.exports=o},function(t,e,n){var i=n(210),r=n(218),o=i?function(t){return i.get(t)}:r;t.exports=o},function(t,e,n){var i=n(396),r=n(203),o=n(202),a=1,s=2,l=4,u=8,c=32,h=64;t.exports=function(t,e,n,f,p,d,v,y,g,m){var _=e&u;e|=_?c:h,(e&=~(_?h:c))&l||(e&=~(a|s));var b=[t,e,p,_?d:void 0,_?v:void 0,_?void 0:d,_?void 0:v,y,g,m],w=n.apply(void 0,b);return i(t)&&r(w,b),w.placeholder=f,o(w,t,e)}},function(t,e){var n=Math.max;t.exports=function(t,e,i,r){for(var o=-1,a=t.length,s=-1,l=i.length,u=-1,c=e.length,h=n(a-l,0),f=Array(h+c),p=!r;++o<h;)f[o]=t[o];for(var d=o;++u<c;)f[d+u]=e[u];for(;++s<l;)(p||o<a)&&(f[d+i[s]]=t[o++]);return f}},function(t,e){var n=Math.max;t.exports=function(t,e,i,r){for(var o=-1,a=t.length,s=i.length,l=-1,u=e.length,c=n(a-s,0),h=Array(u+c),f=!r;++l<u;)h[l]=e[l];for(;++o<s;)(f||o<a)&&(h[i[o]]=t[o]);for(;c--;)h[l++]=t[o++];return h}},function(t,e,n){var i=n(208),r=n(207),o=n(397),a=n(99),s=n(206),l=n(80),u=n(388),c=n(58),h=n(23),f=1,p=2,d=8,v=16,y=128,g=512;t.exports=function t(e,n,m,_,b,w,M,x,S,P){var O=n&y,k=n&f,C=n&p,E=n&(d|v),L=n&g,A=C?void 0:a(e);return function f(){for(var p=arguments.length,d=Array(p),v=p;v--;)d[v]=arguments[v];if(E)var y=l(f),g=o(d,y);if(_&&(d=i(d,_,b,E)),w&&(d=r(d,w,M,E)),p-=g,E&&p<P){var j=c(d,y);return s(e,n,t,f.placeholder,m,d,j,x,S,P-p)}var T=k?m:this,I=C?T[e]:e;return p=d.length,x?d=u(d,x):L&&p>1&&d.reverse(),O&&S<p&&(d.length=S),this&&this!==h&&this instanceof f&&(I=A||a(I)),I.apply(T,d)}}},function(t,e,n){var i=n(249),r=i&&new i;t.exports=r},function(t,e,n){var i=n(61),r=n(210),o=r?function(t,e){return r.set(t,e),t}:i;t.exports=o},function(t,e,n){var i=n(47),r=128;t.exports=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,i(t,r,void 0,void 0,void 0,void 0,e)}},function(t,e,n){t.exports={after:n(400),ary:n(212),before:n(201),bind:n(385),bindKey:n(384),curry:n(383),curryRight:n(382),debounce:n(200),defer:n(380),delay:n(379),flip:n(378),memoize:n(245),negate:n(227),once:n(377),overArgs:n(376),partial:n(198),partialRight:n(374),rearg:n(373),rest:n(372),spread:n(371),throttle:n(369),unary:n(368),wrap:n(367)}},function(t,e){t.exports=function(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a}},function(t,e,n){var i=n(116),r=n(65),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&r(a,n)&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){var i=n(51),r=n(22),o=n(141);t.exports=function(t,e){if(!t||!t.length)return[];var n=o(t);return null==e?n:r(n,function(t){return i(e,void 0,t)})}},function(t,e,n){var i=n(59);t.exports=function(t){return t&&t.length?i(t):[]}},function(t,e){t.exports=function(){}},function(t,e,n){var i=n(65);t.exports=function(t,e){for(var n=-1,r=t.length,o=0,a=[];++n<r;){var s=t[n],l=e?e(s):s;if(!n||!i(l,u)){var u=l;a[o++]=0===s?0:s}}return a}},function(t,e,n){var i=n(146),r=n(232),o=n(149);t.exports=function(t){return o(r(t,void 0,i),t+"")}},function(t,e,n){var i=n(432),r=n(52),o=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,a=n-1;n--;){var s=e[n];if(n==a||s!==l){var l=s;r(s)?o.call(t,s,1):i(t,s)}}return t}},function(t,e,n){var i=n(143);t.exports=function(t,e){return t&&t.length&&e&&e.length?i(t,e):t}},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e,n){var i=n(20),r=n(230),o=n(9),a=n(60),s=o(function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),r(t,i(e,1),[])});t.exports=s},function(t,e){var n=Math.floor,i=Math.random;t.exports=function(t,e){return t+n(i()*(e-t+1))}},function(t,e,n){var i=n(225);t.exports=function(t){var e=t.length;return e?t[i(0,e-1)]:void 0}},function(t,e){var n="Expected a function";t.exports=function(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e){t.exports=function(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}},function(t,e,n){var i=n(63);t.exports=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,a=i(t),s=void 0!==e,l=null===e,u=e==e,c=i(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!c&&t<e||c&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},function(t,e,n){var i=n(22),r=n(10),o=n(236),a=n(489),s=n(82),l=n(488),u=n(61);t.exports=function(t,e,n){var c=-1;e=i(e.length?e:[u],s(r));var h=o(t,function(t,n,r){return{criteria:i(e,function(e){return e(t)}),index:++c,value:t}});return a(h,function(t,e){return l(t,e,n)})}},function(t,e){var n=800,i=16,r=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=r(),s=i-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var i=n(51),r=Math.max;t.exports=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=r(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(l),i(t,this,u)}}},function(t,e,n){var i=n(154),r=n(33);t.exports=function(t,e){return e.length<2?t:i(t,r(e,0,-1))}},function(t,e,n){var i=n(84),r=n(11),o=n(53),a="[object String]";t.exports=function(t){return"string"==typeof t||!r(t)&&o(t)&&i(t)==a}},function(t,e){t.exports=function(t){return t!=t}},function(t,e,n){var i=n(54),r=n(48);t.exports=function(t,e){var n=-1,o=r(t)?Array(t.length):[];return i(t,function(t,i,r){o[++n]=e(t,i,r)}),o}},function(t,e,n){var i=n(107),r=n(10),o=n(14),a=Math.max,s=Math.min;t.exports=function(t,e,n){var l=null==t?0:t.length;if(!l)return-1;var u=l-1;return void 0!==n&&(u=o(n),u=n<0?a(l+u,0):s(u,l-1)),i(t,r(e,3),u,!0)}},function(t,e,n){var i=n(107),r=n(10),o=n(14),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),i(t,r(e,3),l)}},function(t,e,n){var i=n(10),r=n(48),o=n(83);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!r(e)){var l=i(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[l?e[u]:u]:void 0}}},function(t,e,n){var i=n(54);t.exports=function(t,e){var n=[];return i(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}},function(t,e,n){var i=n(512),r=n(256)(i,!0);t.exports=r},function(t,e,n){var i=n(513),r=n(241),o=n(151),a=n(11);t.exports=function(t,e){return(a(t)?i:r)(t,o(e))}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},function(t,e,n){var i=n(243),r=n(54),o=n(151),a=n(11);t.exports=function(t,e){return(a(t)?i:r)(t,o(e))}},function(t,e,n){var i=n(156),r="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(o.Cache||i),n}o.Cache=i,t.exports=o},function(t,e,n){var i=n(154);t.exports=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var i=n(40);t.exports=function(t){return t==t&&!i(t)}},function(t,e,n){var i=n(66)(n(23),"WeakMap");t.exports=i},function(t,e,n){var i=n(66)(n(23),"Set");t.exports=i},function(t,e,n){var i=n(528),r=n(157),o=n(527),a=n(250),s=n(249),l=n(84),u=n(263),c=u(i),h=u(r),f=u(o),p=u(a),d=u(s),v=l;(i&&"[object DataView]"!=v(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=v(new r)||o&&"[object Promise]"!=v(o.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,i=n?u(n):"";if(i)switch(i){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var i=n(110),r=n(252),o=n(109),a=1,s=2;t.exports=function(t,e,n,l,u,c){var h=n&a,f=t.length,p=e.length;if(f!=p&&!(h&&p>f))return!1;var d=c.get(t);if(d&&c.get(e))return d==e;var v=-1,y=!0,g=n&s?new i:void 0;for(c.set(t,e),c.set(e,t);++v<f;){var m=t[v],_=e[v];if(l)var b=h?l(_,m,v,e,t,c):l(m,_,v,t,e,c);if(void 0!==b){if(b)continue;y=!1;break}if(g){if(!r(e,function(t,e){if(!o(g,e)&&(m===t||u(m,t,n,l,c)))return g.push(e)})){y=!1;break}}else if(m!==_&&!u(m,_,n,l,c)){y=!1;break}}return c.delete(t),c.delete(e),y}},function(t,e,n){var i=n(539),r=n(53);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!r(e)&&!r(n)?e!=e&&n!=n:i(e,n,o,a,t,s))}},function(t,e,n){var i=n(114),r=n(556),o=n(555),a=n(554),s=n(553),l=n(552);function u(t){var e=this.__data__=new i(t);this.size=e.size}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},function(t,e,n){var i=n(48);t.exports=function(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}},function(t,e,n){var i=n(566),r=n(565),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!i(t))return r(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var i=n(568),r=n(82),o=n(567),a=o&&o.isTypedArray,s=a?r(a):i;t.exports=s},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t){var i=n(23),r=n(569),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;t.exports=l}).call(this,n(259)(t))},function(t,e){t.exports=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},function(t,e){t.exports=function(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(191))},function(t,e,n){var i=n(84),r=n(40),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";t.exports=function(t){if(!r(t))return!1;var e=i(t);return e==a||e==s||e==o||e==l}},function(t,e,n){var i=n(66),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileWMSSource=e.ImageWMSSource=e.WMSFeatureInfoMixin=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(2)),o=l(n(1)),a=n(3),s=n(13);function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=e.WMSFeatureInfoMixin=function(){function t(){h(this,t)}return i(t,[{key:"initialize",value:function(t){this.featureInfo_=void 0!==t.featureInfo,this.featureInfo_&&(this.featureInfoParams_=t.featureInfo.params||{},this.featureInfoCheckable_=t.featureInfo.checkable,this.featureInfoMutators_=t.featureInfo.mutators,this.featureInfoChecked_=t.featureInfo.checked)}},{key:"getFeatureInfoParams",value:function(){return this.featureInfoParams_}},{key:"getQueryable",value:function(){return this.featureInfoParams_.QUERY_LAYERS&&this.featureInfoParams_.QUERY_LAYERS.length}},{key:"getFeatureInfoMutators",value:function(){return this.featureInfoMutators_||[]}},{key:"hasFeatureInfo",value:function(){return this.featureInfo_}},{key:"isFeatureInfoCheckable",value:function(){return this.featureInfoCheckable_}},{key:"isFeatureInfoChecked",value:function(){return this.featureInfoChecked_}},{key:"updateFeatureInfoParams",value:function(t){Object.assign(this.featureInfoParams_,t)}},{key:"getFeatureInfo",value:function(t,e,n){var i=this;return new Promise(function(r,a){var s=i.featureInfoParams_;if(s.QUERY_LAYERS&&0!==s.QUERY_LAYERS.length){var l=i.getGetFeatureInfoUrl(t,e,n,s).slice(1);o.default.ajax({url:i.originalUrlObject.extend(l).finalize(),success:r,error:a,dataType:"text"})}else r("")})}},{key:"toggleArrayEntries_",value:function(t,e,n,i){var r=t[e]||[];if(i)n.forEach(function(t){r.indexOf(t)<0&&r.push(t)});else{var o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,h=r.indexOf(c);h>=0&&r.splice(h,1)}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}}return t[e]=r,t}},{key:"toggleWMSLayers",value:function(t,e){this.updateParams(this.toggleArrayEntries_(this.getParams(),"LAYERS",t,e))}},{key:"toggleWMSQueryLayers",value:function(t,e){this.updateFeatureInfoParams(this.toggleArrayEntries_(this.featureInfoParams_,"QUERY_LAYERS",t,e))}},{key:"arrayContainsAll",value:function(t,e){return e.every(function(e){return t.indexOf(e)>=0})}},{key:"getWMSLayersVisible",value:function(t){return this.arrayContainsAll(this.getParams().LAYERS||[],t)}},{key:"getWMSQueryLayersVisible",value:function(t){return this.arrayContainsAll(this.featureInfoParams_.QUERY_LAYERS||[],t)}}]),t}();e.ImageWMSSource=function(t){function e(t){h(this,e);var n=t.url;t.url="_",t.imageLoadFunction=function(t,e){(0,a.asyncImageLoad)(t.getImage(),i.originalUrlObject.extend(e.slice(1))).catch(function(t){return s.Debug.error(t)})};var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.originalUrlObject=n,i}return c(e,(0,a.mixin)(r.default.source.ImageWMS,f)),e}(),e.TileWMSSource=function(t){function e(t){h(this,e);var n=t.url;t.url="_",t.tileLoadFunction=function(t,e){(0,a.asyncImageLoad)(t.getImage(),i.originalUrlObject.extend(e.slice(1))).catch(function(t){return s.Debug.error(t)})};var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.originalUrlObject=n,i}return c(e,(0,a.mixin)(r.default.source.TileWMS,f)),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(162),o=n(3),a=n(93);e.TileLayer=(0,o.mixin)(i.default.layer.Tile,[a.ProvideMapMixin,r.LayerLoadProcessCountMixin])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerImage=e.ImageLayer=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(162),o=n(161),a=n(3),s=n(93);var l=e.ImageLayer=(0,a.mixin)(i.default.layer.Image,[s.ProvideMapMixin,r.LayerLoadProcessCountMixin]);e.BaseLayerImage=(0,a.mixin)(l,o.BaseLayerMixin)},function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?i(parseFloat(t)/100*255):i(parseInt(t))}function a(t){return"%"===t[t.length-1]?r(parseFloat(t)/100):r(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,r=t.replace(/ /g,"").toLowerCase();if(r in n)return n[r].slice();if("#"===r[0])return 4===r.length?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===r.length&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=r.indexOf("("),u=r.indexOf(")");if(-1!==l&&u+1===r.length){var c=r.substr(0,l),h=r.substr(l+1,u-(l+1)).split(","),f=1;switch(c){case"rgba":if(4!==h.length)return null;f=a(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),f];case"hsla":if(4!==h.length)return null;f=a(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,d=a(h[1]),v=a(h[2]),y=v<=.5?v*(d+1):v+d-v*d,g=2*v-y;return[i(255*s(g,y,p+1/3)),i(255*s(g,y,p)),i(255*s(g,y,p-1/3)),f];default:return null}}return null}}catch(t){}},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e,n){var i=n(70);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){var i=n(94),r=n(272);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(76),r=n(30),o=n(95).f;t.exports=function(t){return function(e){for(var n,a=r(e),s=i(a),l=s.length,u=0,c=[];l>u;)o.call(a,n=s[u++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var i=n(15),r=n(182),o=n(45);t.exports=function(t,e,n,a){var s=String(o(t)),l=s.length,u=void 0===n?" ":String(n),c=i(e);if(c<=l||""==u)return s;var h=c-l,f=r.call(u,Math.ceil(h/u.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,n){"use strict";var i=n(129),r=n(7),o=n(15),a=n(37),s=n(12)("isConcatSpreadable");t.exports=function t(e,n,l,u,c,h,f,p){for(var d,v,y=c,g=0,m=!!f&&a(f,p,3);g<u;){if(g in l){if(d=m?m(l[g],g,n):l[g],v=!1,r(d)&&(v=void 0!==(v=d[s])?!!v:i(d)),v&&h>0)y=t(e,n,d,o(d.length),y,h-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=d}y++}g++}return y}},function(t,e,n){var i=n(73),r=n(130),o=n(4),a=n(5).Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(44),r=n(15);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){"use strict";var i=n(69),r=n(57).getWeak,o=n(4),a=n(7),s=n(71),l=n(70),u=n(42),c=n(31),h=n(86),f=u(5),p=u(6),d=0,v=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,e){return f(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var u=t(function(t,i){s(t,u,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=i&&l(i,n,t[o],t)});return i(u.prototype,{delete:function(t){if(!a(t))return!1;var n=r(t);return!0===n?v(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=r(t);return!0===n?v(h(this,e)).has(t):n&&c(n,this._i)}}),u},def:function(t,e,n){var i=r(o(e),!0);return!0===i?v(t).set(e,n):i[t._i]=n,t},ufstore:v}},function(t,e,n){"use strict";var i,r=n(42)(0),o=n(25),a=n(57),s=n(299),l=n(279),u=n(7),c=n(6),h=n(86),f=a.getWeak,p=Object.isExtensible,d=l.ufstore,v={},y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(u(t)){var e=f(t);return!0===e?d(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,"WeakMap"),t,e)}},m=t.exports=n(122)("WeakMap",y,g,l,!0,!0);c(function(){return 7!=(new m).set((Object.freeze||Object)(v),7).get(v)})&&(s((i=l.getConstructor(y,"WeakMap")).prototype,g),a.NEED=!0,r(["delete","has","get","set"],function(t){var e=m.prototype,n=e[t];o(e,t,function(e,r){if(u(e)&&!p(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var i=n(282),r=n(86);t.exports=n(122)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i=n(16).f,r=n(74),o=n(69),a=n(37),s=n(71),l=n(70),u=n(178),c=n(287),h=n(72),f=n(17),p=n(57).fastKey,d=n(86),v=f?"_s":"size",y=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var c=t(function(t,i){s(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=i&&l(i,n,t[u],t)});return o(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),i=y(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[v]--}return!!i},forEach:function(t){d(this,e);for(var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(d(this,e),t)}}),f&&i(c.prototype,"size",{get:function(){return d(this,e)[v]}}),c},def:function(t,e,n){var i,r,o=y(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[v]++,"F"!==r&&(t._i[r]=o)),t},getEntry:y,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var i=n(282),r=n(86);t.exports=n(122)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){var i=n(4),r=n(7),o=n(166);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){n(17)&&"g"!=/./g.flags&&n(16).f(RegExp.prototype,"flags",{configurable:!0,get:n(126)})},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(19),r=n(75),o=n(15);t.exports=[].copyWithin||function(t,e){var n=i(this),a=o(n.length),s=r(t,a),l=r(e,a),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?a:r(u,a))-l,a-s),h=1;for(l<s&&s<l+c&&(h=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=h,l+=h;return n}},function(t,e,n){var i=n(21),r=n(19),o=n(96),a=n(15);t.exports=function(t,e,n,s,l){i(e);var u=r(t),c=o(u),h=a(u.length),f=l?h-1:0,p=l?-1:1;if(n<2)for(;;){if(f in c){s=c[f],f+=p;break}if(f+=p,l?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:h>f;f+=p)f in c&&(s=e(s,c[f],f,u));return s}},function(t,e,n){var i=n(4);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(181),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<l?u*function(t){return t+1/o-1/o}(r/l/a)*l*a:(n=(e=(1+a/o)*r)-(e-r))>s||n!=n?u*(1/0):u*n}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(7),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){var i=n(36);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(5).parseFloat,r=n(88).trim;t.exports=1/i(n(184)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(5).parseInt,r=n(88).trim,o=n(184),a=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var i=n(21),r=n(7),o=n(297),a=[].slice,s={};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),l=function(){var i=n.concat(a.call(arguments));return this instanceof l?function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)}(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(l.prototype=e.prototype),l}},function(t,e,n){"use strict";var i=n(76),r=n(130),o=n(95),a=n(19),s=n(96),l=Object.assign;t.exports=!l||n(6)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var f,p=s(arguments[u++]),d=c?i(p).concat(c(p)):i(p),v=d.length,y=0;v>y;)h.call(p,f=d[y++])&&(n[f]=p[f]);return n}:l},function(t,e,n){var i=n(30),r=n(73).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(16),r=n(4),o=n(76);t.exports=n(17)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var i=n(31),r=n(30),o=n(131)(!1),a=n(188)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,u=[];for(n in s)n!=a&&i(s,n)&&u.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){e.f=n(12)},function(t,e,n){t.exports=!n(17)&&!n(6)(function(){return 7!=Object.defineProperty(n(190)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloseWindowButton=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),r=n(18);n(804);e.CloseWindowButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-close-window-button",t.element=(0,i.default)("<div>")[0];var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.label_="label"in t?n.getLocaliser().selectL10N(t.label):n.getLocaliser().localiseUsingDictionary("CloseWindowButton label");var r=(0,i.default)("<button>").html(n.label_).on("click",function(){window.close()});return n.get$Element().append(r),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Control),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkGenerator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(18);e.LinkGenerator=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-minimaptaggenerator",t.element=(0,r.default)("<div>").get(0),t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.baseURL_=t.hasOwnProperty("baseURL")?t.baseURL:window.location.origin+window.location.pathname,n.type_=t.type||"url","iframe"===n.type_||"url"===n.type_?(n.$textfield_=(0,r.default)("<textarea>"),n.get$Element().append(n.$textfield_)):"link"===n.type_&&(n.get$Element().append(n.getLocaliser().localiseUsingDictionary("LinkGenerator beforeLinkText")),n.$link_=(0,r.default)('<a target="_new">').text(n.getLocaliser().localiseUsingDictionary("LinkGenerator linkText")),n.get$Element().append(n.$link_),n.get$Element().append(n.getLocaliser().localiseUsingDictionary("LinkGenerator afterLinkText"))),n.generateHandler_=n.generate_.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),i(e,[{key:"setMap",value:function(t){var n=this;this.getMap()&&(this.getMap().un("click",this.generateHandler_),(0,r.default)(document).off("click keydown keyup touch mousewheel wheel DOMMouseScroll",this.generateHandler_)),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&((0,r.default)(document).on("click keydown keyup touch mousewheel wheel DOMMouseScroll",this.generateHandler_),t.on("click",this.generateHandler_),t.asSoonAs("ready",!0,function(){return n.generate_()}))}},{key:"generate_",value:function(){var t=this.getMap(),e=t.get("urlApi").makeURL({baseURL:this.baseURL_,exclude:["lang"]});if("iframe"===this.type_){var n=t.getSize(),i='<iframe style="border:0;" width="'+n[0]+'" height="'+n[1]+'" src="'+e+'"></iframe>';this.$textfield_.val(i)}else"url"===this.type_?this.$textfield_.val(e):"link"===this.type_&&this.$link_.attr("href",e)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkGeneratorButton=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=c(n(2)),o=c(n(1)),a=n(18),s=n(8),l=n(13);n(807);var u=n(133);function c(t){return t&&t.__esModule?t:{default:t}}e.LinkGeneratorButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-linkgenerator",t.element=(0,o.default)("<div>")[0];var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.active_=!1,n.style_=t.style||"#defaultStyle",n.baseURL_=t.baseURL,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("LinkGeneratorButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("LinkGeneratorButton tipLabel")),n.createHTML(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Control),i(e,[{key:"createHTML",value:function(){var t=this,e=this.get$Element();this.getLocaliser().isRtl()&&e.prop("dir","rtl"),e.append((0,o.default)("<h3>").html(this.getTipLabel())),this.$markerCheckbox_=(0,o.default)('<input type="checkbox">');var n=(0,o.default)("<label>").addClass(this.className_+"-setmarker-checkbox").html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton setMarkerText")).prepend(this.$markerCheckbox_);e.append(n),this.$markerCheckbox_.on("click",function(){t.$markerCheckbox_.is(":checked")?t.placeMarker():t.hideMarker()}),this.$markerDescriptionTextArea_=(0,o.default)("<textarea>"),this.$markerDescriptionTextArea_.on("input",function(){return t.updateDescription()}),this.$markerDescription_=(0,o.default)("<label>").addClass(this.className_+"-setmarker-textbox").addClass(s.cssClasses.hidden).html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton setMarkerTextBoxText")).append(this.$markerDescriptionTextArea_),e.append(this.$markerDescription_),this.$linkDisplay_=(0,o.default)('<input type="text">').prop("readonly",!0),e.append((0,o.default)("<label>").addClass(this.className_+"-input").html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton hint")).append(this.$linkDisplay_)),this.$linkDisplay_.on("mousedown click",function(e){1===e.which&&e.preventDefault(),t.$linkDisplay_.focus().select()})}},{key:"placeMarker",value:function(){var t=this;this.enableMap(),this.drawMarkerPoint().then(function(e){t.updateMarker(e),t.disableMap(),t.$markerDescription_.removeClass(s.cssClasses.hidden),t.$linkDisplay_.focus().select(),t.changed()})}},{key:"hideMarker",value:function(){this.marker_.setActive(!1),this.updateURL(),this.$linkDisplay_.focus().select(),this.$markerDescription_.addClass(s.cssClasses.hidden),this.changed()}},{key:"updateDescription",value:function(){var t=(0,u.filterText)(this.$markerDescriptionTextArea_.val());t?this.marker_.setPopupVisible(!0):this.marker_.setPopupVisible(!1),this.marker_.setText(t),this.updateURL()}},{key:"enableMap",value:function(){this.shield_.setActive(!1),(0,o.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent, .ol-overlaycontainer").addClass(s.cssClasses.hidden)}},{key:"disableMap",value:function(){this.shield_.setActive(!0),(0,o.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent, .ol-overlaycontainer").removeClass(s.cssClasses.hidden)}},{key:"updateMarker",value:function(t){this.marker_.setPosition(t);var e=this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton markerText");this.marker_.setText(e),this.$markerDescriptionTextArea_.val((0,u.restoreText)(e)),e?this.marker_.setPopupVisible(!0):this.marker_.setPopupVisible(!1),this.marker_.setActive(!0),this.updateURL()}},{key:"setMap",value:function(t){if(t){this.marker_=t.get("marker"),this.shield_=t.get("shield");var n=new r.default.Collection;this.drawPoint_=new r.default.interaction.Draw({features:n,type:"Point",style:t.get("styling").getStyle(this.style_)}),this.drawPoint_.setActive(!1),t.addSupersedingInteraction("singleClick doubleClick mouseMove",this.drawPoint_)}(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"drawMarkerPoint",value:function(){var t=this;return new Promise(function(e){t.drawPoint_.setActive(!0),(0,o.default)(t.getMap().getViewport()).addClass(s.cssClasses.crosshair),t.drawPoint_.once("drawend",function(n){t.drawPoint_.setActive(!1),(0,o.default)(t.getMap().getViewport()).removeClass(s.cssClasses.crosshair),e(n.feature.getGeometry().getCoordinates())})}).catch(l.Debug.defaultErrorHandler)}},{key:"updateURL",value:function(){var t=this.getMap().get("urlApi");this.$linkDisplay_.val(t.makeURL({baseURL:this.baseURL_}))}},{key:"setActive",value:function(t){var e=this.active_;e!==t&&(this.active_=t,!0===t?(this.marker_.getActive()&&(this.resetMarker_={position:this.marker_.getPosition(),text:this.marker_.getText(),popVis:this.marker_.getPopupVisible()}),this.shield_.setActive(!0),this.shield_.add$OnTop(this.get$Element()),this.updateURL(),this.$linkDisplay_.focus().select(),this.marker_.getActive()&&(this.$markerCheckbox_.prop("checked",!0),this.$markerDescription_.removeClass(s.cssClasses.hidden),this.marker_.getText()&&this.$markerDescriptionTextArea_.val((0,u.restoreText)(this.marker_.getText())),this.marker_.setPopupVisible(!0))):(this.shield_.setActive(!1),this.shield_.remove$OnTop(this.get$Element()),this.$markerDescriptionTextArea_.val(""),this.$markerCheckbox_.prop("checked",!1),this.$markerDescription_.addClass(s.cssClasses.hidden),this.resetMarker_?(this.marker_.setActive(!0),this.marker_.setPosition(this.resetMarker_.position),this.marker_.setText(this.resetMarker_.text),this.marker_.setPopupVisible(this.resetMarker_.popVis),delete this.resetMarker_):this.marker_.setActive(!1)),this.dispatchEvent({type:"change:active",oldValue:e}))}},{key:"getActive",value:function(){return this.active_}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Marker=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(85);e.Marker=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.active_=!1,this.style_=e.style||"#defaultStyle",this.popupVisible_=!1}return i(t,[{key:"setMap",value:function(t){var e=this;if(t){if(this.map_=t,this.feature_=new r.default.Feature,this.vectorLayer_=new o.VectorLayer({source:new r.default.source.Vector({features:[this.feature_]}),visible:!1}),t.addLayer(this.vectorLayer_),this.vectorLayer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.vectorLayer_),t.get("featurePopup")){var n=t.get("featurePopup");n.on("change:visible",function(){n.getFeature()===e.feature_&&(e.popupVisible_=n.get("visible"))})}}else this.map_.removeLayer(this.vectorLayer_),this.map_=t}},{key:"getPopupVisible",value:function(){return this.popupVisible_}},{key:"setPopupVisible",value:function(t){this.popupVisible_=t;var e=this.map_.get("featurePopup");e&&(!0===t?(e.setFeature(this.feature_),e.setVisible(!0)):e.setVisible(!1),e.update())}},{key:"setActive",value:function(t){this.active_!==t&&(this.active_=t,this.vectorLayer_.setVisible(t),t||this.setPopupVisible(!1))}},{key:"getActive",value:function(){return this.active_}},{key:"getPosition",value:function(){var t=this.feature_.getGeometry();if(t)return t.getCoordinates()}},{key:"setPosition",value:function(t){var e=new r.default.geom.Point(t);this.feature_.setGeometry(e)}},{key:"getText",value:function(){return this.feature_.get("description")}},{key:"setText",value:function(t){this.feature_.set("description",t)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.zoomParam={keys:["zoom"],setEvent:"afterConfiguring",setToMap:function(t,e){e.isSet("zoom")&&t.getView().setZoom(parseFloat(e.getSanitizedVal("zoom")))},getFromMap:function(t,e){if(!e.isExcluded("zoom"))return{zoom:t.getView().getZoom()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.visibleLayersParam=void 0;var i=n(67);e.visibleLayersParam={keys:["vislay"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("vislay")){var n=e.getArray("vislay"),r=t.get("baseLayers");r&&r.recursiveForEach(function(t){t instanceof i.GroupLayer||t.setVisible(n.indexOf(t.get("id").toString())>-1)});var o=t.get("featureLayers");o&&o.recursiveForEach(function(t){t instanceof i.GroupLayer||t.setVisible(n.indexOf(t.get("id").toString())>-1)})}},getFromMap:function(t,e){if(!e.isExcluded("vislay")){var n=[],i=function(t){t.getVisible()&&n.push(t.get("id"))};return t.get("baseLayers").recursiveForEach(i),t.get("featureLayers").recursiveForEach(i),{vislay:n.join(",")}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.searchParam={keys:["search"],setEvent:"ready",setToMap:function(t,e){if(e.isSet("search")){var n=t.getControlsByName("searchControl")[0];n&&n.setSearchValue(e.getSanitizedVal("search"))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.rotationParam={keys:["rot"],setEvent:"afterConfiguring",setToMap:function(t,e){e.isSet("rot")&&t.getView().setRotation(Math.PI*e.getSanitizedVal("rot")/180)},getFromMap:function(t,e){if(!e.isExcluded("rot"))return{rot:180*t.getView().getRotation()/Math.PI}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.responsivenessParam={keys:["responsive"],setEvent:"ready",setToMap:function(t,e){e.isSet("responsive")&&t.set("responsive",JSON.parse(e.getSanitizedVal("responsive")))},getFromMap:function(t){return{responsive:t.get("responsive")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.markerParam=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(13),o=n(133);e.markerParam={keys:["marklat","marklon","markx","marky","marktext","markpop","srid"],setEvent:"ready",setToMap:function(t,e){var n=t.get("marker"),o=void 0,a=void 0;n?(e.isSet("markx")&&e.isSet("marky")?(o=[parseFloat(e.getSanitizedVal("markx")),parseFloat(e.getSanitizedVal("marky"))],a=e.isSet("srid")?e.getSanitizedVal("srid"):t.get("interfaceProjection")):e.isSet("marklat")&&e.isSet("marklon")?(o=[parseFloat(e.getSanitizedVal("marklon")),parseFloat(e.getSanitizedVal("marklat"))],a="EPSG:4326"):(o=t.getView().getCenter(),a=t.getView().getProjection()),n.setPosition(i.default.proj.transform(o,a,t.get("mapProjection"))),(e.isSet("marklat")||e.isSet("marklon")||e.isSet("markx")||e.isSet("marky"))&&n.setActive(!0),e.isSet("marktext")&&(n.setActive(!0),n.setText(e.getSanitizedVal("marktext")),e.isTrue("markpop")||!e.isSet("markpop")?n.setPopupVisible(!0):n.setPopupVisible(!1))):r.Debug.warn("There is no marker configured for the map, but it was tried to set it via the urlapi.")},getFromMap:function(t,e){var n=t.get("marker");if(n&&n.getActive()&&!e.isExcluded("marker")){var r={srid:t.get("interfaceProjection")},a=i.default.proj.transform(n.getPosition(),t.get("mapProjection"),t.get("interfaceProjection")),s=(0,o.restoreText)(n.getText()),l=n.getPopupVisible();return r.markx=a[0].toFixed(5),r.marky=a[1].toFixed(5),s&&(r.marktext=s,r.markpop=l),r}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.layerConfigurationFileParam={keys:["layconf"],setEvent:"beforeConfigLoad",setToMap:function(t,e){if(e.isSet("layconf")){var n=e.getInjectUnsafeVal("layconf").trim();if(n.match(/^(?:[a-z]+:)?\/\//i))throw new Error("The provided layconf parameter is absolute. Only relative paths are allowed.");t.set("layerConfigFileName",n)}},getFromMap:function(t){return{layconf:t.get("layerConfigFileName")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.languageParam={keys:["lang"],setEvent:"afterConfigLoad",setToMap:function(t,e){e.isSet("lang")&&t.get("localiser").setCurrentLang(e.getSanitizedVal("lang"))},getFromMap:function(t){return{lang:t.get("localiser").getCurrentLang()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fitRectangleParam=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(13);e.fitRectangleParam={keys:["x0","y0","x1","y1","srid","pad"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("x0")&&e.isSet("y0")&&e.isSet("x1")&&e.isSet("y1")){var n=parseFloat(e.getSanitizedVal("x0")),o=parseFloat(e.getSanitizedVal("y0")),a=parseFloat(e.getSanitizedVal("x1")),s=parseFloat(e.getSanitizedVal("y1"));if(!(isNaN(n)||isNaN(o)||isNaN(a)||isNaN(s))){var l={};if(e.isSet("srid")){var u=e.getSanitizedVal("srid");i.default.proj.get(u)?l.srId=u:r.Debug.error("Unknown Projection '"+u+"'")}else l.srId=t.get("interfaceProjection");if(e.isSet("pad")){var c=parseFloat(e.getSanitizedVal("pad"));l.padding=[c,c,c,c]}t.get("api").fitRectangle([[n,o],[a,s]],l)}}},getFromMap:function(t,e){var n=t.getView(),r=i.default.proj.transform(n.getCenter(),n.getProjection(),t.get("interfaceProjection"));if(!e.isExcluded("center"))return{x:r[0].toFixed(5),y:r[1].toFixed(5),srid:t.get("interfaceProjection")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.configurationFileParam={keys:["conf"],setEvent:"beforeConfigLoad",setToMap:function(t,e){if(e.isSet("conf")){var n=e.getInjectUnsafeVal("conf").trim();if(n.match(/^(?:[a-z]+:)?\/\//i))throw new Error("The provided conf parameter is absolute. Only relative paths are allowed.");t.set("configFileName",n)}},getFromMap:function(t){return{conf:t.get("configFileName")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.closeButtonParam={keys:["clsbtn"],setEvent:"ready:ui",setToMap:function(t,e){e.isTrue("clsbtn")&&t.get("UIConfigurator").controlFactory.addControlTo(t,"closeWindowButton")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.centerParam=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2));e.centerParam={keys:["lon","lat","x","y","srid"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("x")&&e.isSet("y")){var n=parseFloat(e.getSanitizedVal("x")),r=parseFloat(e.getSanitizedVal("y")),o=t.get("interfaceProjection");if(e.isSet("srid")&&(o=e.getSanitizedVal("srid")),!isNaN(n)&&!isNaN(r)){var a=t.getView();i.default.proj.get(o)?a.setCenter(a.constrainCenter(i.default.proj.transform([n,r],o,a.getProjection()))):console.error("Unknown Projection '"+o+"'")}}else if(e.isSet("lon")&&e.isSet("lat")&&Math.abs(parseFloat(e.getSanitizedVal("lat")))<90){var s=parseFloat(e.getSanitizedVal("lon")),l=parseFloat(e.getSanitizedVal("lat"));if(!isNaN(s)&&!isNaN(l)){var u=t.getView();u.setCenter(u.constrainCenter(i.default.proj.transform([s,l],"EPSG:4326",u.getProjection())))}}},getFromMap:function(t,e){var n=t.getView(),r=i.default.proj.transform(n.getCenter(),n.getProjection(),t.get("interfaceProjection"));if(!e.isExcluded("center"))return{x:r[0].toFixed(5),y:r[1].toFixed(5),srid:t.get("interfaceProjection")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.availableLayersParam={keys:["avalay"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("avalay")){var n=e.getArray("avalay");if(n.length>0){var i=void 0,r=0;t.get("baseLayers").recursiveForEach(function(t){!i&&t.getVisible()&&(i=t);var e=n.indexOf(t.get("id").toString())>-1;t.set("available",e),e&&r++}),0===r&&(i.set("available",!0),i.setVisible(!0)),t.get("featureLayers").recursiveForEach(function(t){t.set("available",n.indexOf(t.get("id").toString())>-1)})}t.get("configurator").configureUI()}},getFromMap:function(t,e){var n=[];function i(t){t.get("available")&&n.push(t.get("id"))}return t.get("baseLayers").recursiveForEach(i),t.get("featureLayers").recursiveForEach(i),{avalay:n.join(",")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Query=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(133);e.Query=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.urlValues_={},this.jsValues_=r,this.parameterKeys_=e,this.excluded_=n;var o=!0,a=!1,s=void 0;try{for(var l,u=this.excluded_[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this.jsValues_.hasOwnProperty(c)&&(this.jsValues_[c]=void 0)}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}var h=void 0,f=window.location.search;if(""!==f)for(var p=f.substring(1).split("&"),d=0;d<p.length;d+=1)if(p[d].indexOf("=")>-1){h=p[d].split("=");var v=decodeURIComponent(h[0]).trim().toLowerCase(),y=decodeURIComponent(h[1]).trim();this.parameterKeys_.indexOf(v)>-1&&(this.urlValues_[v]=y)}}return i(t,[{key:"isSet",value:function(t){return this.jsValues_.hasOwnProperty(t)||this.urlValues_.hasOwnProperty(t)}},{key:"getSanitizedVal",value:function(t){return this.urlValues_.hasOwnProperty(t)?(0,r.filterText)(this.urlValues_[t]):this.jsValues_[t]}},{key:"getInjectUnsafeVal",value:function(t){return this.urlValues_.hasOwnProperty(t)?this.urlValues_[t]:this.jsValues_[t]}},{key:"isExcluded",value:function(t){return this.excluded_.indexOf(t)>-1}},{key:"isTrue",value:function(t){return this.urlValues_.hasOwnProperty(t)?JSON.parse(this.urlValues_[t]):this.jsValues_.hasOwnProperty(t)&&this.jsValues_[t]}},{key:"getArray",value:function(t){return this.urlValues_.hasOwnProperty(t)?this.urlValues_[t].split(",").map(r.filterText):this.jsValues_[t]}},{key:"setUrlValue",value:function(t,e){this.urlValues_[t]=e}},{key:"setJsValue",value:function(t,e){this.jsValues_[t]=e}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URLAPI=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=n(13),s=n(322),l=n(321),u=n(320),c=n(319),h=n(318),f=n(317),p=n(316),d=n(315),v=n(314),y=n(313),g=n(312),m=n(311),_=n(310),b=n(309);e.URLAPI=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e.map,this.initialValues_={},this.parameters_=[l.availableLayersParam,u.centerParam,c.closeButtonParam,h.configurationFileParam,f.fitRectangleParam,p.languageParam,d.layerConfigurationFileParam,v.markerParam,y.responsivenessParam,g.rotationParam,m.searchParam,_.visibleLayersParam,b.zoomParam],e.hasOwnProperty("moduleParameters")&&Array.isArray(e.moduleParameters)&&e.moduleParameters.length&&(this.parameters_=this.parameters_.concat(e.moduleParameters)),this.parameterKeys_=[],this.parameterGetters_=[];var i=function(t){n.parameterKeys_=n.parameterKeys_.concat(t.keys),t.hasOwnProperty("setToMap")&&n.map_.once(t.setEvent,function(){t.hasOwnProperty("getFromMap")&&o.default.extend(n.initialValues_,t.getFromMap(n.map_,n.query_)),t.setToMap(n.map_,n.query_)}),t.hasOwnProperty("getFromMap")&&n.parameterGetters_.push(t.getFromMap)},r=!0,a=!1,w=void 0;try{for(var M,x=this.parameters_[Symbol.iterator]();!(r=(M=x.next()).done);r=!0){i(M.value)}}catch(t){a=!0,w=t}finally{try{!r&&x.return&&x.return()}finally{if(a)throw w}}var S="js"!==e.mode,P="url"!==e.mode?e.init:{};this.query_=new s.Query(this.parameterKeys_,e.excluded||[],S,P)}return r(t,[{key:"addApiLayer",value:function(t,e){if(this.parameterKeys_.indexOf(e)>-1)a.Debug.error("Key is already in use.");else if(e.toLowerCase()!==e)a.Debug.error("Key should be lowercase.");else{var n=window.location.search.match(new RegExp("(\\?|&)"+e+"=(.*?)(&|$)","i"));if(n){var i=n[2];this.query_.setUrlValue(e,i)}var r=function(){var n={};return n[e]=t.getSource().getQueryValues(),n};this.parameterGetters_.push(r),this.initialValues_[e]=r()[e],this.query_.isSet(e)&&(t.getSource().setQueryValues(this.query_.getArray(e)),t.setVisible(!0))}}},{key:"getCurrentParameters",value:function(){var t={};function e(t,e){if((void 0===t?"undefined":i(t))!==(void 0===e?"undefined":i(e)))return!1;if(t instanceof Array){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}if("object"===(void 0===t?"undefined":i(t)))throw new Error("object comparsion not supported atm.");return t===e}var n=!0,r=!1,o=void 0;try{for(var a,s=this.parameterGetters_[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=(0,a.value)(this.map_,this.query_);if(l)for(var u in l)l.hasOwnProperty(u)&&void 0!==l[u]&&(this.initialValues_.hasOwnProperty(u)&&e(this.initialValues_[u],l[u])||(t[u]=l[u].toString()))}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return t}},{key:"makeURL",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).baseURL||window.location.href.match(/^[^?]*/)[0],e=[],n=this.getCurrentParameters();for(var i in n)e.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));var r=t||"";return 0===e.length?r:r.indexOf("?")>-1?r+"&"+e.join("&"):r+"?"+e.join("&")}},{key:"makeHTMLSnippet",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).baseURL||window.location.href.match(/^[^?]*/)[0],e=Math.random().toString(36).substring(7),n=this.map_.get("configFileName"),i=this.map_.get("layerConfigFileName"),r=this.getCurrentParameters();return delete r.conf,delete r.layconf,'\n      <div>\n        <script src="'+t+'/js/ol.js"><\/script>\n        <script src="'+t+'/js/jquery.min.js"><\/script>\n        <script src="'+t+'/js/g4u.js"><\/script>\n        <link rel="stylesheet" href="'+this.mapUrl+'/css/g4u.css" />\n        <div id="#g4u-'+e+"\"></div>\n          <script>\n            g4u.createMap('#g4u-"+e+"', '"+n+"', '"+i+"', { apiInit: "+JSON.stringify(r)+"})\n        <\/script>\n      </div>\n    "}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.Module=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"setMap",value:function(t){this.map_=t}},{key:"getMap",value:function(){return this.map_}},{key:"configureMap",value:function(t){}},{key:"configureUI",value:function(t){}},{key:"createControl",value:function(t,e,n){}},{key:"createLayer",value:function(t,e,n,i){}},{key:"enableUserActionTracking",value:function(){}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URLAPIModule=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),o=n(324),a=n(323),s=n(308),l=n(135),u=n(307),c=n(306),h=n(305);e.URLAPIModule=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return t&&t.hasOwnProperty("moduleParameters")?n.moduleParameters_=t.moduleParameters:n.moduleParameters_=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Module),i(e,[{key:"setMap",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t);var n=t.get("options");t.set("urlApi",new a.URLAPI({map:t,moduleParameters:this.moduleParameters_,mode:n.apiMode,init:n.apiInit}))}},{key:"configureUI",value:function(t){var e=this.getMap().get("marker");e&&e.setMap(null),(0,r.getConfig)(t,"marker")?((e=new s.Marker(t.marker)).setMap(this.getMap()),this.getMap().set("marker",e)):this.getMap().set("marker",void 0)}},{key:"createControl",value:function(t,e,n){switch(t){case"linkGeneratorButton":return new l.WindowDecorator({component:new u.LinkGeneratorButton(e)});case"linkGenerator":return new c.LinkGenerator(e);case"closeWindowButton":return new h.CloseWindowButton(e)}}}]),e}()},function(t,e,n){t.exports=n.p+"files/l10n.json"},function(t,e,n){t.exports=n.p+"conf/layers.commented.json"},function(t,e,n){t.exports=n.p+"conf/client.commented.json"},function(t,e,n){t.exports=n.p+"images/g4u-logo.png"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMapInternal=function(t,e,n,s){Array.isArray(s)&&(s={modules:s});return new Promise(function(l,u){(0,r.default)(document).ready(function(){if(r.default){var c=(0,r.default)().jquery.split(".");+c[0]<2&&+c[1]<9&&a.Debug.error("You are using an outdated version of jQuery. Please use version 1.9 or higher.")}else u(new Error("jQuery not available."));i.default||u(new Error("OpenLayers not available.")),(0,r.default)(t).empty(),window.map=new o.G4UMap(t,e,n,s),window.map.asSoonAs("ready",!0,function(){l(window.map)})})})};var i=s(n(2)),r=s(n(1));n(329),n(68);var o=n(164),a=n(13);function s(t){return t&&t.__esModule?t:{default:t}}window.jQuery=window.jQuery||r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupModifierManager=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(13);e.PopupModifierManager=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.popupModifiers_=new Map}return i(t,[{key:"register",value:function(t,e){this.popupModifiers_.set(t,e)}},{key:"apply",value:function(t,e){var n=this,i=Promise.resolve(t),o=function(t){var e=n.popupModifiers_.get(t);e?i=i.then(function(t){return e.modifyPopupContent(t)}):r.Debug.error("Trying to use unregistered modifier "+t)},a=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){o(u.value)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}return i}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=e.defaults={};i.baselayer={title:{de:"Standardtitel",en:"Default title"},type:"OSM",source:{projection:"EPSG:3857",url:{de:"//{a-c}.tile.openstreetmap.de/tiles/osmde//{z}/{x}/{y}.png",en:"//{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},attribution:{de:'Karte von <a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a>, Lizenz: <a target="_blank" href="http://opendatacommons.org/licenses/odbl/">ODbL</a>',en:'Map from <a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a>, licence: <a target="_blank" href="http://opendatacommons.org/licenses/odbl/">ODbL</a>'}}},i.config={target:"#g4u-map",interfaceProjection:"EPSG:4326",view:{center:[7.086134,50.714689],zoom:18,minZoom:0,maxZoom:18},layers:{baseLayers:[{id:0,title:i.baselayer.title,type:i.baselayer.type,source:{projection:i.baselayer.source.projection,url:i.baselayer.source.url,attribution:i.baselayer.source.attribution},visible:!0}],featureLayers:[],featureLayersElement:{title:"Default title",type:"KML",source:{loadingStrategy:"ALL"}}},controls:{},move:{animationDuration:2e3,pixelPadding:60,meterMinSize:300},styleMap:{"#defaultStyle":{fill:{color:"rgba(0,0,0,0)"},stroke:{color:"rgba(255,255,255,1)",width:2},circle:{radius:5,fill:{color:"rgba(0,0,0,0)"},stroke:{color:"rgba(255,255,255,1)",width:2}}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.L10N=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(2)),o=u(n(1)),a=u(n(163)),s=n(13),l=n(117);function u(t){return t&&t.__esModule?t:{default:t}}e.L10N=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.defaultLang_=t.defaultLanguage||"en",n.currentLang_=t.currentLanguage||n.defaultLang_,n.languageFileUrl_=l.URL.extractFromConfig(t,"languageFile","files/l10n.commented.json"),t.availableLanguages?n.availableLanguages_=t.availableLanguages:(n.availableLanguages_=[n.currentLang_],n.currentLang_!==n.defaultLang_&&n.availableLanguages_.push(n.defaultLang_)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Observable),i(e,[{key:"getAvailableLanguages",value:function(){return this.availableLanguages_}},{key:"setAvailableLanguages",value:function(t){this.availableLanguages_=t}},{key:"ajaxGetLanguageFile",value:function(){var t=this,e=this.languageFileUrl_.finalize();return o.default.ajax({type:"GET",url:e,dataType:"text",success:function(e){t.dictionary=JSON.parse((0,a.default)(e))},error:function(){s.Debug.error("The language file "+e+" couldn't be loaded or parsed")}})}},{key:"selectL10N",value:function(t){if(t){if("string"==typeof t)return t;if(t[this.currentLang_]||""===t[this.currentLang_])return t[this.currentLang_];if(t[this.defaultLang_]||""===t[this.defaultLang_])return t[this.defaultLang_];if(t["*"]||""===t["*"])return t["*"];s.Debug.error("Unable to obtain localization")}}},{key:"localiseUsingDictionary",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t in this.dictionary)return this.selectL10N(this.dictionary[t]);e||s.Debug.error("Cannot localise '"+t+"': Not in dictionary")}},{key:"setCurrentLang",value:function(t){this.currentLang_=t,this.dispatchEvent("change:language",t)}},{key:"getCurrentLang",value:function(){return this.currentLang_}},{key:"getDefaultLang",value:function(){return this.defaultLang_}},{key:"isRtl",value:function(){return this.dictionary[this.currentLang_].rtl||!1}}]),e}()},function(t,e,n){"use strict";var i=o(n(2)),r=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}i.default.Object.prototype.asSoonAs=function(t,e,n){var i=this;if(!r.default.isFunction(n))throw new Error("You need to provide a callback to asSoonAs.");this.get(t)===e?n():this.once("change:"+t,function(){i.asSoonAs(t,e,n)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.API=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(2)),o=l(n(1)),a=n(8),s=n(13);function l(t){return t&&t.__esModule?t:{default:t}}e.API=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.featureManipulationActive_=!1,i.drawStyle_=n.drawStyle||"#drawStyle",i.wktParser_=new r.default.format.WKT,i.map_=t,i.featureManipulationInteraction_=null,i.map_.once("ready",function(){i.layerConfigurator_=i.map_.get("configurator").layerConfigurator_}),(0,o.default)(i.map_.getViewport()).on("keydown",i.onKeyDown_.bind(i)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Object),i(e,[{key:"endFeatureManipulationInternal_",value:function(){this.featureManipulationInteraction_&&(this.featureManipulationInteraction_.setActive(!1),this.map_.removeInteraction(this.featureManipulationInteraction_)),(0,o.default)(this.map_.getViewport()).removeClass(a.cssClasses.crosshair),(0,o.default)(this.map_.getViewport()).removeClass(a.cssClasses.arrow),this.featureManipulationActive_=!1,this.dispatchEvent("endManipulation")}},{key:"cancelFeatureManipulation",value:function(){this.featureManipulationActive_&&this.endFeatureManipulationInternal_()}},{key:"drawFeature",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.featureManipulationActive_&&this.endFeatureManipulationInternal_(),this.featureManipulationActive_=!0;var n=new r.default.Collection,i=e.style||this.drawStyle_||{},s=this.map_.get("styling").getStyle(i);return this.map_.get("styling").manageFeatureCollection(n),this.featureManipulationInteraction_=new r.default.interaction.Draw({features:n,type:e.type||"Point",style:s}),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",this.featureManipulationInteraction_),(0,o.default)(this.map_.getViewport()).addClass(a.cssClasses.crosshair),{cancel:function(){t.endFeatureManipulationInternal_()},end:function(){t.featureManipulationInteraction_.finishDrawing(),t.endFeatureManipulationInternal_()},result:new Promise(function(e){t.featureManipulationInteraction_.on("drawend",function(n){e(n.feature),t.endFeatureManipulationInternal_()})})}}},{key:"fitRectangle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.hasOwnProperty("srId")||(e.srId="EPSG:4326"),e.hasOwnProperty("constrainResolution")||(e.constrainResolution=!1),e.hasOwnProperty("padding")||(e.padding=[0,0,0,0]),r.default.proj.get(e.srId)?this.map_.getView().fit(r.default.extent.boundingExtent([r.default.proj.transform([parseFloat(t[0][0]),parseFloat(t[0][1])],e.srId,this.map_.get("mapProjection").getCode()),r.default.proj.transform([parseFloat(t[1][0]),parseFloat(t[1][1])],e.srId,this.map_.get("mapProjection").getCode())]),e):s.Debug.error("Unknown Projection '"+e.srId+"'")}},{key:"setVisibleBaseLayer",value:function(t){this.map_.get("baseLayers").recursiveForEach(function(e){e.setVisible(e.get("id")===t)})}},{key:"onKeyDown_",value:function(t){this.featureManipulationActive_&&t.which===a.keyCodes.ESCAPE&&this.endFeatureManipulationInternal_()}},{key:"selectFeature",value:function(){var t=this;return this.featureManipulationActive_&&this.endFeatureManipulationInternal_(null),this.featureManipulationActive_=!0,this.featureManipulationInteraction_=new r.default.interaction.Select,this.map_.addSupersedingInteraction("singleclick",this.featureManipulationInteraction_),(0,o.default)(this.map_.getViewport()).addClass(a.cssClasses.arrow),{cancel:function(){t.endFeatureManipulationInternal_()},end:function(){t.endFeatureManipulationInternal_()},result:new Promise(function(e){t.featureManipulationInteraction_.getFeatures().on("add",function(n){e(n.element),t.endFeatureManipulationInternal_()})})}}},{key:"modifyFeature",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.features=new r.default.Collection([t]),this.featureManipulationActive_&&this.endFeatureManipulationInternal_(!1),this.featureManipulationActive_=!0,n.style&&(n.style=this.map_.get("styling").getStyle(n.style)),this.featureManipulationInteraction_=new r.default.interaction.Modify(n),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",this.featureManipulationInteraction_),(0,o.default)(this.map_.getViewport()).addClass(a.cssClasses.crosshair);var i=!1;return{cancel:function(){e.endFeatureManipulationInternal_()},end:function(){i=!0,e.endFeatureManipulationInternal_()},result:new Promise(function(n){e.featureManipulationInteraction_.on("modifyend",function(){i&&n(t)}),e.featureManipulationInteraction_.once("change:active",function(){i&&n(t)})})}}},{key:"addFeatureLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("featureLayers"),t,"featureLayer",!0)}},{key:"addFixedFeatureLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("fixedFeatureLayers"),t,"featureLayer",!0)}},{key:"addBaseLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("baseLayers"),t,"baseLayer",!0)}},{key:"loadLayerFromServer",value:function(t){var e=this;return(t=t||{}).visible=!0,t.source=t.source||{},new Promise(function(n,i){var r=e.addFeatureLayer(t),o=r.getSource(),a=function(){o.un("vectorloadend",s),n(r)},s=function(){o.un("vectorloaderror",a),i(new Error("vector load error"))};o.once("vectorloadend",a),o.once("vectorloaderror",s)})}},{key:"createFeature",value:function(t){return this.layerConfigurator_.getFactory().createFeature(t)}},{key:"removeLayer",value:function(t){this.map_.getLayerGroup().removeLayer(t)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.History=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.callbacks_=[],"future"!==window.history.state&&(window.history.replaceState("base",""),window.history.pushState("future","")),window.addEventListener("popstate",function(t){if("base"===t.state){var n=e.callbacks_.pop();n?(n.call(),window.history.forward()):window.history.back()}})}return i(t,[{key:"push",value:function(t){this.callbacks_.push(t)}},{key:"pop",value:function(){this.callbacks_.pop()()}},{key:"flush",value:function(){for(;this.callbacks_.length;)this.pop()}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapEventInteraction=void 0;var i=o(n(2)),r=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}e.MapEventInteraction=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n.type||"singleclick";return t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{handleEvent:function(e){return t.getActive()&&e.type===i&&(0,r.default)(e.originalEvent.target).is(".ol-viewport > canvas")&&t.dispatchEvent({type:"mapevent",mapEvent:e}),!0}}))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.interaction.Interaction),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowWMSFeatureInfo=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=c(n(2)),o=c(n(1)),a=n(85),s=n(337),l=n(197),u=n(8);function c(t){return t&&t.__esModule?t:{default:t}}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.ShowWMSFeatureInfo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.separator_=e.hasOwnProperty("seperator")?e.seperator:"<br>",this.style_=e.style||"#defaultStyle",this.animated_=e.animated,this.centerOnPopup_=!e.hasOwnProperty("centerOnPopup")||e.centerOnPopup,this.centerIfNoData_=!(!this.centerOnPopup_||!e.hasOwnProperty("centerIfNoData"))&&e.centerIfNoData,this.centerOnPopupInitial_=this.centerOnPopup_,this.popupModifiers_=e.popupModifiers||[]}return i(t,[{key:"handleClickEvent",value:function(t){var e=this,n=this.getMap(),i=n.get("featurePopup"),o=n.getView().getProjection(),a=this.layers_.filter(function(t){return t.getVisible()});n.forEachLayerAtPixel(t.mapEvent.pixel,function(t){return a.indexOf(t)>-1})&&!n.forEachFeatureAtPixel(t.mapEvent.pixel,l.FeaturePopup.canDisplay)&&function(){var s=t.mapEvent.coordinate;e.utilitySource_.clear();var l=void 0,u=function(t){t.getSource().getFeatureInfo(s,n.getView().getResolution(),o).then(function(o){""!==o&&(l?l.set("description",l.get("description")+e.separator_+o):(e.utilitySource_.clear(),l=new r.default.Feature({geometry:new r.default.geom.Point(s),description:o,style:n.get("styling").getStyle(e.style_)}),n.get("styling").manageFeature(l),e.utilitySource_.addFeature(l),i.setFeature(l,s,[].concat(h(e.popupModifiers_),h(t.getSource().getFeatureInfoMutators()))),i.setVisible(!0),e.setPointVisible(!0),e.centerOnPopup_&&i.centerMapOnPopup(e.animated_),i.once("change:visible",function(){return e.setPointVisible(!1)}))),t.on("change:visible",function(){i.setVisible(!1)})})},c=!0,f=!1,p=void 0;try{for(var d,v=a[Symbol.iterator]();!(c=(d=v.next()).done);c=!0){u(d.value)}}catch(t){f=!0,p=t}finally{try{!c&&v.return&&v.return()}finally{if(f)throw p}}}()}},{key:"layerQueryable",value:function(t){var e=this;return this.layers_.some(function(n){return n.getVisible()&&e.layers_.indexOf(t)>-1&&t.getSource().getQueryable()})}},{key:"handlePointerMoveEvent",value:function(t){var e=this,n=this.getMap();if(!n.forEachFeatureAtPixel(t.mapEvent.pixel,l.FeaturePopup.canDisplay,{hitTolerance:5})){var i=n.get("featureTooltip");this.lastTooltipPixel_=t.pixel,n.forEachLayerAtPixel(t.mapEvent.pixel,function(t){return e.layerQueryable(t)})?(clearTimeout(this.tooltipTimeout_),(0,o.default)(n.getViewport()).addClass(u.cssClasses.clickable),this.tooltipTimeout_=setTimeout(function(){if(t.pixel===e.lastTooltipPixel_){var o=n.getView().getProjection(),a=t.mapEvent.coordinate,s=void 0;n.forEachLayerAtPixel(t.mapEvent.pixel,function(t){e.layerQueryable(t)&&t.getSource().getFeatureInfo(a,n.getView().getResolution(),o).then(function(n){""!==n&&(s?s.set("description",s.get("description")+e.separator_+n):(s=new r.default.Feature({geometry:new r.default.geom.Point(a),description:n}),i.setFeature(s,a,[].concat(h(e.popupModifiers_),h(t.getSource().getFeatureInfoMutators())))),e.shouldHide_=!0),t.on("change:visible",function(){i.setFeature(null)})})})}},200)):(this.shouldHide_&&i.setFeature(null),(0,o.default)(n.getViewport()).removeClass(u.cssClasses.clickable))}}},{key:"setMap",value:function(t){var e=this,n=function(){t.get("mobile")?e.centerOnPopup_=!1:e.centerOnPopup_=e.centerOnPopupInitial_};if(this.getMap()&&(this.getMap().un("change:mobile",n),r.default.Observable.unByKey(this.listenerKey_)),this.map_=t,t){this.utilitySource_=new r.default.source.Vector,this.utilityLayer_=new a.VectorLayer({visible:!1,source:this.utilitySource_}),t.addLayer(this.utilityLayer_),this.layers_=[];var i=new s.MapEventInteraction({type:"singleclick"});i.on("mapevent",function(t){return e.handleClickEvent(t)}),t.addDefaultInteraction("singleclick",i);var o=new s.MapEventInteraction({type:"pointermove"});o.on("mapevent",function(t){return e.handlePointerMoveEvent(t)}),t.addDefaultInteraction("pointermove",o),n(),t.on("change:mobile",n)}}},{key:"getPointVisible",value:function(){return this.utilityLayer_.getVisible()}},{key:"setPointVisible",value:function(t){this.utilityLayer_.setVisible(t)}},{key:"getMap",value:function(){return this.map_}},{key:"addLayer",value:function(t){this.layers_.push(t)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureSelect=void 0;var i=o(n(2)),r=o(n(224));function o(t){return t&&t.__esModule?t:{default:t}}e.FeatureSelect=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),o=function(t){return t.getGeometry()instanceof i.default.geom.Point||t.getGeometry()instanceof i.default.geom.MultiPoint?1:t.getGeometry()instanceof i.default.geom.LineString||t.getGeometry()instanceof i.default.geom.MultiLineString?2:3};return n.on("select",function(t){t.selected=(0,r.default)(t.selected,o),t.deselected=(0,r.default)(t.deselected,o)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.interaction.Select),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleDrawButton=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=p(n(2)),a=p(n(1)),s=n(18),l=n(8),u=n(85);n(812);var c=n(3),h=n(193),f=n(79);function p(t){return t&&t.__esModule?t:{default:t}}e.SingleDrawButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,a.default)("<div>").get(0),t.className=t.className||"g4u-single-draw",t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.editStyle_=t.editStyle||"#defaultStyle",n.finishedStyle_=t.finishedStyle||"#defaultStyle",n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("SingleDrawButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("SingleDrawButton tipLabel")),n.createHTML(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,c.mixin)(s.Control,f.ActivatableMixin)),i(e,[{key:"createHTML",value:function(){var t=this,e=(0,a.default)("<button>").addClass(this.getClassName()+"-button").addClass(l.cssClasses.mainButton).text(this.getTitle()).on("click",function(){t.getActive()?t.setActive(!1):t.dropdown_.slideDown()});this.get$Element().append(e),this.dropdown_=new h.Dropdown,this.dropdown_.setEntries(["Point","LineString","Polygon","Circle","Delete"],[this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw point"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw line"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw polygon"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw circle"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton delete all")]),this.dropdown_.on("select",function(){t.setActive(!0)}),this.get$Element().append(this.dropdown_.get$Element())}},{key:"setActive",value:function(t){if(t){var n=this.dropdown_.getValue();"Delete"===n?this.layer_.getSource().clear():this.addInteraction(n),this.dropdown_.slideUp()}else this.interaction_&&this.removeInteraction();r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(l.cssClasses.active,t)}},{key:"addInteraction",value:function(t){var e=this,n=this.getMap();this.interaction_=new o.default.interaction.Draw({source:this.layer_.getSource(),type:t,style:n.get("styling").getStyle(this.editStyle_)}),(0,a.default)(n.getViewport()).addClass(l.cssClasses.crosshair),n.addSupersedingInteraction("singleclick dblclick pointermove",this.interaction_),this.interaction_.on("drawend",function(){e.setActive(!1)})}},{key:"removeInteraction",value:function(){var t=this.getMap();this.interaction_.setActive(!1),t.removeInteraction(this.interaction_),this.interaction_=void 0,(0,a.default)(t.getViewport()).removeClass(l.cssClasses.crosshair)}},{key:"setMap",value:function(t){var n=this;this.getMap()&&(this.getMap().getLayers().remove(this.layer_),this.interaction_&&this.removeInteraction()),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.layer_=new u.VectorLayer({source:new o.default.source.Vector,visible:!0}),this.layer_.setStyle(t.get("styling").getStyle(this.finishedStyle_)),t.get("styling").manageLayer(this.layer_),t.getLayers().insertAt(1,this.layer_),(0,a.default)(t.getViewport()).parent().on("keydown",function(t){t.which===l.keyCodes.ESCAPE&&n.interaction_&&n.removeInteraction()}))}},{key:"getLayer",value:function(){return this.layer_}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewMap=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(97),a=n(39),s=n(3);n(816);e.OverviewMap=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.hasOwnProperty("title")?t.tipLabel=t.localiser.selectL10N(t.title):t.tipLabel=t.hasOwnProperty("tipLabel")?t.localiser.selectL10N(t.tipLabel):t.localiser.localiseUsingDictionary("OverviewMap tipLabel"),t.layers=[],function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixin)((0,s.mixin)(r.default.control.OverviewMap,o.RewireMixin),a.ListenerOrganizerMixin)),i(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&this.detachAllListeners(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){var i=t.getView();this.getOverviewMap().setLayerGroup(t.get("baseLayers"));var r=this.get$Element().find(".ol-overviewmap-map");r=r.add(r.find(".ol-overviewmap-box"));var o=!1;this.listenAt(r).on("click",function(t){o||i.setCenter(i.constrainCenter(n.getOverviewMap().getEventCoordinate(t)))});var a=!1;this.listenAt(r).on("mousedown",function(){o=!1,a=!0}),this.listenAt(r).on("mouseup",function(t){a=!1}),this.listenAt(r).on("mousemove",function(t){a&&i.setCenter(i.constrainCenter(n.getOverviewMap().getEventCoordinate(t)))}),this.getOverviewMap().getView().on("change:center",function(){a=!1,o=!0});var s=this.get$Element().find("button");this.listenAt(s).on("click",function(){return n.dispatchEvent("change:size")})}}},{key:"afterPositioning",value:function(){this.getOverviewMap().updateSize()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScaleLine=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(3),a=n(97);n(818);var s=n(39);e.ScaleLine=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-scale-line",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,o.mixin)((0,o.mixin)(r.default.control.ScaleLine,a.RewireMixin),s.ListenerOrganizerMixin)),i(e,[{key:"setMap",value:function(t){var n=this;this.getMap()&&this.detachAllListeners(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&this.listenAt(t.getView()).on("change:resolution",function(){return n.dispatchEvent("change:size")})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MousePosition=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(3),o=n(97);n(820);e.MousePosition=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-mouseposition";var n=function(t,e){var n=t.toString().match(/^[^.]*/)[0];return n.length>=e?n:t.toFixed(e-n.length)},i=t.digits||8;t.coordinateFormat=function(t){return n(t[0],i)+", "+n(t[1],i)};var r="&ndash;."+"&ndash;".repeat(i-1);return t.undefinedHTML=r+", "+r,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,r.mixin)(i.default.control.MousePosition,o.RewireMixin)),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.ActiveGroup=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controls_=e;var n=!0,i=!1,r=void 0;try{for(var o,a=this.controls_[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.addControl(s)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}return i(t,[{key:"addControl",value:function(t){var e=this;this.controls_.push(t),t.on("change:active",function(){t.getActive()?(e.activeControl_&&e.activeControl_.setActive(!1),e.activeControl_=t):e.activeControl_=null})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpButton=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=f(n(1)),a=n(18),s=n(3),l=f(n(163)),u=n(13);n(823),n(68);var c=n(79),h=n(8);function f(t){return t&&t.__esModule?t:{default:t}}e.HelpButton=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,o.default)("<div>")[0],t.className=t.className||"g4u-helpbutton";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("HelpButton title")),n.setTipLabel(n.getTipLabel()||t.localiser.localiseUsingDictionary("HelpButton tipLabel")),n.configControls_=t.configControls||{},n.documentationFileName_=t.fileName,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixin)(a.Control,c.ActivatableMixin)),i(e,[{key:"createContent_",value:function(){var t=this,e=this.getMap().get("localiser"),n=JSON.parse((0,l.default)(this.contentData_));(0,s.checkFor)(n,e.getCurrentLang())?this.language=e.getCurrentLang():(0,s.checkFor)(n,e.getDefaultLang())?this.language=e.getDefaultLang():this.language="de";this.get$Element().append(function(i,r){var a=(0,o.default)("<table>").addClass(t.className_+"-table");e.isRtl()&&a.prop("dir","rtl");var s=n[r],l=void 0,u=void 0,c=void 0,h=void 0,f=void 0,p=void 0,d=void 0,v=[];if(t.configControls_&&t.configControls_.hasOwnProperty("onMap")){var y=function e(n){v=v.concat(n.map(function(e){return t.configControls_.hasOwnProperty(e)&&t.configControls_[e].hasOwnProperty("controlType")?t.configControls_[e].controlType:e}));var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.configControls_.hasOwnProperty(l)&&t.configControls_[l].hasOwnProperty("contains")&&e(t.configControls_[l].contains)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}};t.getMap().get("mobile")?t.configControls_.hasOwnProperty("mobileControls")&&t.configControls_.mobileControls.hasOwnProperty("contains")&&y(t.configControls_.mobileControls.contains):y(t.configControls_.onMap.filter(function(t){return"mobileControls"!==t}))}for(l in s)if(s.hasOwnProperty(l)&&s[l]){if(u=s[l].img,c=s[l].descr||"",h=s[l].joinWith||"",v.includes(l)){if(p=(0,o.default)("<tr>"),f='<td class="'+t.className_+'-img"><div class="'+t.className_+'-imgDiv">',u)if(o.default.isArray(u)){for(var g=0,m=u.length;g<m;g++)u[g]='<img class="'+t.className_+'-docuImg" src="images/'+u[g]+'">';f+=u.join(h)}else f+='<img class="'+t.className_+'-docuImg" src="images/'+u+'">';f+="</div></td>",p.append(f),d=(0,o.default)("<td>").addClass(t.className_+"-descr"),o.default.isArray(c)?d.append(c.join("<p>")):d.append(c),p.append(d)}a.append(p)}return a}(0,this.language))}},{key:"setMap",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&this.activateOnMapChange()}},{key:"setActive",value:function(t){var n=this;this.loading_?this.once("loaded",function(){return n.setActive(t)}):t?this.contentData_?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t):(this.loading_=!0,o.default.ajax(this.documentationFileName_,{dataType:"text"}).fail(function(){var t="Wasn't able to load the documentation file "+n.documentationFileName_;throw u.Debug.error(t),new Error(t)}).done(function(i){n.contentData_=i,n.createContent_(),(0,s.finishAllImages)(n.get$Element()).then(function(){n.loading_=!1,n.dispatchEvent("loaded"),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",n).call(n,t)})})):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(h.cssClasses.active,t)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logo=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),r=n(18);n(825);e.Logo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-logo",t.element=(0,i.default)("<img>").get(0),t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.logo_=t.hasOwnProperty("src")?t.src:"images/g4u-logo.png",n.get$Element().on("load",function(){return n.changed}).prop("src",n.logo_).addClass(n.className_),"both"!==t.mode&&"screen"!==t.mode||n.get$Element().addClass(n.className_+"-screen"),"both"!==t.mode&&"print"!==t.mode||n.get$Element().addClass(n.className_+"-print"),t.width&&n.get$Element().width(t.width),t.height&&n.get$Element().height(t.height),t.opacity&&n.get$Element().css("opacity",t.opacity.toString()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Control),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkButton=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),r=n(18),o=n(32),a=n(8);n(831);e.LinkButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-link-button",t.singleButton=!0,t.element=(0,i.default)("<a></a>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.url_=t.hasOwnProperty("url")?t.url:"",n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("LinkButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("LinkButton tipLabel")),n.get$Element().attr("href",n.url_).addClass(n.className_),t.hasOwnProperty("target")&&n.get$Element().attr("target",t.target);var r=(0,i.default)("<button>").addClass(a.cssClasses.mainButton).html(n.getTitle());return(0,o.addTooltip)(r,n.getTipLabel()),n.get$Element().append(r),t.hasOwnProperty("linkTarget")&&n.get$Element().attr("target",t.linkTarget),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Control),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InfoButton=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=n(196),s=n(18);n(833);var l=n(117),u=n(79),c=n(3),h=n(8);e.InfoButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-infobutton",t.element=(0,o.default)("<div>")[0];var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.classNameAttributions_=n.className_+"-attributions",n.classNameContent_=n.className_+"-content",n.getTitle()||n.setTitle(n.getLocaliser().localiseUsingDictionary("InfoPage title")),n.getTipLabel()||n.setTipLabel(n.getLocaliser().localiseUsingDictionary("InfoPage tipLabel")),n.$content_=(0,o.default)("<div>").addClass(n.classNameContent_),n.get$Element().append(n.$content_),n.attribution_=!1!==t.attribution,n.contentURL_=l.URL.extractFromConfig(t,"contentURL"),n.attribution_&&(n.$attributions_=(0,o.default)("<div>"),n.get$Element().append((0,o.default)("<h2>").html(n.getLocaliser().localiseUsingDictionary("InfoPage copyrightTitle"))).append(n.$attributions_),n.attributionControl_=new a.Attribution({target:n.get$Element()[0],localiser:n.getLocaliser(),collapsible:!1,className:n.classNameAttributions_})),n.loaded_=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,c.mixin)(s.Control,u.ActivatableMixin)),i(e,[{key:"setMap",value:function(t){var n=this.getMap();n&&this.attribution_&&n.removeControl(this.attributionControl_),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.contentURL_&&this.contentURL_.extractParamsFromMap(t),this.attribution_&&t.addControl(this.attributionControl_),this.activateOnMapChange())}},{key:"setActive",value:function(t){var n=this;t?(this.getMap().get("localiser").isRtl()?this.get$Element().prop("dir","rtl"):this.get$Element().prop("dir",void 0),!this.loaded_&&this.contentURL_?o.default.get(this.contentURL_.finalize(),function(i){n.$content_.html(i),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",n).call(n,t),n.loaded_=!0}):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t)):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(h.cssClasses.active,t)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftableComposedControl=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(136),a=n(8);e.ShiftableComposedControl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.visibleControls_=t.visibleControls,n.position_=1;var i=(0,r.default)("<div>").addClass(n.className_+"-shift");return n.get$Element().append(i.append(n.get$Container())),n.$moveLeftButton_=(0,r.default)("<button>").addClass(n.className_+"-move-left").addClass(n.classNameItem_).addClass(n.classNameItemFirst_).addClass(a.cssClasses.hidden),n.$moveLeftButton_.on("click",function(){return n.shiftControls(-(n.visibleControls_-2))}),i.prepend(n.$moveLeftButton_),n.$moveLeftButton_.addClass(a.cssClasses.hidden),n.$moveRightButton_=(0,r.default)("<button>").addClass(n.className_+"-move-right").addClass(n.classNameItem_).addClass(n.classNameItemLast_),n.$moveRightButton_.on("click",function(){return n.shiftControls(n.visibleControls_-2)}),i.append(n.$moveRightButton_),n.$moveRightButton_.addClass(a.cssClasses.hidden),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ComposedControl),i(e,[{key:"addControl",value:function(t,n){((function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,t,n),this.controls_.length>this.visibleControls_)&&(this.get$Container().children(":last-child").addClass(a.cssClasses.hidden),(0,r.default)(this.get$Container().children()[this.visibleControls_-1]).addClass(a.cssClasses.hidden),this.$moveRightButton_.removeClass(a.cssClasses.hidden))}},{key:"shiftControls",value:function(t){t<0?this.position_>1&&(this.$moveRightButton_.hasClass(a.cssClasses.hidden)&&(this.get$Container().children(":last-child").addClass(a.cssClasses.hidden),this.$moveRightButton_.removeClass(a.cssClasses.hidden)),this.position_--,(0,r.default)(this.get$Container().children()[this.position_]).removeClass(a.cssClasses.hidden),(0,r.default)(this.get$Container().children()[this.position_+this.visibleControls_-2]).addClass(a.cssClasses.hidden),1===this.position_&&(this.get$Container().children(":first-child").removeClass(a.cssClasses.hidden),this.$moveLeftButton_.addClass(a.cssClasses.hidden)),this.shiftControls(t+1)):t>0&&this.position_+this.visibleControls_<this.controls_.length+1&&(this.$moveLeftButton_.hasClass(a.cssClasses.hidden)&&(this.get$Container().children(":first-child").addClass(a.cssClasses.hidden),this.$moveLeftButton_.removeClass(a.cssClasses.hidden)),this.position_++,(0,r.default)(this.get$Container().children()[this.position_-1]).addClass(a.cssClasses.hidden),(0,r.default)(this.get$Container().children()[this.position_+this.visibleControls_-3]).removeClass(a.cssClasses.hidden),this.position_+this.visibleControls_>=this.controls_.length&&(this.get$Container().children(":last-child").removeClass(a.cssClasses.hidden),this.$moveRightButton_.addClass(a.cssClasses.hidden)),this.shiftControls(t-1))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MobileControls=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=n(349),s=n(135);n(835);e.MobileControls=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-mobilecontrols",t.element=(0,o.default)("<div>").get(0),t.containerClassName=t.className+"-container",t.visibleControls=t.visibleControls||6,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.ShiftableComposedControl),i(e,[{key:"addControl",value:function(t,n){t.isWindowed()||t.isSingleButton()?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,t,n):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,new s.WindowDecorator({component:t}),n)}},{key:"setMap",value:function(t){var n=this;this.getMap()&&this.getMap().un("change:mobile",this.handler_),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.handler_=function(){if(!t.get("mobile")){var e=!0,i=!1,r=void 0;try{for(var o,a=n.getControls().filter(function(t){return t.setWindowVisible})[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){o.value.setWindowVisible(!1)}}catch(t){i=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw r}}}},t.on("change:mobile",this.handler_))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherMenu=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(193),a=n(32),s=n(18),l=n(8),u=n(13);n(841);var c=n(39),h=n(3),f=n(79);e.LanguageSwitcherMenu=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-languageswitchermenu",t.element=(0,r.default)("<div>").get(0),t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.showLongLanguage_=t.showLongLanguage||!1,n.setTitle(n.getLocaliser().getCurrentLang()),n.$button_=(0,r.default)("<button>").addClass(n.className_+"-button").addClass(l.cssClasses.mainButton),n.showLongLanguage_&&n.$button_.addClass(n.className_+"-lang-long"),n.get$Element().append(n.$button_);n.dropdown_=new o.Dropdown({className:"g4u-dropdown"}),n.get$Element().append(n.dropdown_.get$Element());var i=n.getLocaliser().getAvailableLanguages();return i.length<2?(u.Debug.info("You do not have any languages to switch between."),u.Debug.info("Could it be that you forgot to disable languageSwitcherMenu?")):2===i.length&&(u.Debug.info("You only have 2 languages to switch between."),u.Debug.info("What about using languageSwitcherButton in place of languageSwitcherMenu?")),n.dropdown_.setEntries(i,i.map(function(t){return t.toUpperCase()+" - "+n.getLocaliser().localiseUsingDictionary(t)})),n.dropdown_.on("select",function(){return n.getLocaliser().setCurrentLang(n.dropdown_.getValue())}),n.dropdown_.on("close",function(){n.setActive(!1),(0,r.default)(n.getMap().getViewport()).focus()}),n.on("change:active",function(){return n.handleActiveChange_()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,h.mixin)(s.Control,[c.ListenerOrganizerMixin,f.ActivatableMixin])),i(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&(this.detachAllListeners(),this.dropdown_.detach(),this.setActive(!1)),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){this.dropdown_.setFastMode(t.get("mobile")),t.on("change:mobile",function(){return n.dropdown_.setFastMode(t.get("mobile"))}),this.listenAt(this.get$Element()).on("click",function(){n.collapse_=!1,n.setActive(!n.getActive())});var i=this.getLocaliser().getCurrentLang();this.showLongLanguage_?this.$button_.html(i.toUpperCase()+" - "+this.getLocaliser().localiseUsingDictionary(i)):this.$button_.html(i.toUpperCase()),(0,a.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherMenu tipLabel")),this.activateOnMapChange()}}},{key:"handleActiveChange_",value:function(){this.dropdown_.setActivated(this.getLocaliser().getCurrentLang()),this.getActive()?this.dropdown_.slideDown():this.dropdown_.slideUp()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherButton=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(18),a=n(32),s=n(13);n(841);e.LanguageSwitcherButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,r.default)("<button>").get(0),t.singleButton=!0,t.className=t.className||"g4u-languageswitcher";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.$button_=n.get$Element().addClass(n.className_+"-button");var i=n.getLocaliser().getAvailableLanguages();return i.length<2?(s.Debug.info("You do not have any languages to switch between."),s.Debug.info("Could it be that you forgot to disable languageSwitcherButton?")):i.length>2&&(s.Debug.info("You have more than 2 languages to switch between."),s.Debug.info("In this case you need to use languageSwitcherMenu.")),n.$button_.on("click",function(){var t=i[1-i.indexOf(n.getLocaliser().getCurrentLang())];n.getLocaliser().setCurrentLang(t)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),i(e,[{key:"setMap",value:function(t){t&&(this.$button_.html(this.getLocaliser().getCurrentLang()),(0,a.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherButton tipLabel"))),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}}]),e}()},function(t,e,n){var i,r,o;r=[n(1)],void 0===(o="function"==typeof(i=function(t){var e=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},n="notifyjs",i={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},r=["l","c","r"],o=["t","m","b"],a=["t","b","l","r"],s={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},l={},u={name:"core",html:'<div class="'+n+'-wrapper">\n\t<div class="'+n+'-arrow"></div>\n\t<div class="'+n+'-container"></div>\n</div>',css:"."+n+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+n+"-corner ."+n+"-wrapper,\n."+n+"-corner ."+n+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+n+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+n+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+n+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+n+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},c={"border-radius":["-webkit-","-moz-"]},h=function(e,i){if(!e)throw"Missing Style name";if(!i)throw"Missing Style definition";if(!i.html)throw"Missing Style HTML";var r=l[e];r&&r.cssElem&&(window.console&&console.warn("notify: overwriting style '"+e+"'"),l[e].cssElem.remove()),i.name=e,l[e]=i;var o="";i.classes&&t.each(i.classes,function(e,r){return o+="."+n+"-"+i.name+"-"+e+" {\n",t.each(r,function(e,n){return c[e]&&t.each(c[e],function(t,i){return o+="\t"+i+e+": "+n+";\n"}),o+="\t"+e+": "+n+";\n"}),o+="}\n"}),i.css&&(o+="/* styles for "+i.name+" */\n"+i.css),o&&(i.cssElem=f(o),i.cssElem.attr("id","notify-"+i.name));var a={},s=t(i.html);p("html",s,a),p("text",s,a),i.fields=a},f=function(e){var n;(n=g("style")).attr("type","text/css"),t("head").append(n);try{n.html(e)}catch(t){n[0].styleSheet.cssText=e}return n},p=function(e,n,i){var r;return"html"!==e&&(e="text"),d(n,"["+(r="data-notify-"+e)+"]").each(function(){var n;(n=t(this).attr(r))||(n="notify!blank"),i[n]=e})},d=function(t,e){return t.is(e)?t:t.find(e)},v={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},y=function(e,n){var i;return(i=function(){}).prototype=e,t.extend(!0,new i,n)},g=function(e){return t("<"+e+"></"+e+">")},m={},_=function(e){var n;return e.is("[type=radio]")&&(n=e.parents("form:first").find("[type=radio]").filter(function(n,i){return t(i).attr("name")===e.attr("name")}),e=n.first()),e},b=function(t,e,n){var r;if("string"==typeof n)n=parseInt(n,10);else if("number"!=typeof n)return;if(!isNaN(n))return r=i[s[e.charAt(0)]],void 0!==t[r]&&(e=i[r.charAt(0)],n=-n),void 0===t[e]?t[e]=n:t[e]+=n,null},w=function(t,e,n){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return n/2-e/2;if("r"===t||"b"===t)return n-e;throw"Invalid alignment"},M=function(t){return M.e=M.e||g("div"),M.e.text(t).html()};function x(e,i,r){"string"==typeof r&&(r={className:r}),this.options=y(v,t.isPlainObject(r)?r:{}),this.loadHTML(),this.wrapper=t(u.html),this.options.clickToHide&&this.wrapper.addClass(n+"-hidable"),this.wrapper.data(n,this),this.arrow=this.wrapper.find("."+n+"-arrow"),this.container=this.wrapper.find("."+n+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=_(e),this.elem.data(n,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(i)}x.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},x.prototype.show=function(t,e){var n,i,r,o,a;if(i=function(n){return function(){if(t||n.elem||n.destroy(),e)return e()}}(this),a=this.container.parent().parents(":hidden").length>0,r=this.container.add(this.arrow),n=[],a&&t)o="show";else if(a&&!t)o="hide";else if(!a&&t)o=this.options.showAnimation,n.push(this.options.showDuration);else{if(a||t)return i();o=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(i),r[o].apply(r,n)},x.prototype.setGlobalPosition=function(){var e=this.getPosition(),r=e[0],o=e[1],a=i[r],s=i[o],l=r+"|"+o,u=m[l];if(!u){u=m[l]=g("div");var c={};c[a]=0,"middle"===s?c.top="45%":"center"===s?c.left="45%":c[s]=0,u.css(c).addClass(n+"-corner"),t("body").append(u)}return u.prepend(this.wrapper)},x.prototype.setElementPosition=function(){var n,l,u,c,h,f,p,d,v,y,g,m,_,M,x,S,P,O,k,C,E,L,A,j,T,I,N,F;for(I=this.getPosition(),A=I[0],L=I[1],I[2],g=this.elem.position(),d=this.elem.outerHeight(),m=this.elem.outerWidth(),v=this.elem.innerHeight(),y=this.elem.innerWidth(),F=this.wrapper.position(),h=this.container.height(),f=this.container.width(),O=i[A],(p={})[E=i[C=s[A]]]="b"===A?d:"r"===A?m:0,b(p,"top",g.top-F.top),b(p,"left",g.left-F.left),M=0,S=(N=["top","left"]).length;M<S;M++)j=N[M],(k=parseInt(this.elem.css("margin-"+j),10))&&b(p,j,k);if(_=Math.max(0,this.options.gap-(this.options.arrowShow?u:0)),b(p,E,_),this.options.arrowShow){for(u=this.options.arrowSize,l=t.extend({},p),n=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",x=0,P=a.length;x<P;x++)T=i[j=a[x]],j!==C&&(c=T===O?n:"transparent",l["border-"+T]=u+"px solid "+c);b(p,i[C],u),e.call(a,L)>=0&&b(l,i[L],2*u)}else this.arrow.hide();if(e.call(o,A)>=0?(b(p,"left",w(L,f,m)),l&&b(l,"left",w(L,u,y))):e.call(r,A)>=0&&(b(p,"top",w(L,h,d)),l&&b(l,"top",w(L,u,v))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p),l)return this.arrow.removeAttr("style").css(l)},x.prototype.getPosition=function(){var n,s,l,u,c,h,f,p;if(p=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),0===(n=function(e){var n;return n=[],t.each(e.split(/\W+/),function(t,e){var r;if(r=e.toLowerCase().charAt(0),i[r])return n.push(r)}),n}(p)).length&&(n[0]="b"),s=n[0],e.call(a,s)<0)throw"Must be one of ["+a+"]";return(1===n.length||(l=n[0],e.call(o,l)>=0&&(u=n[1],e.call(r,u)<0))||(c=n[0],e.call(r,c)>=0&&(h=n[1],e.call(o,h)<0)))&&(n[1]=(f=n[0],e.call(r,f)>=0?"m":"l")),2===n.length&&(n[2]=n[1]),n},x.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=l[t]))throw"Missing style: "+t;return e},x.prototype.updateClasses=function(){var e,i;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),i=this.getStyle(),e=t.map(e,function(t){return n+"-"+i.name+"-"+t}).join(" "),this.userContainer.attr("class",e)},x.prototype.run=function(e,n){var i,r,o,a,s;if(t.isPlainObject(n)?t.extend(this.options,n):"string"===t.type(n)&&(this.options.className=n),!this.container||e){if(this.container||e){for(o in r={},t.isPlainObject(e)?r=e:r["notify!blank"]=e,r)i=r[o],(a=this.userFields[o])&&("text"===a&&(i=M(i),this.options.breakNewLines&&(i=i.replace(/\n/g,"<br/>"))),s="notify!blank"===o?"":"="+o,d(this.userContainer,"[data-notify-"+a+s+"]").html(i));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},x.prototype.destroy=function(){this.wrapper.data(n,null),this.wrapper.remove()},t.notify=function(e,n,i){return e&&e.nodeName||e.jquery?t(e).notify(n,i):(i=n,new x(null,n=e,i)),e},t.fn.notify=function(e,i){return t(this).each(function(){var r=_(t(this)).data(n);r&&r.destroy(),new x(t(this),e,i)}),this},t.extend(t.notify,{defaults:function(e){return t.extend(v,e)},addStyle:h,pluginOptions:v,getStyle:function(t){return l[t]},insertCSS:f}),h("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),t(function(){f(u.css).attr("id","core-notify"),t(document).on("click","."+n+"-hidable",function(e){t(this).trigger("notify-hide")}),t(document).on("notify-hide","."+n+"-wrapper",function(e){var i=t(this).data(n);i&&i.show(!1)})})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDisplay=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(851),n(353);var r=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),o=n(3);var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("MessageDisplay needs an object to be associated to!");this.$element_=e,r.default.notify.getStyle("benndorf")||r.default.notify.addStyle("benndorf",{html:'<div><div class="text" data-notify-text /></div></div>',classes:{error:{color:"#b94a48","background-color":"#f2dede","border-color":"#b94a48"},success:{color:"#468847","background-color":"#dff0d8","border-color":"#468847"},info:{color:"#3a87a","background-color":"#d9edf7","border-color":"#3a87ad"},warn:{color:"#c09853","background-color":"#fcf8e3","border-color":"#c09853"}}}),this.defaults_=n,this.autoHideTimer_=null,n.hasOwnProperty("arrowShow")||(this.defaults_.arrowShow=!0),n.hasOwnProperty("arrowSize")||(this.defaults_.arrowSize=5),n.hasOwnProperty("autoHide")||(this.defaults_.autoHide=!0),n.hasOwnProperty("autoHideDelay")||(this.defaults_.autoHideDelay=15e3),n.hasOwnProperty("className")||(this.defaults_.className="error"),n.hasOwnProperty("position")||(this.defaults_.position="bottom left"),n.hasOwnProperty("gap")||(this.defaults_.gap=2),n.hasOwnProperty("hideAnimation")||(this.defaults_.hideAnimation="slideUp"),n.hasOwnProperty("hideDuration")||(this.defaults_.hideDuration=200),n.hasOwnProperty("showAnimation")||(this.defaults_.showAnimation="slideDown"),n.hasOwnProperty("showDuration")||(this.defaults_.showDuration=400),n.hasOwnProperty("style")||(this.defaults_.style="benndorf")}return i(t,[{key:"message",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.defaults_;n.hasOwnProperty("autoHide")&&(i.autoHide=n.autoHide),n.hasOwnProperty("autoHideDelay")&&(i.autoHideDelay=n.autoHideDelay),n.hasOwnProperty("className")&&(i.className=n.className),n.hasOwnProperty("position")&&(i.position=n.position),this.$element_.notify((0,o.html2Text)(t),i),(0,r.default)(".notifyjs-wrapper").click(function(){e.hide()})}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="error",this.message(t,e)}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="info",this.message(t,e)}},{key:"success",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="success",this.message(t,e)}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="warn",this.message(t,e)}},{key:"hide",value:function(){(0,r.default)(".notifyjs-wrapper").trigger("notify-hide"),window.clearTimeout(this.autoHideTimer_)}}]),t}();e.MessageDisplay=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeolocationButton=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=d(n(2)),o=d(n(1)),a=n(18),s=n(32),l=n(85),u=n(354),c=n(8);n(849);var h=n(79),f=n(39),p=n(3);function d(t){return t&&t.__esModule?t:{default:t}}e.GeolocationButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-geolocation",t.singleButton=!0,t.element=(0,o.default)("<button>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.classNamePushed_=n.className_+"-pushed",n.animated_=t.animated,n.style_=t.style||"#defaultStyle",n.maxZoom_=t.maxZoom,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("GeolocationButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("GeolocationButton tipLabel")),n.get$Element().addClass(n.className_).addClass(c.cssClasses.mainButton).html(n.getTitle()),(0,s.addTooltip)(n.get$Element(),n.getTipLabel()),n.buttonMessageDisplay_=new u.MessageDisplay(n.get$Element()),n.get$Element().on("click touch",function(){r.default.has.GEOLOCATION?n.setActive(!n.getActive()):n.buttonMessageDisplay_.error(n.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),n.getMap().get("mobile")?{position:"top middle"}:{})}),n.layer_=null;var i={tracking:!1};return t.hasOwnProperty("trackingOptions")&&(i.trackingOptions=t.trackingOptions),t.hasOwnProperty("projection")&&(i.projection=t.projection),n.followLocation_=t.followLocation||!1,n.geolocation_=new r.default.Geolocation(i),n.geolocation_.on("error",function(){n.buttonMessageDisplay_.error(n.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),n.getMap().get("mobile")?{position:"top middle"}:{}),n.setActive(!1)}),n.on("change:active",function(t){return n.activeChangeHandler_(t)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,p.mixin)(a.Control,[h.ActivatableMixin,f.ListenerOrganizerMixin])),i(e,[{key:"setMap",value:function(t){if(this.getMap()&&this.getMap().getLayers().remove(this.layer_),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){var n=t.getView().getProjection();this.geolocation_.setProjection(n);var i={source:new r.default.source.Vector({projection:n}),visible:!0};this.layer_=new l.VectorLayer(i),this.layer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.layer_),t.getLayers().insertAt(1,this.layer_),this.activateOnMapChange()}}},{key:"changeHandler_",value:function(t){var e=this.layer_.getSource();e.clear();var n=this.geolocation_.getPosition();e.addFeature(new r.default.Feature({geometry:new r.default.geom.Point(n)}));var i=this.geolocation_.getAccuracyGeometry();e.addFeature(new r.default.Feature({geometry:i})),t.hasOwnProperty("initialRun")&&t.initialRun?this.getMap().get("move").toExtent(i.getExtent(),{animated:this.animated_,maxZoom:this.maxZoom_}):this.animated_?this.getMap().getView().animate({center:n}):this.getMap().getView().setCenter(n),t.hasOwnProperty("stopTracking")&&this.geolocation_.setTracking(!t.stopTracking)}},{key:"activeChangeHandler_",value:function(){var t=this,e=this.getActive();(this.get$Element().toggleClass(this.classNamePushed_,e),e)?(this.geolocation_.setTracking(!0),this.geolocation_.getPosition()?(this.changeHandler_({stopTracking:!this.followLocation_,initialRun:!0}),this.followLocation_&&this.listenAt(this.geolocation_).on("change",function(e){return t.changeHandler_(e)})):this.listenAt(this.geolocation_).once("change",function(){t.changeHandler_({stopTracking:!t.followLocation_,initialRun:!0}),t.followLocation_&&t.listenAt(t.geolocation_).on("change",function(e){return t.changeHandler_(e)})})):(this.layer_.getSource().clear(),this.detachFrom(this.geolocation_,"change"),this.geolocation_.setTracking(!1))}}],[{key:"makeCircle_",value:function(t,e,n){var i=r.default.proj.transform(t,e,"EPSG:4326"),o=[i[0],i[1]+n/1e3*90/1e4],a=r.default.proj.transform(o,"EPSG:4326",e),s=Math.abs(t[1]-a[1]);return new r.default.geom.Circle(t,s)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonBox=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(1)),o=s(n(2)),a=n(8);function s(t){return t&&t.__esModule?t:{default:t}}e.ButtonBox=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(n.className_=t.className||"g4u-menu",n.classNames_={body:n.className_+"-content",collapseButton:n.className_+"-collapsebutton",titleButton:n.className_+"-titlebutton",title:n.className_+"-title",active:n.className_+"-active",collapsed:n.className_+"-collapsed",lastVisible:n.className_+"-last-visible"},n.$element_=(0,r.default)("<div>").addClass(n.className_),t.hasOwnProperty("id")&&n.$element_.attr("id",t.id),t.addClass&&n.$element_.addClass(t.addClass),n.titleButton_=t.titleButton||!1,n.collapsible_=!t.hasOwnProperty("collapsible")||t.collapsible,n.collapsed_=!!t.hasOwnProperty("collapsed")&&t.collapsed,n.$body_=(0,r.default)("<div>").addClass(n.classNames_.body),t.hasOwnProperty("content")&&n.$body_.append(t.content),t.hasOwnProperty("title"))if(n.$title_=(0,r.default)("<div>").addClass(n.classNames_.title),n.$element_.append(n.$title_),n.collapsible_){var i=(0,r.default)("<button>").addClass(n.classNames_.collapseButton);if(i.on("click",function(){n.setCollapsed(!n.collapsed_),i.blur()}),n.titleButton_){var o=(0,r.default)("<button>").addClass(n.classNames_.titleButton).on("click",function(){n.dispatchEvent("title:click"),o.blur()}).html(t.title);t.rtl&&o.prop("dir","rtl"),n.$title_.append(i).append(o)}else i.addClass(n.classNames_.titleButton).html(t.title),t.rtl&&i.prop("dir","rtl"),n.$title_.append(i)}else n.$title_.html(t.title),t.rtl&&n.$title_.prop("dir","rtl");else n.collapsible_=!1,n.collapsed_=!1;return n.$element_.append(n.$body_),n.collapsed_?n.setCollapsed(!0):n.setCollapsed(!1),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Object),i(e,[{key:"setCollapsed",value:function(t,e){t?(this.$body_.addClass(a.cssClasses.hidden),this.$element_.addClass(this.classNames_.collapsed)):(this.$body_.removeClass(a.cssClasses.hidden),this.$element_.removeClass(this.classNames_.collapsed)),this.collapsed_=t,this.lastVisibleClass_(),e||this.dispatchEvent("change:collapsed")}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"lastVisibleClass_",value:function(){this.takeLastVisible(this.$element_)&&this.giveLastVisible(this.$element_)}},{key:"get$Body",value:function(){return this.$body_}},{key:"get$Element",value:function(){return this.$element_}},{key:"get$LastChild_",value:function(t){return t.children("."+this.classNames_.body).children(":last-child")}},{key:"setCollapseButtonActive",value:function(t){this.$title_.children("."+this.classNames_.collapseButton).toggleClass(this.classNames_.active,t)}},{key:"setTitleButtonActive",value:function(t){this.$title_.children("."+this.classNames_.titleButton).toggleClass(this.classNames_.active,t)}},{key:"giveLastVisible",value:function(t){if(t.hasClass(this.classNames_.collapsed))t.addClass(this.classNames_.lastVisible);else if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);e?this.giveLastVisible(e):t.addClass(this.classNames_.lastVisible)}else t.addClass(this.classNames_.lastVisible)}},{key:"takeLastVisible",value:function(t){if(t.hasClass(this.classNames_.lastVisible))return t.removeClass(this.classNames_.lastVisible),!0;if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);return!!e&&this.takeLastVisible(e)}return!1}},{key:"finish",value:function(){this.takeLastVisible(this.$element_),this.giveLastVisible(this.$element_)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerSelector=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=n(67),s=n(356),l=n(18),u=n(3),c=n(98);n(859);var h=n(39),f=n(117),p=n(32);e.LayerSelector=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-layerselector",t.element=(0,o.default)("<div>")[0],t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.layerGroupName_=t.layerGroupName,n.minLayerAmount_=t.hasOwnProperty("minLayerAmount")?t.minLayerAmount:1,n.collapsible_=!t.hasOwnProperty("collapsible")||t.collapsible,n.collapsed_=t.collapsed||!1,n.classNames_={menu:n.getClassName()+"-menu",layerButton:n.getClassName()+"-layerbutton",active:n.getClassName()+"-active",featureInfo:n.getClassName()+"-info",featureInfoActive:n.getClassName()+"-info-active"},n.menu_=new s.ButtonBox({element:n.get$Element(),className:n.getClassName(),title:n.getLocaliser().selectL10N(n.getTitle()),collapsible:n.collapsible_,collapsed:n.collapsed_}),n.menu_.on("change:collapsed",function(){return n.dispatchEvent("change:size")}),n.get$Element().append(n.menu_.get$Element()),n.minVisibleButtons_=t.minVisibleEntries||5,n.visible_=!0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,u.mixin)(l.Control,h.ListenerOrganizerMixin)),r(e,[{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"getCollapsed",value:function(){return this.menu_.getCollapsed()}},{key:"setCollapsed",value:function(t,e){t!==this.menu_.getCollapsed()&&this.menu_.setCollapsed(t,e)}},{key:"addWindowToButton",value:function(t,e){var n=this,i=e.get("window"),r=new c.Window({map:this.getMap()});this.$windowContainer_||(this.$windowContainer_=(0,o.default)("<span>"),this.get$Element().append(this.$windowContainer_)),this.$windowContainer_.append(r.get$Element()),e.get("addClass")&&r.get$Element().addClass(e.get("addClass"));var a=void 0,s=function(){n.getMap().get("localiser").isRtl()?r.get$Body().prop("dir","rtl"):r.get$Body().prop("dir",void 0),r.get$Body().html(a),r.setVisible(!0)};this.listenAt(t).on("click",function(){if(e.getVisible())if(a)s();else{var t=f.URL.extractFromConfig(i,"url",void 0,n.getMap());o.default.get(t.finalize(),function(t){a=t,s()})}else r.setVisible(!1)})}},{key:"buildLayerButton",value:function(t,e){var n=this;if(t.get("available")){var i=(0,o.default)("<button>").addClass(this.classNames_.layerButton).attr("id",t.get("id")).html(t.get("title"));t.get("addClass")&&i.addClass(t.get("addClass")),this.getMap().get("localiser").isRtl()&&i.prop("dir","rtl");var r=this.classNames_.menu+"-active";return this.listenAt(i).on("click",function(){t.setVisible(!t.getVisible()),n.dispatchEvent({type:"click:layer",layer:t})}),t.getVisible()&&i.addClass(r),this.listenAt(t).on("change:visible",function(){i.toggleClass(r,t.getVisible()),t.getVisible()||i.removeClass("g4u-layer-loading")}),t.get("window")&&this.addWindowToButton(i,t),this.listenAt(t).on("loadcountstart",function(){i.addClass("g4u-layer-loading")}),this.listenAt(t).on("loadcountend",function(){i.removeClass("g4u-layer-loading")}),e.append(i),i}}},{key:"buildCategoryButton",value:function(t,e){var n=this,i=e;if(t.get("available")){var r=!1!==t.get("activateChildren"),o=t.get("collapsed");void 0===o&&(o=!t.countChildrenVisible()&&!1!==t.get("collapsed"),t.set("collapsed",o));var l=new s.ButtonBox({className:this.classNames_.menu,title:this.getLocaliser().selectL10N(t.get("title")),rtl:this.getMap().get("localiser").isRtl(),titleButton:r,collapsed:o,id:t.get("id"),addClass:t.get("addClass")}),u=t.countChildren(),c=t.countChildrenVisible(),h=function(){0===c?(l.setCollapseButtonActive(!1),r&&l.setTitleButtonActive(!1)):c===u?(l.setCollapseButtonActive(!0),r&&l.setTitleButtonActive(!0)):(l.setCollapseButtonActive(!0),r&&l.setTitleButtonActive(!1))};h();var f=function(t){n.listenAt(t).on(["change:visible","change:childVisible"],function(e){(e.child||t).getVisible()?c++:c--,h()})};t.getLayers().forEach(f),this.listenAt(t.getLayers()).on("add",function(t){return f(t.element)}),this.listenAt(l).on("title:click",function(){var e=c<u;t.recursiveForEach(function(t){t instanceof a.GroupLayer||t.setVisible(e)}),n.dispatchEvent({type:"click:layer",layer:t})}),e.append(l.get$Element()),i=l.get$Body(),this.listenAt(l).on("change:collapsed",function(){t.set("collapsed",l.getCollapsed()),n.dispatchEvent("change:size"),n.changed()});var p=!0,d=!1,v=void 0;try{for(var y,g=t.getLayers().getArray()[Symbol.iterator]();!(p=(y=g.next()).done);p=!0){var m=y.value;this.chooseButtonBuilder(m,i)}}catch(t){d=!0,v=t}finally{try{!p&&g.return&&g.return()}finally{if(d)throw v}}return l}var _=!0,b=!1,w=void 0;try{for(var M,x=t.getLayers().getArray()[Symbol.iterator]();!(_=(M=x.next()).done);_=!0){var S=M.value;this.chooseButtonBuilder(S,i)}}catch(t){b=!0,w=t}finally{try{!_&&x.return&&x.return()}finally{if(b)throw w}}}},{key:"buildWMSButton",value:function(t,e){var n=this;if(t.get("available")){var r=function(){var r=t.get("buttons");if(r&&r.length){var a=function(){var i=0,a=t.getSource(),l=[],u=[],c=a.isFeatureInfoCheckable(),h=void 0;r.length>1&&(h=new s.ButtonBox({className:n.classNames_.menu,title:n.getLocaliser().selectL10N(t.get("title")),titleButton:!0,collapsed:!1!==t.get("collapsed"),id:t.get("id"),addClass:t.get("addClass")}),e.append(h.get$Element()),n.listenAt(h).on("change:collapsed",function(){n.dispatchEvent("change:size"),n.changed()}),e=h.get$Body());var f=n.classNames_.menu+"-active",d=function(s){l=l.concat(s.LAYERS),u=u.concat(s.QUERY_LAYERS);var d=(0,o.default)("<span>").addClass(n.classNames_.layerButton).addClass("button").html(n.getLocaliser().selectL10N(s.title)),v=(0,o.default)("<span>").addClass(n.classNames_.featureInfo);(0,p.addTooltip)(v,n.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo show")),e.append(d);var y,g=void 0;y=function(){var e=!a.getWMSLayersVisible(s.LAYERS);e?i++:i--,d.toggleClass(f,e),a.toggleWMSLayers(s.LAYERS,e),!e&&c&&g(!1),e&&s.checked&&g(!0),0===i?(t.setVisible(!1),h&&(h.setCollapseButtonActive(!1),h.setTitleButtonActive(!1))):i===r.length?(t.setVisible(!0),h&&(h.setCollapseButtonActive(!0),h.setTitleButtonActive(!0))):(t.setVisible(!0),h&&(h.setCollapseButtonActive(!0),h.setTitleButtonActive(!1))),n.dispatchEvent({type:"click:layer",layer:t,wmsLayer:!0})},g=function(t){t&&!a.getWMSLayersVisible(s.LAYERS)&&y(),a.toggleWMSQueryLayers(s.QUERY_LAYERS,t),v.toggleClass(n.classNames_.featureInfoActive,t),t?(0,p.changeTooltip)(v,n.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo hide")):(0,p.changeTooltip)(v,n.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo show"))},t.getVisible()&&y(),n.listenAt(d).on("click",function(){y()}),c&&(d.append(v),n.listenAt(v).on("click",function(t){g(!v.hasClass(n.classNames_.featureInfoActive)),t.stopPropagation()})),1===r.length&&(n.listenAt(t).on("loadcountstart",function(){d.addClass("g4u-layer-loading")}),n.listenAt(t).on("loadcountend",function(){d.removeClass("g4u-layer-loading")}))},v=!0,y=!1,g=void 0;try{for(var m,_=r[Symbol.iterator]();!(v=(m=_.next()).done);v=!0){d(m.value)}}catch(t){y=!0,g=t}finally{try{!v&&_.return&&_.return()}finally{if(y)throw g}}if(h)return n.listenAt(h).on("title:click",function(){var e=i<r.length;e?(a.toggleWMSLayers(l,!0),i=r.length):(a.toggleWMSLayers(l,!1),c&&(a.toggleWMSQueryLayers(u,!1),h.get$Body().find("input[type=checkbox]").prop("checked",!1)),i=0),h.get$Body().find("button").toggleClass(f,e),t.setVisible(e),h.setCollapseButtonActive(e),h.setTitleButtonActive(e),n.dispatchEvent({type:"click:category",layer:t,wmsLayer:!0})}),n.listenAt(t).on("loadcountstart",function(){h.get$Element().addClass("g4u-layer-loading")}),n.listenAt(t).on("loadcountend",function(){h.get$Element().removeClass("g4u-layer-loading")}),{v:{v:h}}}();if("object"===(void 0===a?"undefined":i(a)))return a.v}else{var l=t.getSource(),u=l.isFeatureInfoCheckable(),c=n.classNames_.menu+"-active",h=(0,o.default)("<span>").addClass(n.classNames_.layerButton).addClass("button").html(n.getLocaliser().selectL10N(t.get("title")));t.get("addClass")&&h.addClass(t.get("addClass"));var f=(0,o.default)("<span>").addClass(n.classNames_.featureInfo);(0,p.addTooltip)(f,n.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo show")),e.append(h);var d,v=void 0;d=function(){var e=!t.getVisible();t.setVisible(e),h.toggleClass(c,e),!e&&u&&v(!1),e&&l.isFeatureInfoChecked()&&v(!0),n.dispatchEvent({type:"click:layer",layer:t,wmsLayer:!0})};var y=l.getFeatureInfoParams();v=function(e){e&&!t.getVisible()&&d(),l.toggleWMSQueryLayers(y.QUERY_LAYERS,e),f.toggleClass(n.classNames_.featureInfoActive,e),e?(0,p.changeTooltip)(f,n.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo hide")):(0,p.changeTooltip)(f,n.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo show"))},n.listenAt(h).on("click touchstart",function(){d(),n.dispatchEvent({type:"click:layer",layer:t,wmsLayer:!0})}),n.listenAt(t).on("change:visible",function(){h.toggleClass(c,t.getVisible())}),t.get("window")&&n.addWindowToButton(h,t),u&&(h.append(f),n.listenAt(f).on("click touchstart",function(t){v(!f.hasClass(n.classNames_.featureInfoActive)),t.stopPropagation()})),n.listenAt(t).on("loadcountstart",function(){h.addClass("g4u-layer-loading")}),n.listenAt(t).on("loadcountend",function(){h.removeClass("g4u-layer-loading")})}}();if("object"===(void 0===r?"undefined":i(r)))return r.v}}},{key:"chooseButtonBuilder",value:function(t,e){return t instanceof a.GroupLayer?this.buildCategoryButton(t,e):t.getSource&&t.getSource()&&t.getSource().isFeatureInfoCheckable?this.buildWMSButton(t,e):this.buildLayerButton(t,e)}},{key:"setMap",value:function(t){this.getMap()&&this.clear(),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&this.build()}},{key:"clear",value:function(){this.detachAllListeners(),this.menu_.get$Body().empty()}},{key:"build",value:function(){var t=this;if(this.layers_=this.getMap().get(this.layerGroupName_).getLayers(),this.layers_.getLength()>=this.minLayerAmount_){this.setVisible(!0);var e=new s.ButtonBox({className:this.classNames_.menu}),n=!0,i=!1,r=void 0;try{for(var o,a=this.layers_.getArray()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this.chooseButtonBuilder(l,this.menu_.get$Body())}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}e.giveLastVisible(this.get$Element().children(":last-child").children(":last-child")),this.listenAt(this.menu_).on("change:collapsed",function(){return t.dispatchEvent("change:size")})}else this.setVisible(!1)}},{key:"rebuild",value:function(){this.clear(),this.build()}},{key:"isSqueezable",value:function(t){return"height"===t}},{key:"squeezeBy",value:function(t,e){if("height"===t){var n=this.get$Element().find("."+this.getClassName()+"-content"),i=n.find("button:visible").filter("."+this.getClassName()+"-layerbutton,."+this.getClassName()+"-menu-titlebutton");if(i.length>1){var r=n.height(),o=(0,u.offset)(i.eq(1),i.eq(0)).top,a=Math.max(o*this.minVisibleButtons_,r-e);if(r>a)return n.css("max-height",a),r-a}}return 0}},{key:"beforePositioning",value:function(){this.scrolled_=this.menu_.get$Body().scrollTop()}},{key:"afterPositioning",value:function(){this.menu_.get$Body().scrollTop(this.scrolled_)}},{key:"release",value:function(t){"height"===t&&this.get$Element().find("."+this.getClassName()+"-content").css("max-height","")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomSlider=e.Zoom=e.CombinedZoom=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=f(n(2)),a=f(n(1)),s=n(136),l=n(8),u=n(41);n(863);var c=n(3),h=n(97);function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.CombinedZoom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),t.element=(0,a.default)("<div>").get(0),t.className=t.className||"g4u-zoom",t.singleButton=!1;var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return delete t.element,n.hasButtons_=t.buttons||!t.hasOwnProperty("buttons"),n.hasSlider_=t.slider||!t.hasOwnProperty("slider"),n.hasButtons_&&(n.zoomButtonOptions=(0,u.copy)(t),n.zoomButtonOptions.importance=t.buttonImportance||t.importance,n.zoomButtonOptions.zoomInTipLabel=t.hasOwnProperty("zoomInTipLabel")?n.getLocaliser().selectL10N(t.zoomInTipLabel):n.getLocaliser().localiseUsingDictionary("Zoom zoomInTipLabel"),n.zoomButtonOptions.zoomOutTipLabel=t.hasOwnProperty("zoomOutTipLabel")?n.getLocaliser().selectL10N(t.zoomOutTipLabel):n.getLocaliser().localiseUsingDictionary("Zoom zoomOutTipLabel")),n.hasSlider_&&(n.zoomSliderOptions=(0,u.copy)(t),n.zoomSliderOptions.importance=t.sliderImportance,n.zoomSliderOptions.className="g4u-zoomslider"),n}return v(e,s.ComposedControl),i(e,[{key:"setMap",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.hasSlider_&&this.addZoomSlider(),this.hasButtons_&&this.addZoomButtons())}},{key:"addZoomButtons",value:function(){this.zoomButtons_=new y(this.zoomButtonOptions),this.addControl(this.zoomButtons_,{wrap:!1});var t=this.zoomButtons_.get$Element().children(".g4u-zoom-in"),e=this.zoomButtons_.get$Element().children(".g4u-zoom-out");this.get$Container().prepend(t),this.get$Container().append(e),this.zoomButtons_.get$Element().remove()}},{key:"addZoomSlider",value:function(){this.zoomSlider_=new g(this.zoomSliderOptions),this.addControl(this.zoomSlider_,{wrap:!1});var t=this.zoomSlider_.get$Element();t.on("mousedown",function(){t.addClass(l.cssClasses.mousedown)}),t.on("mouseup",function(){t.removeClass(l.cssClasses.mousedown)});var e=this.get$Container().filter(".g4u-zoom-in");e.length?t.insertAfter(e):this.get$Container().append(t)}}]),e}();var y=e.Zoom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-zoom",t.zoomInTipLabel=t.hasOwnProperty("zoomInTipLabel")?t.localiser.selectL10N(t.zoomInTipLabel):t.localiser.localiseUsingDictionary("Zoom zoomInTipLabel"),t.zoomOutTipLabel=t.hasOwnProperty("zoomOutTipLabel")?t.localiser.selectL10N(t.zoomOutTipLabel):t.localiser.localiseUsingDictionary("Zoom zoomOutTipLabel"),d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return v(e,(0,c.mixin)(o.default.control.Zoom,h.RewireMixin)),e}(),g=e.ZoomSlider=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-zoomslider",d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return v(e,(0,c.mixin)(o.default.control.ZoomSlider,h.RewireMixin)),i(e,[{key:"rewire",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rewire",this).call(this),this.get$Element().on("mousedown",function(){(0,a.default)(this).addClass(l.cssClasses.mousedown)}),this.get$Element().on("mouseup",function(){(0,a.default)(this).removeClass(l.cssClasses.mousedown)})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowButtons=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(2)),o=u(n(1)),a=n(41),s=n(18),l=n(32);function u(t){return t&&t.__esModule?t:{default:t}}n(870);e.ArrowButtons=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-arrowbuttons",t.element=(0,o.default)('<div class="ol-unselectable ol-control"></div>')[0],t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i={left:n.getLocaliser().localiseUsingDictionary("ArrowButtons leftward"),right:n.getLocaliser().localiseUsingDictionary("ArrowButtons rightward"),up:n.getLocaliser().localiseUsingDictionary("ArrowButtons upward"),down:n.getLocaliser().localiseUsingDictionary("ArrowButtons downward"),center:n.getLocaliser().localiseUsingDictionary("ArrowButtons centerward")};n.pixelDelta_=t.pixelDelta||128,n.initExtent_=t.initExtent||void 0,n.animationDuration_=t.animationDuration||100,n.animated_=t.animated||!0,n.directions_=["center","left","up","right","down"],n.vectors_={left:[-1,0],up:[0,1],right:[1,0],down:[0,-1]},n.labels_=(0,a.merge)(t.labels||{},{left:"&#9665;",up:"&#9651;",right:"&#9655;",down:"&#9661;",center:"&#9675;"});var r=function(t){var e=(0,o.default)("<button>").addClass(n.className_+"-"+t).html(n.labels_[t]);(0,l.addTooltip)(e,i[t]),e.on("click",function(){n.onClick_(t),e.blur()}),n.get$Element().append(e)},s=!0,u=!1,c=void 0;try{for(var h,f=n.directions_[Symbol.iterator]();!(s=(h=f.next()).done);s=!0){r(h.value)}}catch(t){u=!0,c=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw c}}return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Control),i(e,[{key:"setMap",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.initExtent_||(this.initExtent_=t.getView().calculateExtent(t.getSize())))}},{key:"onClick_",value:function(t){var e=this.getMap(),n=e.getView();if("center"===t)e.get("move").toExtent(this.initExtent_,{animated:this.animated_});else{var i=n.getResolution(),a=n.getRotation(),s=this.vectors_[t],l=[s[0]*i*this.pixelDelta_,s[1]*i*this.pixelDelta_];r.default.coordinate.rotate(l,a);var u=n.getCenter(),c=n.constrainCenter([u[0]+l[0],u[1]+l[1]]);this.animated_?n.animate({center:c,duration:this.animationDuration_}):n.setCenter(c)}(0,o.default)(e.getViewport()).focus()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlFactory=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(196),a=n(136),s=n(359),l=n(358),u=n(357),c=n(355),h=n(194),f=n(352),p=n(351),d=n(350),v=n(348),y=n(347),g=n(192),m=n(346),_=n(345),b=n(135),w=n(3),M=n(41),x=n(164),S=n(13),P=n(344),O=n(343),k=n(342),C=n(341),E=n(340);e.ControlFactory=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.localiser_=e.localiser,this.map_=e.map,this.activeGroups_=new Map}return i(t,[{key:"getPositioning",value:function(){return this.map_.get("controlPositioning")}},{key:"createControl",value:function(t,e){switch(t){case"mousePosition":return e.projection=e.projection||this.map_.get("interfaceProjection"),new O.MousePosition(e);case"attribution":return new o.Attribution(e);case"zoom":return new l.CombinedZoom(e);case"scaleLine":return new k.ScaleLine(e);case"logo":return new m.Logo(e);case"linkButton":return new y.LinkButton(e);case"mobileControls":return new d.MobileControls(e);case"overviewMap":var n=e.projection||this.map_.get("mapProjection");return e.view=new r.default.View({projection:n}),new C.OverviewMap(e);case"infoButton":return new b.WindowDecorator({component:new v.InfoButton(e)});case"arrowButtons":var i=this.map_.get("mapConfig");return i.view&&(i.view.center&&(e.initCenter=r.default.proj.transform(i.view.center,this.map_.get("interfaceProjection"),this.map_.get("mapProjection"))),i.view.zoom&&(e.initZoom=i.view.zoom)),new s.ArrowButtons(e);case"layerSelector":return new u.LayerSelector(e);case"geolocationButton":return new c.GeolocationButton(e);case"languageSwitcherButton":return new f.LanguageSwitcherButton(e);case"languageSwitcherMenu":return new p.LanguageSwitcherMenu(e);case"printButton":return new g.PrintButton(e);case"distanceMeasurementButton":return e.className=e.className||"g4u-distance-measurement",e.type="LineString",e.dimension=1,new b.WindowDecorator({component:new h.MeasurementButton(e)});case"areaMeasurementButton":return e.className=e.className||"g4u-area-measurement",e.type="Polygon",e.dimension=2,new b.WindowDecorator({component:new h.MeasurementButton(e)});case"helpButton":return e.configControls=this.map_.get("mapConfig").controls,new b.WindowDecorator({component:new _.HelpButton(e)});case"toolbox":return e.className=e.className||"g4u-toolbox",new a.ComposedControl(e);case"layerMenu":return e.className=e.className||"g4u-layermenu",new a.ComposedControl(e);case"singleDrawButton":return new E.SingleDrawButton(e)}}},{key:"addControlTo",value:function(t,e){var n=(0,M.copyDeep)((0,w.asObject)(this.controlsConfig[e])),i=n.controlType||e;n.controlName=e,n.localiser=this.localiser_,!n.hasOwnProperty("importance")&&t.getImportance&&(n.importance=t.getImportance());for(var r=this.createControl(i,n,t),o=this.map_.getModules(),a=0,s=o.length;a<s&&void 0===r;a++)r=o[a].createControl(i,n,t);if(r)n.activeGroup&&(this.activeGroups_.has(n.activeGroup)||this.activeGroups_.set(n.activeGroup,new P.ActiveGroup),this.activeGroups_.get(n.activeGroup).addControl(r)),this.map_.controlsByName[e]?this.map_.controlsByName[e].push(r):this.map_.controlsByName[e]=[r],t.addControl(r),n.contains&&this.addControlMultipleInternal_(r,n.contains),r.rewire&&r.rewire(),t instanceof x.G4UMap&&this.getPositioning().addControl(r);else if(void 0===r)throw new Error("Unrecognized control type "+i+", maybe you did forget to set the property type of the control?")}},{key:"addControlMultipleInternal_",value:function(t,e){var n=this;e.forEach(function(e){S.Debug.tryOrThrow(function(){n.addControlTo(t,e)})})}},{key:"addControls",value:function(){this.controlsConfig=this.map_.get("mapConfig").controls,(0,w.checkFor)(this.controlsConfig,"onMap")&&this.addControlMultipleInternal_(this.map_,this.controlsConfig.onMap)}},{key:"setLocaliser",value:function(t){this.localiser_=t}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shield=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(2)),o=l(n(1)),a=n(8),s=n(32);function l(t){return t&&t.__esModule?t:{default:t}}n(881);e.Shield=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.className_=t.className||"g4u-shield",n.map_=t.map,n.$context_=(0,o.default)(n.map_.getTarget()),n.$element_=(0,o.default)("<div>").addClass(n.className_),n.$context_.append(n.$element_),n.setActive(!!t.hasOwnProperty("active")&&t.active),n.$element_.on("keydown",function(t){t.which===a.keyCodes.ESCAPE&&n.getActive()&&n.setActive(!1)}),n.elementsOnTop_=new Map,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Object),i(e,[{key:"setActive",value:function(t){var e=this.active_;e!==t&&(t?(this.$element_.removeClass(a.cssClasses.hidden),(0,s.getInFront)(this.$element_,this.$context_)):this.$element_.addClass(a.cssClasses.hidden),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:e,key:"active"}))}},{key:"getActive",value:function(){return this.active_}},{key:"add$OnTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if(!e.hasOwnProperty("findParentWindow")||e.findParentWindow){var i=t.parents().filter(".g4u-window");i.length>0&&(n=i)}var r=n.parent();this.elementsOnTop_.set(t[0],{$actualElement:n,$oldParent:r,oldIndex:r.children().index(n)}),this.$element_.append(n),(0,s.getInFront)(n,this.$element_);var o=!0,a=!1,l=void 0;try{for(var u,c=Array.from(r[0].classList)[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var h=u.value;this.$element_.addClass(h)}}catch(t){a=!0,l=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw l}}}},{key:"remove$OnTop",value:function(t){var e=t[0],n=this.elementsOnTop_.get(e),i=n.$actualElement,r=n.$oldParent,o=n.oldIndex;0===o?r.prepend(i):r.children().eq(o-1).after(i);var a=!0,s=!1,l=void 0;try{for(var u,c=Array.from(r[0].classList)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;this.$element_.removeClass(h)}}catch(t){s=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw l}}this.elementsOnTop_.delete(e)}},{key:"get$ElementsInFront",value:function(){return this.$element_.children()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureTooltip=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=l(n(2)),o=l(n(1)),a=n(8);n(883);var s=n(3);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.FeatureTooltip=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.className_=e.hasOwnProperty("className")?e.className:"g4u-featuretooltip",this.$element_=(0,o.default)("<span></span>").addClass(this.className_).addClass(a.cssClasses.hidden),this.overlay_=new r.default.Overlay({element:this.$element_.get(0),offset:e.hasOwnProperty("offset")?e.offset:[0,0],positioning:e.hasOwnProperty("positioning")?e.positioning:"center-center",stopEvent:!1}),this.defaultPopupModifiers_=e.popupModifier||[],this.feature_=null,this.$element_.parent().addClass(this.className_+"-container")}return i(t,[{key:"setMap",value:function(e){var n=this;(this.getMap()&&this.getMap().removeOverlay(this.overlay_),e)&&(e.addOverlay(this.overlay_),e.getDefaultInteractions("pointermove")[0].on("select",function(e){var i=e.selected.filter(t.canDisplay);if(i.length){var r=i[0];r.get("features")&&(r=r.get("features")[0]),n.setFeature(r,e.mapBrowserEvent.coordinate)}else e.deselected.length&&e.deselected.some(function(t){return t===n.getFeature()})&&n.setFeature(null)}),this.map_=e)}},{key:"getFeature",value:function(){return this.feature_}},{key:"setFeature",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t){var o=[].concat(u(this.defaultPopupModifiers_),u(i));if(this.getMap().get("popupModifiers").apply({name:t.get("name"),description:t.get("description")},o).then(function(t){t.name&&(e.$element_.html((0,s.html2Text)(t.name)),e.$element_.removeClass(a.cssClasses.hidden))}),!n){var l=t.getGeometry();n=r.default.extent.getCenter(l.getExtent())}this.overlay_.setPosition(n)}else this.$element_.addClass(a.cssClasses.hidden);this.feature_=t}},{key:"getMap",value:function(){return this.map_}}],[{key:"canDisplay",value:function(t){return t.get("features")&&1===t.get("features").length&&(t=t.get("features")[0]),!t.get("disabled")&&t.get("name")}}]),t}()},function(t,e,n){"use strict";n.r(e);
/*!
 * better-normal-scroll v1.13.2
 * (c) 2016-2018 ustbhuangyi
 * Released under the MIT License.
 */
var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};var o="undefined"!=typeof window,a=o&&navigator.userAgent.toLowerCase(),s=a&&/wechatdevtools/.test(a),l=a&&a.indexOf("android")>0;function u(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function c(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0;r<n.length;r++){var o=n[r];for(var a in o)t[a]=o[a]}return t}function h(t){return void 0===t||null===t}function f(t,e){return Math.sqrt(t*t+e*e)}var p=o&&document.createElement("div").style,d=function(){if(!o)return!1;var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==p[t[e]])return e;return!1}();function v(t){return!1!==d&&("standard"===d?"transitionEnd"===t?"transitionend":t:d+t.charAt(0).toUpperCase()+t.substr(1))}function y(t,e,n,i){t.addEventListener(e,n,{passive:!1,capture:!!i})}function g(t,e,n,i){t.removeEventListener(e,n,{passive:!1,capture:!!i})}function m(t){for(var e=0,n=0;t;)e-=t.offsetLeft,n-=t.offsetTop,t=t.offsetParent;return{left:e,top:n}}function _(t){var e=t.getBoundingClientRect();return{left:-(e.left+window.pageXOffset),top:-(e.top+window.pageYOffset)}}var b=d&&"standard"!==d?"-"+d.toLowerCase()+"-":"",w=v("transform"),M=v("transition"),x=o&&v("perspective")in p,S=o&&("ontouchstart"in window||s),P=!1!==w,O=o&&M in p,k={transform:w,transition:M,transitionTimingFunction:v("transitionTimingFunction"),transitionDuration:v("transitionDuration"),transitionDelay:v("transitionDelay"),transformOrigin:v("transformOrigin"),transitionEnd:v("transitionEnd")},C=1,E={touchstart:C,touchmove:C,touchend:C,mousedown:2,mousemove:2,mouseup:2};function L(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function A(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",n=void 0;"mouseup"===t.type||"mousecancel"===t.type?n=t:"touchend"!==t.type&&"touchcancel"!==t.type||(n=t.changedTouches[0]);var i={};n&&(i.screenX=n.screenX||0,i.screenY=n.screenY||0,i.clientX=n.clientX||0,i.clientY=n.clientY||0);var r=void 0,o=!0,a=!0;if("undefined"!=typeof MouseEvent)try{r=new MouseEvent(e,c({bubbles:o,cancelable:a},i))}catch(t){s()}else s();function s(){(r=document.createEvent("Event")).initEvent(e,o,a),c(r,i)}r.forwardedTouchEvent=!0,r._constructed=!0,t.target.dispatchEvent(r)}function T(t,e){t.removeChild(e)}var I={startX:0,startY:0,scrollX:!1,scrollY:!0,freeScroll:!1,directionLockThreshold:5,eventPassthrough:"",click:!1,tap:!1,bounce:!0,bounceTime:800,momentum:!0,momentumLimitTime:300,momentumLimitDistance:15,swipeTime:2500,swipeBounceTime:500,deceleration:.0015,flickLimitTime:200,flickLimitDistance:100,resizePolling:60,probeType:0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:!1,disableMouse:S,disableTouch:!S,observeDOM:!0,autoBlur:!0,wheel:!1,snap:!1,scrollbar:!1,pullDownRefresh:!1,pullUpLoad:!1,mouseWheel:!1,stopPropagation:!1,zoom:!1,infinity:!1,dblclick:!1};var N={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}};function F(t,e,n,i,r,o,a){var s=t-e,l=Math.abs(s)/n,u=a.deceleration,c=a.itemHeight,h=a.swipeBounceTime,f=a.wheel,p=a.swipeTime,d=f?4:15,v=t+l/u*(s<0?-1:1);return f&&c&&(v=Math.round(v/c)*c),v<i?(v=o?Math.max(i-o/4,i-o/d*l):i,p=h):v>r&&(v=o?Math.min(r+o/4,r+o/d*l):r,p=h),{destination:Math.round(v),duration:p}}function D(){}var R=o?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,(t.interval||100/60)/2)}:D,B=o?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:D,V=1,z=-1,$=1,U=-1,G=1,W=3;function Y(t){console.error("[BScroll warn]: "+t)}function q(t,e){if(!t)throw new Error("[BScroll] "+e)}function X(t){var e=document.createElement("div"),n=document.createElement("div");return e.style.cssText="position:absolute;z-index:9999;pointerEvents:none",n.style.cssText="box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;",n.className="bscroll-indicator","horizontal"===t?(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",n.style.height="100%",e.className="bscroll-horizontal-scrollbar"):(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",n.style.width="100%",e.className="bscroll-vertical-scrollbar"),e.style.cssText+=";overflow:hidden",e.appendChild(n),e}function H(t,e){this.wrapper=e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.direction=e.direction,e.fade?(this.visible=0,this.wrapperStyle.opacity="0"):this.visible=1,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.x=0,this.y=0,e.interactive&&this._addDOMEvents()}H.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t);break;case"touchmove":case"mousemove":this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(t)}},H.prototype.refresh=function(){this._shouldShow()&&(this.transitionTime(),this._calculate(),this.updatePosition())},H.prototype.fade=function(t,e){var n=this;if(!e||this.visible){var i=t?250:500;t=t?"1":"0",this.wrapperStyle[k.transitionDuration]=i+"ms",clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout(function(){n.wrapperStyle.opacity=t,n.visible=+t},0)}},H.prototype.updatePosition=function(){if("vertical"===this.direction){var t=Math.round(this.sizeRatioY*this.scroller.y);if(t<0){this.transitionTime(500);var e=Math.max(this.indicatorHeight+3*t,8);this.indicatorStyle.height=e+"px",t=0}else if(t>this.maxPosY){this.transitionTime(500);var n=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8);this.indicatorStyle.height=n+"px",t=this.maxPosY+this.indicatorHeight-n}else this.indicatorStyle.height=this.indicatorHeight+"px";this.y=t,this.scroller.options.useTransform?this.indicatorStyle[k.transform]="translateY("+t+"px)"+this.scroller.translateZ:this.indicatorStyle.top=t+"px"}else{var i=Math.round(this.sizeRatioX*this.scroller.x);if(i<0){this.transitionTime(500);var r=Math.max(this.indicatorWidth+3*i,8);this.indicatorStyle.width=r+"px",i=0}else if(i>this.maxPosX){this.transitionTime(500);var o=Math.max(this.indicatorWidth-3*(i-this.maxPosX),8);this.indicatorStyle.width=o+"px",i=this.maxPosX+this.indicatorWidth-o}else this.indicatorStyle.width=this.indicatorWidth+"px";this.x=i,this.scroller.options.useTransform?this.indicatorStyle[k.transform]="translateX("+i+"px)"+this.scroller.translateZ:this.indicatorStyle.left=i+"px"}},H.prototype.transitionTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.indicatorStyle[k.transitionDuration]=t+"ms"},H.prototype.transitionTimingFunction=function(t){this.indicatorStyle[k.transitionTimingFunction]=t},H.prototype.destroy=function(){this._removeDOMEvents(),this.wrapper.parentNode.removeChild(this.wrapper)},H.prototype._start=function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=u(),this._handleMoveEvents(y),this.scroller.trigger("beforeScrollStart")},H.prototype._move=function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.moved||this.scroller.trigger("scrollStart"),this.moved=!0;var n=e.pageX-this.lastPointX;this.lastPointX=e.pageX;var i=e.pageY-this.lastPointY;this.lastPointY=e.pageY;var r=this.x+n,o=this.y+i;this._pos(r,o)},H.prototype._end=function(t){if(this.initiated){this.initiated=!1,t.preventDefault(),t.stopPropagation(),this._handleMoveEvents(g);var e=this.scroller.options.snap;if(e){var n=e.speed,i=e.easing,r=void 0===i?N.bounce:i,o=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),a=n||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-o.x),1e3),Math.min(Math.abs(this.scroller.y-o.y),1e3)),300);this.scroller.x===o.x&&this.scroller.y===o.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=o,this.scroller.scrollTo(o.x,o.y,a,r))}this.moved&&this.scroller.trigger("scrollEnd",{x:this.scroller.x,y:this.scroller.y})}},H.prototype._pos=function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=Math.round(t/this.sizeRatioX),e=Math.round(e/this.sizeRatioY),this.scroller.scrollTo(t,e),this.scroller.trigger("scroll",{x:this.scroller.x,y:this.scroller.y})},H.prototype._shouldShow=function(){return"vertical"===this.direction&&this.scroller.hasVerticalScroll||"horizontal"===this.direction&&this.scroller.hasHorizontalScroll?(this.wrapper.style.display="",!0):(this.wrapper.style.display="none",!1)},H.prototype._calculate=function(){if("vertical"===this.direction){var t=this.wrapper.clientHeight;this.indicatorHeight=Math.max(Math.round(t*t/(this.scroller.scrollerHeight||t||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=t-this.indicatorHeight,this.sizeRatioY=this.maxPosY/this.scroller.maxScrollY}else{var e=this.wrapper.clientWidth;this.indicatorWidth=Math.max(Math.round(e*e/(this.scroller.scrollerWidth||e||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=e-this.indicatorWidth,this.sizeRatioX=this.maxPosX/this.scroller.maxScrollX}},H.prototype._addDOMEvents=function(){var t=y;this._handleDOMEvents(t)},H.prototype._removeDOMEvents=function(){var t=g;this._handleDOMEvents(t),this._handleMoveEvents(t)},H.prototype._handleMoveEvents=function(t){this.scroller.options.disableTouch||t(window,"touchmove",this),this.scroller.options.disableMouse||t(window,"mousemove",this)},H.prototype._handleDOMEvents=function(t){this.scroller.options.disableTouch||(t(this.indicator,"touchstart",this),t(window,"touchend",this)),this.scroller.options.disableMouse||(t(this.indicator,"mousedown",this),t(window,"mouseup",this))};var Q=2e3;function Z(t){if(t&&t.classList)return t.classList.contains("tombstone")}function K(t,e){var n=this;this.options=e,q("function"==typeof this.options.createTombstone,"Infinite scroll need createTombstone Function to create tombstone"),q("function"==typeof this.options.fetch,"Infinite scroll need fetch Function to fetch new data."),q("function"==typeof this.options.render,"Infinite scroll need render Function to render each item."),this.firstAttachedItem=0,this.lastAttachedItem=0,this.anchorScrollTop=0,this.anchorItem={index:0,offset:0},this.tombstoneHeight=0,this.tombstoneWidth=0,this.tombstones=[],this.tombstonesAnimationHandlers=[],this.items=[],this.loadedItems=0,this.requestInProgress=!1,this.hasMore=!0,this.scroller=t,this.wrapperEl=this.scroller.wrapper,this.scrollerEl=this.scroller.scroller,this.scroller.on("scroll",function(){n.onScroll()}),this.scroller.on("resize",function(){n.onResize()}),this.scroller.on("destroy",function(){n.destroy()}),this._onResizeHandler=setTimeout(function(){n.onResize()})}function J(t,e){this.wrapper="string"==typeof t?document.querySelector(t):t,this.wrapper||Y("Can not resolve the wrapper DOM."),this.scroller=this.wrapper.children[0],this.scroller||Y("The wrapper need at least one child element to be scroller."),this.scrollerStyle=this.scroller.style,this._init(t,e)}K.prototype.destroy=function(){var t=this;clearTimeout(this._onResizeHandler),this.tombstonesAnimationHandlers.forEach(function(t){clearTimeout(t)}),this.tombstonesAnimationHandlers=null,this.items.forEach(function(e){e.node&&(t.scrollerEl.removeChild(e.node),e.node=null)}),this.scroller.infiniteScroller=null,this.scroller=null,this.wrapperEl=null,this.scrollerEl=null,this.items=null,this.tombstones=null},K.prototype.onScroll=function(){var t=-this.scroller.y,e=t-this.anchorScrollTop;this.anchorItem=0===t?{index:0,offset:0}:this._calculateAnchoredItem(this.anchorItem,e),this.anchorScrollTop=t;var n=this._calculateAnchoredItem(this.anchorItem,this.scroller.wrapperHeight),i=this.anchorItem.index,r=n.index;e<0?(i-=30,r+=10):(i-=10,r+=30),this.fill(i,r),this.maybeRequestContent()},K.prototype.onResize=function(){var t=this.options.createTombstone();t.style.position="absolute",this.scrollerEl.appendChild(t),t.style.display="",this.tombstoneHeight=t.offsetHeight,this.tombstoneWidth=t.offsetWidth,this.scrollerEl.removeChild(t);for(var e=0;e<this.items.length;e++)this.items[e].height=this.items[e].width=0;this.onScroll()},K.prototype.fill=function(t,e){this.firstAttachedItem=Math.max(0,t),this.hasMore||(e=Math.min(e,this.items.length)),this.lastAttachedItem=e,this.attachContent()},K.prototype.maybeRequestContent=function(){var t=this;if(!this.requestInProgress&&this.hasMore){var e=this.lastAttachedItem-this.loadedItems;e<=0||(this.requestInProgress=!0,this.options.fetch(e).then(function(e){if(t.requestInProgress=!1,e)t.addContent(e);else{t.hasMore=!1;var n=t._removeTombstones(),i=0;t.anchorItem.index<=t.items.length?(i=t._fixScrollPosition(),t._setupAnimations({},i),t.scroller.resetPosition(t.scroller.options.bounceTime)):(t.anchorItem.index-=n,i=t._fixScrollPosition(),t._setupAnimations({},i),t.scroller.stop(),t.scroller.resetPosition(),t.onScroll())}}))}},K.prototype.addContent=function(t){for(var e=0;e<t.length;e++)this.items.length<=this.loadedItems&&this._addItem(),this.items[this.loadedItems++].data=t[e];this.attachContent(),this.maybeRequestContent()},K.prototype.attachContent=function(){var t=this._collectUnusedNodes(),e=this._createDOMNodes(t);this._cleanupUnusedNodes(t),this._cacheNodeSize();var n=this._fixScrollPosition();this._setupAnimations(e,n)},K.prototype.resetMore=function(){this.hasMore=!0},K.prototype._removeTombstones=function(){for(var t,e=void 0,n=this.items.length,i=0;i<n;i++){var r=this.items[i].node,o=this.items[i].data;r&&!Z(r)||o||(void 0===e&&(e=i),r&&this.scrollerEl.removeChild(r))}return t=n-e,this.items.splice(e),this.lastAttachedItem=Math.min(this.lastAttachedItem,this.items.length),t},K.prototype._collectUnusedNodes=function(){for(var t=[],e=0;e<this.items.length;e++)if(e!==this.firstAttachedItem){var n=this.items[e].node;n&&(Z(n)?(this.tombstones.push(n),this.tombstones[this.tombstones.length-1].style.display="none"):t.push(n)),this.items[e].node=null}else e=this.lastAttachedItem-1;return t},K.prototype._createDOMNodes=function(t){for(var e={},n=this.firstAttachedItem;n<this.lastAttachedItem;n++){for(;this.items.length<=n;)this._addItem();var i=this.items[n].node,r=this.items[n].data;if(i){if(!Z(i)||!r)continue;i.style.zIndex=1,e[n]=[i,this.items[n].top-this.anchorScrollTop],this.items[n].node=null}var o=r?this.options.render(r,t.pop()):this._getTombStone();o.style.position="absolute",this.items[n].top=-1,this.scrollerEl.appendChild(o),this.items[n].node=o}return e},K.prototype._cleanupUnusedNodes=function(t){for(;t.length;)this.scrollerEl.removeChild(t.pop())},K.prototype._cacheNodeSize=function(){for(var t=this.firstAttachedItem;t<this.lastAttachedItem;t++){var e=this.items[t];if(e.data&&!e.height){var n=Z(e.node);e.height=n?this.tombstoneHeight:e.node.offsetHeight,e.width=n?this.tombstoneWidth:e.node.offsetWidth}}},K.prototype._fixScrollPosition=function(){this.anchorScrollTop=0;for(var t=0;t<this.anchorItem.index;t++)this.anchorScrollTop+=this.items[t].height||this.tombstoneHeight;this.anchorScrollTop+=this.anchorItem.offset;for(var e=this.anchorScrollTop-this.anchorItem.offset,n=this.anchorItem.index;n>this.firstAttachedItem;)e-=this.items[n-1].height||this.tombstoneHeight,n--;return e},K.prototype._setupAnimations=function(t,e){var n=this;for(var i in t){var r=t[i];this.items[i].node.style[k.transform]="translateY("+(this.anchorScrollTop+r[1])+"px) scale("+this.tombstoneWidth/this.items[i].width+", "+this.tombstoneHeight/this.items[i].height+")",this.items[i].node.offsetTop,r[0].offsetTop,this.items[i].node.style[k.transition]=b+"transform 200ms"}for(var o=this.firstAttachedItem;o<this.lastAttachedItem;o++){var a=t[o];if(a){var s=a[0];s.style[k.transition]=b+"transform 200ms, opacity 200ms",s.style[k.transform]="translateY("+e+"px) scale("+this.items[o].width/this.tombstoneWidth+", "+this.items[o].height/this.tombstoneHeight+")",s.style.opacity=0}e!==this.items[o].top&&(a||(this.items[o].node.style[k.transition]=""),this.items[o].node.style[k.transform]="translateY("+e+"px)"),this.items[o].top=e,e+=this.items[o].height||this.tombstoneHeight}this.scroller.maxScrollY=-(e-this.scroller.wrapperHeight+(this.hasMore?Q:0));var l=setTimeout(function(){for(var e in t){var i=t[e];i[0].style.display="none",n.tombstones.push(i[0])}},200);this.tombstonesAnimationHandlers.push(l)},K.prototype._getTombStone=function(){var t=this.tombstones.pop();return t?(t.style.display="",t.style.opacity=1,t.style[k.transform]="",t.style[k.transition]="",t):this.options.createTombstone()},K.prototype._addItem=function(){this.items.push({data:null,node:null,height:0,width:0,top:0})},K.prototype._calculateAnchoredItem=function(t,e){if(0===e)return t;var n=t.index,i=0;if((e+=t.offset)<0){for(;e<0&&n>0&&this.items[n-1].height;)e+=this.items[n-1].height,n--;i=Math.max(-n,Math.ceil(Math.min(e,0)/this.tombstoneHeight))}else{for(;e>0&&n<this.items.length&&this.items[n].height&&this.items[n].height<e;)e-=this.items[n].height,n++;(n>=this.items.length||!this.items[n].height)&&(i=Math.floor(Math.max(e,0)/this.tombstoneHeight))}return{index:n+=i,offset:e-=i*this.tombstoneHeight}},function(t){t.prototype._init=function(t,e){this._handleOptions(e),this._events={},this.x=0,this.y=0,this.directionX=0,this.directionY=0,this.setScale(1),this._addDOMEvents(),this._initExtFeatures(),this._watchTransition(),this.options.observeDOM&&this._initDOMObserver(),this.options.autoBlur&&this._handleAutoBlur(),this.refresh(),this.options.snap||this.scrollTo(this.options.startX,this.options.startY),this.enable()},t.prototype.setScale=function(t){this.lastScale=h(this.scale)?t:this.scale,this.scale=t},t.prototype._handleOptions=function(t){this.options=c({},I,t),this.translateZ=this.options.HWCompositing&&x?" translateZ(0)":"",this.options.useTransition=this.options.useTransition&&O,this.options.useTransform=this.options.useTransform&&P,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,!0===this.options.tap&&(this.options.tap="tap")},t.prototype._addDOMEvents=function(){var t=y;this._handleDOMEvents(t)},t.prototype._removeDOMEvents=function(){var t=g;this._handleDOMEvents(t)},t.prototype._handleDOMEvents=function(t){var e=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(e,"mousemove",this),t(e,"mousecancel",this),t(e,"mouseup",this)),S&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(e,"touchmove",this),t(e,"touchcancel",this),t(e,"touchend",this)),t(this.scroller,k.transitionEnd,this)},t.prototype._initExtFeatures=function(){this.options.snap&&this._initSnap(),this.options.scrollbar&&this._initScrollbar(),this.options.pullUpLoad&&this._initPullUp(),this.options.pullDownRefresh&&this._initPullDown(),this.options.wheel&&this._initWheel(),this.options.mouseWheel&&this._initMouseWheel(),this.options.zoom&&this._initZoom(),this.options.infinity&&this._initInfinite()},t.prototype._watchTransition=function(){if("function"==typeof Object.defineProperty){var t=this,e=!1,n=this.useTransition?"isInTransition":"isAnimating";Object.defineProperty(this,n,{get:function(){return e},set:function(n){e=n;for(var i=t.scroller.children.length?t.scroller.children:[t.scroller],r=e&&!t.pulling?"none":"auto",o=0;o<i.length;o++)i[o].style.pointerEvents=r}})}},t.prototype._handleAutoBlur=function(){this.on("scrollStart",function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()})},t.prototype._initDOMObserver=function(){var t=this;if("undefined"!=typeof MutationObserver){var e=void 0,n=new MutationObserver(function(n){if(!t._shouldNotRefresh()){for(var i=!1,r=!1,o=0;o<n.length;o++){var a=n[o];if("attributes"!==a.type){i=!0;break}if(a.target!==t.scroller){r=!0;break}}i?t.refresh():r&&(clearTimeout(e),e=setTimeout(function(){t._shouldNotRefresh()||t.refresh()},60))}});n.observe(this.scroller,{attributes:!0,childList:!0,subtree:!0}),this.on("destroy",function(){n.disconnect()})}else this._checkDOMUpdate()},t.prototype._shouldNotRefresh=function(){var t=this.x>this.minScrollX||this.x<this.maxScrollX||this.y>this.minScrollY||this.y<this.maxScrollY;return this.isInTransition||this.stopFromTransition||t},t.prototype._checkDOMUpdate=function(){var t=L(this.scroller),e=t.width,n=t.height;function i(){var r=this;setTimeout(function(){(function(){if(!this.destroyed){var r=(t=L(this.scroller)).width,o=t.height;e===r&&n===o||this.refresh(),e=r,n=o,i.call(this)}}).call(r)},1e3)}i.call(this)},t.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t),this.options.zoom&&t.touches&&t.touches.length>1&&this._zoomStart(t);break;case"touchmove":case"mousemove":this.options.zoom&&t.touches&&t.touches.length>1?this._zoom(t):this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this.scaled?this._zoomEnd(t):this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"click":this.enabled&&!t._constructed&&(A(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation()));break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._onMouseWheel(t)}},t.prototype.refresh=function(){var t="static"===window.getComputedStyle(this.wrapper,null).position,e=L(this.wrapper);this.wrapperWidth=e.width,this.wrapperHeight=e.height;var n=L(this.scroller);this.scrollerWidth=Math.round(n.width*this.scale),this.scrollerHeight=Math.round(n.height*this.scale),this.relativeX=n.left,this.relativeY=n.top,t&&(this.relativeX-=e.left,this.relativeY-=e.top),this.minScrollX=0,this.minScrollY=0;var i=this.options.wheel;i?(this.items=this.scroller.children,this.options.itemHeight=this.itemHeight=this.items.length?this.scrollerHeight/this.items.length:0,void 0===this.selectedIndex&&(this.selectedIndex=i.selectedIndex||0),this.options.startY=-this.selectedIndex*this.itemHeight,this.maxScrollX=0,this.maxScrollY=-this.itemHeight*(this.items.length-1)):(this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infinity||(this.maxScrollY=this.wrapperHeight-this.scrollerHeight),this.maxScrollX<0?(this.maxScrollX-=this.relativeX,this.minScrollX=-this.relativeX):this.scale>1&&(this.maxScrollX=this.maxScrollX/2-this.relativeX,this.minScrollX=this.maxScrollX),this.maxScrollY<0?(this.maxScrollY-=this.relativeY,this.minScrollY=-this.relativeY):this.scale>1&&(this.maxScrollY=this.maxScrollY/2-this.relativeY,this.minScrollY=this.maxScrollY)),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<this.minScrollX,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<this.minScrollY,this.hasHorizontalScroll||(this.maxScrollX=this.minScrollX,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=this.minScrollY,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=m(this.wrapper),this.trigger("refresh"),!this.scaled&&this.resetPosition()},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1}}(J),function(t){t.prototype._start=function(t){var e=E[t.type];if((e===C||0===t.button)&&!(!this.enabled||this.destroyed||this.initiated&&this.initiated!==e)){this.initiated=e,this.options.preventDefault&&!A(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.movingDirectionX=0,this.movingDirectionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=u(),this.options.wheel&&(this.target=t.target),this.stop();var n=t.touches?t.touches[0]:t;this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this.trigger("beforeScrollStart")}},t.prototype._move=function(t){if(this.enabled&&!this.destroyed&&E[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e=t.touches?t.touches[0]:t,n=e.pageX-this.pointX,i=e.pageY-this.pointY;this.pointX=e.pageX,this.pointY=e.pageY,this.distX+=n,this.distY+=i;var r=Math.abs(this.distX),o=Math.abs(this.distY),a=u();if(!(a-this.endTime>this.options.momentumLimitTime&&o<this.options.momentumLimitDistance&&r<this.options.momentumLimitDistance)){if(this.directionLocked||this.options.freeScroll||(r>o+this.options.directionLockThreshold?this.directionLocked="h":o>=r+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)t.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);i=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)t.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);n=0}n=this.hasHorizontalScroll?n:0,i=this.hasVerticalScroll?i:0,this.movingDirectionX=n>0?U:n<0?$:0,this.movingDirectionY=i>0?z:i<0?V:0;var s=this.x+n,l=this.y+i,c=!1,h=!1,f=!1,p=!1,d=this.options.bounce;!1!==d&&(c=void 0===d.top||d.top,h=void 0===d.bottom||d.bottom,f=void 0===d.left||d.left,p=void 0===d.right||d.right),(s>this.minScrollX||s<this.maxScrollX)&&(s=s>this.minScrollX&&f||s<this.maxScrollX&&p?this.x+n/3:s>this.minScrollX?this.minScrollX:this.maxScrollX),(l>this.minScrollY||l<this.maxScrollY)&&(l=l>this.minScrollY&&c||l<this.maxScrollY&&h?this.y+i/3:l>this.minScrollY?this.minScrollY:this.maxScrollY),this.moved||(this.moved=!0,this.trigger("scrollStart")),this._translate(s,l),a-this.startTime>this.options.momentumLimitTime&&(this.startTime=a,this.startX=this.x,this.startY=this.y,this.options.probeType===G&&this.trigger("scroll",{x:this.x,y:this.y})),this.options.probeType>G&&this.trigger("scroll",{x:this.x,y:this.y});var v=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,y=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,g=this.pointX-v,m=this.pointY-y;(g>document.documentElement.clientWidth-this.options.momentumLimitDistance||g<this.options.momentumLimitDistance||m<this.options.momentumLimitDistance||m>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this._end(t)}}},t.prototype._end=function(t){if(this.enabled&&!this.destroyed&&E[t.type]===this.initiated){this.initiated=!1,this.options.preventDefault&&!A(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.trigger("touchEnd",{x:this.x,y:this.y}),this.isInTransition=!1;var e=Math.round(this.x),n=Math.round(this.y),i=e-this.absStartX,r=n-this.absStartY;if(this.directionX=i>0?U:i<0?$:0,this.directionY=r>0?z:r<0?V:0,!this.options.pullDownRefresh||!this._checkPullDown())if(this._checkClick(t))this.trigger("scrollCancel");else if(!this.resetPosition(this.options.bounceTime,N.bounce)){this._translate(e,n),this.endTime=u();var o=this.endTime-this.startTime,a=Math.abs(e-this.startX),s=Math.abs(n-this.startY);if(this._events.flick&&o<this.options.flickLimitTime&&a<this.options.flickLimitDistance&&s<this.options.flickLimitDistance)this.trigger("flick");else{var l=0;if(this.options.momentum&&o<this.options.momentumLimitTime&&(s>this.options.momentumLimitDistance||a>this.options.momentumLimitDistance)){var c=!1,h=!1,f=!1,p=!1,d=this.options.bounce;!1!==d&&(c=void 0===d.top||d.top,h=void 0===d.bottom||d.bottom,f=void 0===d.left||d.left,p=void 0===d.right||d.right);var v=this.directionX===U&&f||this.directionX===$&&p?this.wrapperWidth:0,y=this.directionY===z&&c||this.directionY===V&&h?this.wrapperHeight:0,g=this.hasHorizontalScroll?F(this.x,this.startX,o,this.maxScrollX,this.minScrollX,v,this.options):{destination:e,duration:0},m=this.hasVerticalScroll?F(this.y,this.startY,o,this.maxScrollY,this.minScrollY,y,this.options):{destination:n,duration:0};e=g.destination,n=m.destination,l=Math.max(g.duration,m.duration),this.isInTransition=!0}else this.options.wheel&&(n=Math.round(n/this.itemHeight)*this.itemHeight,l=this.options.wheel.adjustTime||400);var _=N.swipe;if(this.options.snap){var b=this._nearestSnap(e,n);this.currentPage=b,l=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(e-b.x),1e3),Math.min(Math.abs(n-b.y),1e3)),300),e=b.x,n=b.y,this.directionX=0,this.directionY=0,_=this.options.snap.easing||N.bounce}if(e!==this.x||n!==this.y)return(e>this.minScrollX||e<this.maxScrollX||n>this.minScrollY||n<this.maxScrollY)&&(_=N.swipeBounce),void this.scrollTo(e,n,l,_);this.options.wheel&&(this.selectedIndex=Math.round(Math.abs(this.y/this.itemHeight))),this.trigger("scrollEnd",{x:this.x,y:this.y})}}}},t.prototype._checkClick=function(t){var e=this.stopFromTransition&&!this.pulling;if(this.stopFromTransition=!1,!this.moved){if(this.options.wheel){if(this.target&&this.target.classList.contains(this.options.wheel.wheelWrapperClass)){var n=Math.abs(Math.round(this.y/this.itemHeight)),i=Math.round((this.pointY+_(this.wrapper).top-this.wrapperHeight/2)/this.itemHeight);this.target=this.items[n+i]}return this.scrollToElement(this.target,this.options.wheel.adjustTime||400,!0,!0,N.swipe),!0}if(!e){var r=this.options.dblclick,o=!1;if(r&&this.lastClickTime){var a=r.delay,s=void 0===a?300:a;u()-this.lastClickTime<s&&(o=!0,function(t){j(t,"dblclick")}(t))}return this.options.tap&&function(t,e){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)}(t,this.options.tap),this.options.click&&!A(t.target,this.options.preventDefaultException)&&j(t),this.lastClickTime=o?null:u(),!0}return!1}return!1},t.prototype._resize=function(){var t=this;this.enabled&&(l&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling))},t.prototype._startProbe=function(){B(this.probeTimer),this.probeTimer=R(function e(){var n=t.getComputedPosition();t.trigger("scroll",n),t.isInTransition?t.probeTimer=R(e):t.trigger("scrollEnd",n)});var t=this},t.prototype._transitionTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollerStyle[k.transitionDuration]=t+"ms",this.options.wheel)for(var e=0;e<this.items.length;e++)this.items[e].style[k.transitionDuration]=t+"ms";if(this.indicators)for(var n=0;n<this.indicators.length;n++)this.indicators[n].transitionTime(t)},t.prototype._transitionTimingFunction=function(t){if(this.scrollerStyle[k.transitionTimingFunction]=t,this.options.wheel)for(var e=0;e<this.items.length;e++)this.items[e].style[k.transitionTimingFunction]=t;if(this.indicators)for(var n=0;n<this.indicators.length;n++)this.indicators[n].transitionTimingFunction(t)},t.prototype._transitionEnd=function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),(!this.pulling||this.movingDirectionY===V)&&!this.resetPosition(this.options.bounceTime,N.bounce)&&(this.isInTransition=!1,this.options.probeType!==W&&this.trigger("scrollEnd",{x:this.x,y:this.y})))},t.prototype._translate=function(t,e,n){if(q(!h(t)&&!h(e),"Translate x or y is null or undefined."),h(n)&&(n=this.scale),this.options.useTransform?this.scrollerStyle[k.transform]="translate("+t+"px,"+e+"px) scale("+n+")"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.options.wheel)for(var i=this.options.wheel.rotate,r=void 0===i?25:i,o=0;o<this.items.length;o++){var a=r*(e/this.itemHeight+o);this.items[o].style[k.transform]="rotateX("+a+"deg)"}if(this.x=t,this.y=e,this.setScale(n),this.indicators)for(var s=0;s<this.indicators.length;s++)this.indicators[s].updatePosition()},t.prototype._animate=function(t,e,n,i){var r=this,o=this.x,a=this.y,s=this.lastScale,l=this.scale,c=u(),h=c+n;this.isAnimating=!0,B(this.animateTimer),function f(){var p=u();if(p>=h)return r.isAnimating=!1,r._translate(t,e,l),r.trigger("scroll",{x:r.x,y:r.y}),void(r.pulling||r.resetPosition(r.options.bounceTime)||r.trigger("scrollEnd",{x:r.x,y:r.y}));var d=i(p=(p-c)/n),v=(t-o)*d+o,y=(e-a)*d+a,g=(l-s)*d+s;r._translate(v,y,g),r.isAnimating&&(r.animateTimer=R(f)),r.options.probeType===W&&r.trigger("scroll",{x:r.x,y:r.y})}()},t.prototype.scrollBy=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.bounce;t=this.x+t,e=this.y+e,this.scrollTo(t,e,n,i)},t.prototype.scrollTo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.bounce;this.isInTransition=this.options.useTransition&&n>0&&(t!==this.x||e!==this.y),!n||this.options.useTransition?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(t,e),n&&this.options.probeType===W&&this._startProbe(),n||t===this.x&&e===this.y||(this.trigger("scroll",{x:t,y:e}),this._reflow=document.body.offsetHeight,this.resetPosition(this.options.bounceTime,N.bounce)||this.trigger("scrollEnd",{x:t,y:e})),this.options.wheel&&(e>this.minScrollY?this.selectedIndex=0:e<this.maxScrollY?this.selectedIndex=this.items.length-1:this.selectedIndex=Math.round(Math.abs(e/this.itemHeight)))):this._animate(t,e,n,i.fn)},t.prototype.scrollToElement=function(t,e,n,i,r){if(t&&(t=t.nodeType?t:this.scroller.querySelector(t),!this.options.wheel||t.classList.contains(this.options.wheel.wheelItemClass))){var o=m(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===n&&(n=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===i&&(i=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=i||0,o.left=o.left>this.minScrollX?this.minScrollX:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>this.minScrollY?this.minScrollY:o.top<this.maxScrollY?this.maxScrollY:o.top,this.options.wheel&&(o.top=Math.round(o.top/this.itemHeight)*this.itemHeight),this.scrollTo(o.left,o.top,e,r)}},t.prototype.resetPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N.bounce,n=this.x,i=Math.round(n);!this.hasHorizontalScroll||i>this.minScrollX?n=this.minScrollX:i<this.maxScrollX&&(n=this.maxScrollX);var r=this.y,o=Math.round(r);return!this.hasVerticalScroll||o>this.minScrollY?r=this.minScrollY:o<this.maxScrollY&&(r=this.maxScrollY),(n!==this.x||r!==this.y)&&(this.scrollTo(n,r,t,e),!0)},t.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.scroller,null),e=void 0,n=void 0;return this.options.useTransform?(e=+((t=t[k.transform].split(")")[0].split(", "))[12]||t[4]),n=+(t[13]||t[5])):(e=+t.left.replace(/[^-\d.]/g,""),n=+t.top.replace(/[^-\d.]/g,"")),{x:e,y:n}},t.prototype.stop=function(){if(this.options.useTransition&&this.isInTransition){this.isInTransition=!1,B(this.probeTimer);var t=this.getComputedPosition();this._translate(t.x,t.y),this.options.wheel?this.target=this.items[Math.round(-t.y/this.itemHeight)]:this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0}else!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,B(this.animateTimer),this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0)},t.prototype.destroy=function(){this.destroyed=!0,this.trigger("destroy"),this.options.useTransition?B(this.probeTimer):B(this.animateTimer),this._removeDOMEvents(),this._events={}}}(J),function(t){t.prototype.on=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._events[t]||(this._events[t]=[]),this._events[t].push([e,n])},t.prototype.once=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;function i(){this.off(t,i),e.apply(n,arguments)}i.fn=e,this.on(t,i)},t.prototype.off=function(t,e){var n=this._events[t];if(n)for(var i=n.length;i--;)(n[i][0]===e||n[i][0]&&n[i][0].fn===e)&&(n[i][0]=void 0)},t.prototype.trigger=function(t){var e=this._events[t];if(e)for(var n=e.length,o=[].concat(r(e)),a=0;a<n;a++){var s=o[a],l=i(s,2),u=l[0],c=l[1];u&&u.apply(c,[].slice.call(arguments,1))}}}(J),function(t){t.prototype._initSnap=function(){var t=this;this.currentPage={};var e=this.options.snap;if(e.loop){var n=this.scroller.children;n.length>1?(function(t,e){e.firstChild?function(t,e){e.parentNode.insertBefore(t,e)}(t,e.firstChild):e.appendChild(t)}(n[n.length-1].cloneNode(!0),this.scroller),this.scroller.appendChild(n[1].cloneNode(!0))):e.loop=!1}var i=e.el;"string"==typeof i&&(i=this.scroller.querySelectorAll(i)),this.on("refresh",function(){if(t.pages=[],t.wrapperWidth&&t.wrapperHeight&&t.scrollerWidth&&t.scrollerHeight){var n=e.stepX||t.wrapperWidth,r=e.stepY||t.wrapperHeight,o=0,a=void 0,s=void 0,l=void 0,u=0,c=void 0,h=0,f=void 0,p=void 0;if(i)for(c=i.length,f=-1;u<c;u++)p=L(i[u]),(0===u||p.left<=L(i[u-1]).left)&&(h=0,f++),t.pages[h]||(t.pages[h]=[]),o=Math.max(-p.left,t.maxScrollX),a=Math.max(-p.top,t.maxScrollY),s=o-Math.round(p.width/2),l=a-Math.round(p.height/2),t.pages[h][f]={x:o,y:a,width:p.width,height:p.height,cx:s,cy:l},o>t.maxScrollX&&h++;else for(s=Math.round(n/2),l=Math.round(r/2);o>-t.scrollerWidth;){for(t.pages[u]=[],c=0,a=0;a>-t.scrollerHeight;)t.pages[u][c]={x:Math.max(o,t.maxScrollX),y:Math.max(a,t.maxScrollY),width:n,height:r,cx:o-s,cy:a-l},a-=r,c++;o-=n,u++}t._checkSnapLoop();var d=e._loopX?1:0,v=e._loopY?1:0;t._goToPage(t.currentPage.pageX||d,t.currentPage.pageY||v,0);var y=e.threshold;y%1==0?(t.snapThresholdX=y,t.snapThresholdY=y):(t.snapThresholdX=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].width*y),t.snapThresholdY=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].height*y))}}),this.on("scrollEnd",function(){e.loop&&(e._loopX?(0===t.currentPage.pageX&&t._goToPage(t.pages.length-2,t.currentPage.pageY,0),t.currentPage.pageX===t.pages.length-1&&t._goToPage(1,t.currentPage.pageY,0)):(0===t.currentPage.pageY&&t._goToPage(t.currentPage.pageX,t.pages[0].length-2,0),t.currentPage.pageY===t.pages[0].length-1&&t._goToPage(t.currentPage.pageX,1,0)))}),!1!==e.listenFlick&&this.on("flick",function(){var n=e.speed||Math.max(Math.max(Math.min(Math.abs(t.x-t.startX),1e3),Math.min(Math.abs(t.y-t.startY),1e3)),300);t._goToPage(t.currentPage.pageX+t.directionX,t.currentPage.pageY+t.directionY,n)}),this.on("destroy",function(){if(e.loop){var n=t.scroller.children;n.length>2&&(T(t.scroller,n[n.length-1]),T(t.scroller,n[0]))}})},t.prototype._checkSnapLoop=function(){var t=this.options.snap;t.loop&&this.pages&&this.pages.length&&(this.pages.length>1&&(t._loopX=!0),this.pages[0]&&this.pages[0].length>1&&(t._loopY=!0),t._loopX&&t._loopY&&Y("Loop does not support two direction at the same time."))},t.prototype._nearestSnap=function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0;if(Math.abs(t-this.absStartX)<=this.snapThresholdX&&Math.abs(e-this.absStartY)<=this.snapThresholdY)return this.currentPage;t>this.minScrollX?t=this.minScrollX:t<this.maxScrollX&&(t=this.maxScrollX),e>this.minScrollY?e=this.minScrollY:e<this.maxScrollY&&(e=this.maxScrollY);for(var i=this.pages.length;n<i;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}i=this.pages[n].length;for(var r=0;r<i;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return n===this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),r===this.currentPage.pageY&&((r+=this.directionY)<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:n,pageY:r}},t.prototype._goToPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],i=arguments[3],r=this.options.snap;if(r&&this.pages&&this.pages.length&&(i=i||r.easing||N.bounce,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),this.pages[t])){e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,a=this.pages[t][e].y;n=void 0===n?r.speed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(a-this.y),1e3)),300):n,this.currentPage={x:o,y:a,pageX:t,pageY:e},this.scrollTo(o,a,n,i)}},t.prototype.goToPage=function(t,e,n,i){var r=this.options.snap;if(r&&this.pages&&this.pages.length){if(r.loop){var o=void 0;r._loopX?(t>=(o=this.pages.length-2)?t=o-1:t<0&&(t=0),t+=1):(e>=(o=this.pages[0].length-2)?e=o-1:e<0&&(e=0),e+=1)}this._goToPage(t,e,n,i)}},t.prototype.next=function(t,e){if(this.options.snap){var n=this.currentPage.pageX,i=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this._goToPage(n,i,t,e)}},t.prototype.prev=function(t,e){if(this.options.snap){var n=this.currentPage.pageX,i=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,i--),this._goToPage(n,i,t,e)}},t.prototype.getCurrentPage=function(){var t=this.options.snap;return t?t.loop?t._loopX?c({},this.currentPage,{pageX:this.currentPage.pageX-1}):c({},this.currentPage,{pageY:this.currentPage.pageY-1}):this.currentPage:null}}(J),function(t){t.prototype.wheelTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.options.wheel&&(this.y=-t*this.itemHeight,this.scrollTo(0,this.y))},t.prototype.getSelectedIndex=function(){return this.options.wheel&&this.selectedIndex},t.prototype._initWheel=function(){var t=this.options.wheel;t.wheelWrapperClass||(t.wheelWrapperClass="wheel-scroll"),t.wheelItemClass||(t.wheelItemClass="wheel-item"),void 0===t.selectedIndex&&(t.selectedIndex=0,Y("wheel option selectedIndex is required!"))}}(J),function(t){t.prototype._initScrollbar=function(){var t=this,e=this.options.scrollbar,n=e.fade,i=void 0===n||n,r=e.interactive,o=void 0!==r&&r;this.indicators=[];var a=void 0;this.options.scrollX&&(a={el:X("horizontal"),direction:"horizontal",fade:i,interactive:o},this._insertScrollBar(a.el),this.indicators.push(new H(this,a))),this.options.scrollY&&(a={el:X("vertical"),direction:"vertical",fade:i,interactive:o},this._insertScrollBar(a.el),this.indicators.push(new H(this,a))),this.on("refresh",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].refresh()}),i&&(this.on("scrollEnd",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade()}),this.on("scrollCancel",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade()}),this.on("scrollStart",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade(!0)}),this.on("beforeScrollStart",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade(!0,!0)})),this.on("destroy",function(){t._removeScrollBars()})},t.prototype._insertScrollBar=function(t){this.wrapper.appendChild(t)},t.prototype._removeScrollBars=function(){for(var t=0;t<this.indicators.length;t++)this.indicators[t].destroy()}}(J),function(t){t.prototype._initPullDown=function(){this.options.probeType=W},t.prototype._checkPullDown=function(){var t=this.options.pullDownRefresh,e=t.threshold,n=void 0===e?90:e,i=t.stop,r=void 0===i?40:i;return!(this.directionY!==z||this.y<n)&&(this.pulling||(this.pulling=!0,this.trigger("pullingDown")),this.scrollTo(this.x,r,this.options.bounceTime,N.bounce),this.pulling)},t.prototype.finishPullDown=function(){this.pulling=!1,this.resetPosition(this.options.bounceTime,N.bounce)},t.prototype.openPullDown=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.pullDownRefresh=t,this._initPullDown()},t.prototype.closePullDown=function(){this.options.pullDownRefresh=!1}}(J),function(t){t.prototype._initPullUp=function(){this.options.probeType=W,this.pullupWatching=!1,this._watchPullUp()},t.prototype._watchPullUp=function(){this.pullupWatching||(this.pullupWatching=!0,this.on("scroll",this._checkToEnd))},t.prototype._checkToEnd=function(t){var e=this,n=this.options.pullUpLoad.threshold,i=void 0===n?0:n;this.movingDirectionY===V&&t.y<=this.maxScrollY+i&&(this.once("scrollEnd",function(){e.pullupWatching=!1}),this.trigger("pullingUp"),this.off("scroll",this._checkToEnd))},t.prototype.finishPullUp=function(){var t=this;this.pullupWatching?this.once("scrollEnd",function(){t._watchPullUp()}):this._watchPullUp()},t.prototype.openPullUp=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.pullUpLoad=t,this._initPullUp()},t.prototype.closePullUp=function(){this.options.pullUpLoad=!1,this.pullupWatching&&(this.pullupWatching=!1,this.off("scroll",this._checkToEnd))}}(J),function(t){t.prototype._initMouseWheel=function(){var t=this;this._handleMouseWheelEvent(y),this.on("destroy",function(){clearTimeout(t.mouseWheelTimer),clearTimeout(t.mouseWheelEndTimer),t._handleMouseWheelEvent(g)}),this.firstWheelOpreation=!0},t.prototype._handleMouseWheelEvent=function(t){t(this.wrapper,"wheel",this),t(this.wrapper,"mousewheel",this),t(this.wrapper,"DOMMouseScroll",this)},t.prototype._onMouseWheel=function(t){var e=this;if(this.enabled){t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.firstWheelOpreation&&this.trigger("scrollStart"),this.firstWheelOpreation=!1;var n=this.options.mouseWheel,i=n.speed,r=void 0===i?20:i,o=n.invert,a=void 0!==o&&o,s=n.easeTime,l=void 0===s?300:s;clearTimeout(this.mouseWheelTimer),this.mouseWheelTimer=setTimeout(function(){e.options.snap||l||e.trigger("scrollEnd",{x:e.x,y:e.y}),e.firstWheelOpreation=!0},400);var u=void 0,c=void 0;switch(!0){case"deltaX"in t:1===t.deltaMode?(u=-t.deltaX*r,c=-t.deltaY*r):(u=-t.deltaX,c=-t.deltaY);break;case"wheelDeltaX"in t:u=t.wheelDeltaX/120*r,c=t.wheelDeltaY/120*r;break;case"wheelDelta"in t:u=c=t.wheelDelta/120*r;break;case"detail"in t:u=c=-t.detail/3*r;break;default:return}var h=a?-1:1;u*=h,c*=h,this.hasVerticalScroll||(u=c,c=0);var f=void 0,p=void 0;if(this.options.snap)return f=this.currentPage.pageX,p=this.currentPage.pageY,u>0?f--:u<0&&f++,c>0?p--:c<0&&p++,void this._goToPage(f,p);f=this.x+Math.round(this.hasHorizontalScroll?u:0),p=this.y+Math.round(this.hasVerticalScroll?c:0),this.movingDirectionX=this.directionX=u>0?-1:u<0?1:0,this.movingDirectionY=this.directionY=c>0?-1:c<0?1:0,f>this.minScrollX?f=this.minScrollX:f<this.maxScrollX&&(f=this.maxScrollX),p>this.minScrollY?p=this.minScrollY:p<this.maxScrollY&&(p=this.maxScrollY);var d=this.y===p;this.scrollTo(f,p,l,N.swipe),this.trigger("scroll",{x:this.x,y:this.y}),clearTimeout(this.mouseWheelEndTimer),d&&(this.mouseWheelEndTimer=setTimeout(function(){e.trigger("scrollEnd",{x:e.x,y:e.y})},l))}}}(J),function(t){t.prototype._initZoom=function(){var t=this.options.zoom,e=t.start,n=void 0===e?1:e,i=t.min,r=void 0===i?1:i,o=t.max,a=void 0===o?4:o;this.scale=Math.min(Math.max(n,r),a),this.setScale(this.scale),this.scrollerStyle[k.transformOrigin]="0 0"},t.prototype._zoomTo=function(t,e,n,i){this.scaled=!0;var r=t/(i||this.scale);this.setScale(t),this.refresh();var o=Math.round(this.startX-(e-this.relativeX)*(r-1)),a=Math.round(this.startY-(n-this.relativeY)*(r-1));o>this.minScrollX?o=this.minScrollX:o<this.maxScrollX&&(o=this.maxScrollX),a>this.minScrollY?a=this.minScrollY:a<this.maxScrollY&&(a=this.maxScrollY),this.x===o&&this.y===a||this.scrollTo(o,a,this.options.bounceTime),this.scaled=!1},t.prototype.zoomTo=function(t,e,n){var i=_(this.wrapper),r=i.left,o=i.top,a=e+r-this.x,s=n+o-this.y;this._zoomTo(t,a,s)},t.prototype._zoomStart=function(t){var e=t.touches[0],n=t.touches[1],i=Math.abs(e.pageX-n.pageX),r=Math.abs(e.pageY-n.pageY);this.startDistance=f(i,r),this.startScale=this.scale;var o=_(this.wrapper),a=o.left,s=o.top;this.originX=Math.abs(e.pageX+n.pageX)/2+a-this.x,this.originY=Math.abs(e.pageY+n.pageY)/2+s-this.y,this.trigger("zoomStart")},t.prototype._zoom=function(t){if(this.enabled&&!this.destroyed&&E[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e=t.touches[0],n=t.touches[1],i=f(Math.abs(e.pageX-n.pageX),Math.abs(e.pageY-n.pageY))/this.startDistance*this.startScale;this.scaled=!0;var r=this.options.zoom,o=r.min,a=void 0===o?1:o,s=r.max,l=void 0===s?4:s;i<a?i=.5*a*Math.pow(2,i/a):i>l&&(i=2*l*Math.pow(.5,l/i));var u=i/this.startScale,c=this.startX-(this.originX-this.relativeX)*(u-1),h=this.startY-(this.originY-this.relativeY)*(u-1);this.setScale(i),this.scrollTo(c,h,0)}},t.prototype._zoomEnd=function(t){if(this.enabled&&!this.destroyed&&E[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.isInTransition=!1,this.isAnimating=!1,this.initiated=0;var e=this.options.zoom,n=e.min,i=void 0===n?1:n,r=e.max,o=void 0===r?4:r,a=this.scale>o?o:this.scale<i?i:this.scale;this._zoomTo(a,this.originX,this.originY,this.startScale),this.trigger("zoomEnd")}}}(J),function(t){t.prototype._initInfinite=function(){this.options.probeType=3,this.maxScrollY=-Q,this.infiniteScroller=new K(this,this.options.infinity)}}(J),J.Version="1.13.2",e.default=J},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Move=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));e.Move=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e.map,this.pixelPadding_=void 0!==e.meterMinSize?50:e.pixelPadding,this.meterMinSize_=void 0!==e.meterMinSize?e.meterMinSize:500,this.animationDuration_=e.animationDuration||2e3,this.animations_=void 0===e.animations||e.animations,this.bouncing_=!1!==e.bouncing}return i(t,[{key:"setAnimations",value:function(t){this.animations_=t}},{key:"getAnimations",value:function(){return this.animations_}},{key:"toPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new r.default.View({projection:this.map_.getView().getProjection(),center:t,resolution:this.map_.getView().getResolution()}).calculateExtent(this.map_.getSize().map(function(t){return t-2}));e.padding=[0,0,0,0],this.toExtent(n,e)}},{key:"toExtent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;this.meterMinSize_&&(n=this.bufferUpToMinSize_(t)),(void 0===e.animated?this.animations_:e.animated)?this.animationZoomToExtent_(n,e):this.fit_(n,e)}},{key:"zoomToPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.toExtent(r.default.extent.boundingExtent([t]),e)}},{key:"bufferUpToMinSize_",value:function(t){var e=r.default.proj.transformExtent(t,this.map_.getView().getProjection(),"EPSG:3857"),n=Math.min(r.default.extent.getWidth(e),r.default.extent.getHeight(e));return n<this.meterMinSize_?(e=r.default.extent.buffer(e,this.meterMinSize_-n/2),r.default.proj.transformExtent(e,"EPSG:3857",this.map_.getView().getProjection())):t}},{key:"fit_",value:function(t,e){"default"===e.padding&&(e.padding=[this.pixelPadding_,this.pixelPadding_,this.pixelPadding_,this.pixelPadding_]),this.map_.getView().fit(r.default.geom.Polygon.fromExtent(t),this.map_.getSize(),e)}},{key:"animationZoomToExtent_",value:function(t,e){var n=this,i=this.map_,o=i.getView(),a=i.getSize(),s=o.calculateExtent(a),l=r.default.extent.extend(s.slice(0),t);if(this.bouncing_&&!r.default.extent.intersects(s,t)){var u=Object.assign({duration:this.animationDuration_/2},e);o.fit(l,u),setTimeout(function(){var i=Object.assign({duration:n.animationDuration_/2},e);o.fit(t,i)},this.animationDuration_/2)}else{var c=Object.assign({duration:this.animationDuration_/2},e);o.fit(t,c)}}},{key:"earlyFastRiseEasing_",value:function(t){return Math.sqrt(2*t-Math.pow(t,2))}},{key:"lateFastRiseEasing_",value:function(t){return 1-Math.sqrt(1-Math.pow(t,2))}},{key:"earlyFastRiseEasing2_",value:function(t){return 1-Math.pow(t-1,2)}},{key:"lateFastRiseEasing2_",value:function(t){return Math.pow(t,2)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Positioning=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=u(n(1)),o=u(n(217)),a=n(8),s=n(3),l=n(39);function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.Positioning=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.$viewport_=(0,r.default)(t.viewport),n.padding_=t.padding||5,n.spacing_=t.spacing||10,n.hidden$Elements_=[],n.init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixinAsClass)(l.ListenerOrganizerMixin)),i(e,[{key:"init",value:function(){this.detachAllListeners(),this.all_=[],this.corners_={left:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}},right:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}}},this.order_=0}},{key:"getArray_",value:function(t){var e=void 0,n=void 0,i=void 0;switch(t[0]){case"top":n="top","left"===(e=t[1])?i="clockwise":"right"===e&&(i="counterclockwise");break;case"right":e="right","top"===(n=t[1])?i="clockwise":"bottom"===n&&(i="counterclockwise");break;case"bottom":n="bottom",i="left"===(e=t[1])?"counterclockwise":"clockwise";break;case"left":e="left",i="top"===(n=t[1])?"counterclockwise":"clockwise"}return this.corners_[e][n][i]}},{key:"addControl",value:function(t,e){var n=this;if(t.get$Element().parents().hasClass("ol-viewport")&&(!e||!e.control.isWindowed())){var i={control:t,order:this.order_++,importance:t.getImportance()};if(t.on("change:visible",function(e){var i=n.hidden$Elements_.indexOf(t.get$Element());e.oldValue&&i>-1&&n.hidden$Elements_.splice(i,1),n.positionElements()}),this.listenAt(t).on("change:size",function(){n.positionElements()}),e)e.control.isWindowed()||(i.importance=t.getImportance(),e.hideableChildren.push(i),this.all_.push(i));else{if(i.float=i.control.getFloat()||["top","left"],"fixed"===i.float)return;if(this.getArray_(i.float).push(i),this.all_.push(i),i.control.getControls){i.hideableChildren=[];var r=!0,o=!1,a=void 0;try{for(var s,l=i.control.getControls()[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;this.addControl(u,i)}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}}}}},{key:"getCorner_",value:function(t,n){for(var i=0,r=0,o=this.corners_[t][n].clockwise[i++],a=this.corners_[t][n].counterclockwise[r++];o&&!e.isElemVisible_(o);)o=this.corners_[t][n].clockwise[i++];for(;a&&!e.isElemVisible_(a);)a=this.corners_[t][n].counterclockwise[r++];if(o||a)return o?a?o.order<a.order?o:a:o:a}},{key:"getEdge_",value:function(t){var n=void 0,i=void 0,r=void 0,a=void 0;"top"===t?(n="left",i="right",r=a="top"):"right"===t?(n=i="right",r="top",a="bottom"):"bottom"===t?(n="right",i="left",r=a="bottom"):"left"===t&&(n=i="left",r="bottom",a="top");var s=this.corners_[n][r].clockwise.filter(e.isElemVisible_),l=this.corners_[i][a].counterclockwise.filter(e.isElemVisible_),u=[],c=this.getCorner_(n,r);return c&&u.push(c),u.push.apply(u,h(s)),u.push.apply(u,h(l)),(c=this.getCorner_(i,a))&&u.push(c),(0,o.default)(u)}},{key:"beforePositioning_",value:function(){var t=this,n=new Set(this.all_);this.hidden$Elements_.forEach(function(t){return t.removeClass(a.cssClasses.hidden)}),this.hidden$Elements_=[];var i=function i(r){if(e.isElemVisible_(r)){if(r.control.beforePositioning&&r.control.beforePositioning(),r.hideableChildren){var o=!0,a=!1,s=void 0;try{for(var l,u=r.hideableChildren[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){i(l.value)}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}}r.control.get$Element().position({top:0,left:0}),r.control.release&&(r.control.release("height"),r.control.release("width")),r.size=t.measureExpandedElement_(r)}n.delete(r)},r=!0,o=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){i(l.value)}}catch(t){o=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}}},{key:"afterPositioning_",value:function(){var t=new Set(this.all_),e=function e(n){if(n.control.afterPositioning&&n.control.afterPositioning(),n.hideableChildren){var i=!0,r=!1,o=void 0;try{for(var a,s=n.hideableChildren[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){e(a.value)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}t.delete(n)},n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){e(o.value)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}},{key:"calculateLength_",value:function(t,e){if(0===t.length)return 0;var n=2*this.padding_,i=!0,r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){n+=s.value.size[e],i?i=!1:n+=this.spacing_}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}},{key:"calculateSide_",value:function(t,e){for(var n="top"===t||"bottom"===t?"width":"height",i=this.getEdge_(t),r=this.calculateLength_(i,n),o=!1;r>e&&!this.squeezeElements_(i,n,r-e);)this.hideLeastImportant_(i),i=this.getEdge_(t),r=this.calculateLength_(i,n),o=!0;return o}},{key:"positionElementsCorner_",value:function(t,n){var i=this.getCorner_(t,n);if(i){var r,o=this.padding_,s=this.padding_,l=i.control.get$Element();l.removeClass(a.cssClasses.hidden).css((c(r={},t,o),c(r,n,s),r)),o+=l.outerWidth()+this.spacing_,s+=l.outerHeight()+this.spacing_;var u=void 0,h=void 0;"left"===t&&"top"===n?(u="clockwise",h="counterclockwise"):"right"===t&&"top"===n?(u="counterclockwise",h="clockwise"):"right"===t&&"bottom"===n?(u="clockwise",h="counterclockwise"):"left"===t&&"bottom"===n&&(u="counterclockwise",h="clockwise");var f=!0,p=!1,d=void 0;try{for(var v,y=this.corners_[t][n][u].filter(function(t){return e.isElemVisible_(t)&&t!==i})[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var g;(l=v.value.control.get$Element()).css((c(g={},t,o),c(g,n,this.padding_),g)),o+=l.outerWidth()+this.spacing_}}catch(t){p=!0,d=t}finally{try{!f&&y.return&&y.return()}finally{if(p)throw d}}var m=!0,_=!1,b=void 0;try{for(var w,M=this.corners_[t][n][h].filter(function(t){return e.isElemVisible_(t)&&t!==i})[Symbol.iterator]();!(m=(w=M.next()).done);m=!0){var x;(l=w.value.control.get$Element()).css((c(x={},t,this.padding_),c(x,n,s),x)),s+=l.outerHeight()+this.spacing_}}catch(t){_=!0,b=t}finally{try{!m&&M.return&&M.return()}finally{if(_)throw b}}}}},{key:"positionElements",value:function(){var t=this.$viewport_.innerWidth(),e=this.$viewport_.innerHeight();this.beforePositioning_();for(var n=new Set(["top","left","bottom","right"]);n.size;)n.has("top")&&(this.calculateSide_("top",t)&&(n.add("left"),n.add("right")),n.delete("top")),n.has("right")&&(this.calculateSide_("right",e)&&(n.add("top"),n.add("bottom")),n.delete("right")),n.has("bottom")&&(this.calculateSide_("bottom",t)&&(n.add("left"),n.add("right")),n.delete("bottom")),n.has("left")&&(this.calculateSide_("left",e)&&(n.add("top"),n.add("bottom")),n.delete("left"));this.positionElementsCorner_("left","top"),this.positionElementsCorner_("right","top"),this.positionElementsCorner_("right","bottom"),this.positionElementsCorner_("left","bottom"),this.afterPositioning_()}},{key:"squeezeElements_",value:function(t,e,n){var i=[];function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length;if(n===e)i.splice(e,0,t);else{var o=Math.floor((e+n)/2);t.importance<=i[o].importance?r(t,e,o):r(t,o+1,n)}}!function t(n){var i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;u.control.isSqueezable&&u.control.isSqueezable(e)&&r(u),u.hideableChildren&&t(u.hideableChildren)}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}(t);var o=!0,a=!1,s=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){if((n-=l.value.control.squeezeBy(e,n))<=0)return!0}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}var c=!0,h=!1,f=void 0;try{for(var p,d=i[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){p.value.control.release(e)}}catch(t){h=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(h)throw f}}return!1}},{key:"expandElement_",value:function(t){var e=[];if(t.hideableChildren){var n=!0,i=!1,r=void 0;try{for(var o,a=t.hideableChildren[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.push.apply(e,h(this.expandElement_(s)))}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}return t.control.getCollapsible&&t.control.getCollapsible()&&t.control.getCollapsed()&&(t.control.setCollapsed(!1,!0),e.push(t.control)),e}},{key:"measureExpandedElement_",value:function(t){var e=t.control.get$Element();return{width:e.outerWidth(),height:e.outerHeight()}}},{key:"hideLeastImportant_",value:function(t){var n=t[0],i=!0,r=!1,o=void 0;try{for(var s,l=t.slice(1)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;u.importance<n.importance&&(n=u)}}catch(t){r=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}var c=!1;if(n.hideableChildren){var h=n.hideableChildren.filter(e.isElemVisible_);h.length>1&&(this.hideLeastImportant_(h),c=!0)}c?n.size=this.measureExpandedElement_(n):(n.control.get$Element().addClass(a.cssClasses.hidden),this.hidden$Elements_.push(n.control.get$Element()))}}],[{key:"isElemVisible_",value:function(t){return t.control.get$Element().is(":visible")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIConfigurator=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=S(n(2)),a=S(n(1)),s=n(365),l=n(364),u=n(197),c=n(362),h=n(361),f=n(360),p=n(13),d=n(41),v=n(3),y=n(194),g=n(192),m=n(8),_=n(339),b=n(270),w=n(338),M=n(336),x=n(213);function S(t){return t&&t.__esModule?t:{default:t}}e.UIConfigurator=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.map_.on("change:mapConfig",this.configureUI.bind(this)),this.initialized_=!1,this.pending_=0}return r(t,[{key:"loadCSS",value:function(e){var n=this;return new Promise(function(i){if(e.hasOwnProperty("cssFile")){var r="g4u-css",o=(0,a.default)("#"+r);0===o.length&&(o=(0,a.default)("<style>",{id:r}),(0,a.default)("head").append(o)),n.cssFile_===e.cssFile?(e.hasOwnProperty("cssTemplate")&&o.html(t.templateCSS(n.map_.get("cssTemplateFile"),e.cssTemplate)),i()):(a.default.ajax(e.cssFile).done(function(r){o.empty(),r=t.fixUrls(r,e.cssFile),e.hasOwnProperty("cssTemplate")?(n.map_.set("cssTemplateFile",r),o.html(t.templateCSS(r,e.cssTemplate))):o.html(r),i()}).fail(function(){p.Debug.error("Failed to load css file."),i()}),n.cssFile_=e.cssFile)}else i()})}},{key:"initialize_",value:function(t){var e=this,n=t.positioning||{};n.viewport=this.map_.getViewport(),this.map_.set("controlPositioning",new s.Positioning(n));var i=(0,x.debounce)(function(){return e.map_.get("controlPositioning").positionElements()});this.map_.on("ready",i),this.map_.asSoonAs("ready",!0,function(){e.map_.on("resize",i),e.map_.on("ready:ui",function(){e.map_.get("ready:ui")&&i()}),e.map_.on("change:mobile",i),e.map_.on("ready:layers",function(){i(),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(i,200)})}),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(i,200)})}),this.map_.set("mobile",!1),(0,a.default)(this.map_.getTarget()).children().addClass(m.cssClasses.desktop),this.map_.set("scaleIcons",t.scaleIcons);var r=this.getHandleMobileChange_();this.map_.on("change:mobile",r),this.map_.once("ready",function(){e.map_.set("desktopLayout",{animations:e.map_.get("move").getAnimations(),scaleIcons:e.map_.get("scaleIcons"),hitTolerance:e.map_.get("hitTolerance")}),r()});var o=function(){var t=e.map_.get("mobileLayout");t&&t.mediaQueries&&window.matchMedia&&e.map_.set("mobile",t.mediaQueries.some(function(t){return window.matchMedia(t).matches}))},l=void 0,u=function(){e.map_.get("responsive")!==l&&(e.map_.get("responsive")?(o(),e.map_.on("resize",o)):e.map_.un("resize",o),l=e.map_.get("responsive"))};this.map_.once("ready",u),this.map_.on("change:responsive",u),this.map_.on("ready:ui",u),this.initialized_=!0}},{key:"applyLayout",value:function(t){t.hasOwnProperty("animations")&&this.map_.get("move").setAnimations(t.animations),t.hasOwnProperty("scaleIcons")&&(this.map_.set("scaleIcons",t.scaleIcons),this.map_.get("styling").setGlobalIconScale(t.scaleIcons),this.map_.getLayerGroup().recursiveForEach(function(t){t.getVisible()&&t.changed()})),t.hasOwnProperty("hitTolerance")&&this.map_.set("hitTolerance",t.hitTolerance);var e=this.map_.get("featurePopup"),n=this.map_.get("showWMSFeatureInfo"),i=n&&n.getPointVisible();e&&e.getVisible()&&(e.setVisible(!1),setTimeout(function(){e.setVisible(!0),i&&n.setPointVisible(!0)},0))}},{key:"getHandleMobileChange_",value:function(){var t=this;return this.handleMobileChange__||(this.handleMobileChange__=function(){t.map_.get("mobile")?((0,a.default)(t.map_.getTarget()).children().addClass(m.cssClasses.mobile),(0,a.default)(t.map_.getTarget()).children().removeClass(m.cssClasses.desktop),t.applyLayout(t.map_.get("mobileLayout"))):((0,a.default)(t.map_.getTarget()).children().addClass(m.cssClasses.desktop),(0,a.default)(t.map_.getTarget()).children().removeClass(m.cssClasses.mobile),t.applyLayout(t.map_.get("desktopLayout")))}),this.handleMobileChange__}},{key:"configureUI",value:function(){var t=this;this.map_.set("ready:ui",!1),this.pending_++;var e=(0,d.copyDeep)(this.map_.get("mapConfig"));this.initialized_||this.initialize_(e),this.map_.get("history")&&this.map_.get("history").flush();var n=void 0;this.loadCSS(e).then(function(){if(t.pending_--,0===t.pending_){t.map_.removeControls(),t.map_.controlsByName={},t.map_.removeInteractions(),t.map_.get("controlPositioning").init();var r=(0,d.copyDeep)((0,v.getConfig)(e,"move"))||{};r.map=t.map_,t.map_.set("move",new l.Move(r)),t.map_.get("shield")||t.map_.set("shield",new h.Shield({map:t.map_})),t.map_.set("mobileLayout",e.mobileLayout),t.map_.set("responsive",t.map_.get("responsive")||!!t.map_.get("mobileLayout"));var s=!0,p=!1,m=void 0;try{for(var b,x=t.map_.getModules()[Symbol.iterator]();!(s=(b=x.next()).done);s=!0){b.value.configureUI(e)}}catch(t){p=!0,m=t}finally{try{!s&&x.return&&x.return()}finally{if(p)throw m}}t.controlFactory?t.controlFactory.setLocaliser(t.map_.get("localiser")):t.controlFactory=new f.ControlFactory({map:t.map_,localiser:t.map_.get("localiser")}),t.controlFactory.addControls();var S=function t(e){e.setActive&&e.setActive(!1),e.getControls&&e.getControls().forEach(t)};if(t.map_.on("change:mobile",function(){return t.map_.getControls().forEach(S)}),(0,v.checkFor)(e,"interactions")){if((0,v.checkFor)(e.interactions,"doubleClickZoom")&&t.map_.addDefaultInteraction("dblclick",new o.default.interaction.DoubleClickZoom),(0,v.checkFor)(e.interactions,"dragPan"))if(!1!==e.kinetic){var P=-.002,O=.02,k=100;"object"===i(e.kinetic)&&(P=e.kinetic.decay||P,O=e.kinetic.minVelocity||O,k=e.kinetic.delay||k),t.map_.addDefaultInteraction("drag",new o.default.interaction.DragPan({kinetic:new o.default.Kinetic(P,O,k)}))}else t.map_.addDefaultInteraction("drag",new o.default.interaction.DragPan);(0,v.checkFor)(e.interactions,"dragRotate")&&t.map_.addDefaultInteraction("altShiftDrag",new o.default.interaction.DragRotate),(0,v.checkFor)(e.interactions,"dragZoom")&&t.map_.addDefaultInteraction("shiftDrag",new o.default.interaction.DragZoom),(0,v.checkFor)(e.interactions,"keyboardPan")&&t.map_.addDefaultInteraction("keyboard",new o.default.interaction.KeyboardPan),(0,v.checkFor)(e.interactions,"keyboardZoom")&&t.map_.addDefaultInteraction("keyboard",new o.default.interaction.KeyboardZoom),(0,v.checkFor)(e.interactions,"mouseWheelZoom")&&t.map_.addDefaultInteraction("mouseWheel",new o.default.interaction.MouseWheelZoom),(0,v.checkFor)(e.interactions,"pinchRotate")&&t.map_.addDefaultInteraction("pinchRotate",new o.default.interaction.PinchRotate),(0,v.checkFor)(e.interactions,"pinchZoom")&&t.map_.addDefaultInteraction("pinchZoom",new o.default.interaction.PinchZoom)}t.map_.addDefaultInteraction("singleclick",new _.FeatureSelect({condition:function(t){return o.default.events.condition.singleClick(t)&&(0,a.default)(t.originalEvent.target).is("canvas")},style:null,multi:!0}));var C=new _.FeatureSelect({condition:function(t){return o.default.events.condition.pointerMove(t)&&(0,a.default)(t.originalEvent.target).is("canvas")},style:null,multi:!0});t.map_.addDefaultInteraction("pointermove",C),(0,a.default)(t.map_.getViewport()).find("canvas").on("mouseleave",function(t){(0,a.default)(t.relatedTarget).is("canvas")||C.getFeatures().getLength()>0&&C.deselect(C.getFeatures().getArray())});var E=function(){var e=t.map_.get("hitTolerance"),n=!0,i=!1,r=void 0;try{for(var o,a=t.map_.getInteractions().getArray()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.setHitTolerance&&s.setHitTolerance(e)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}};t.map_.set("hitTolerance",e.hitTolerance||0),E(),t.map_.on("change:hitTolerance",E);var L=t.map_.get("featurePopup");L&&L.setMap(null),(n=(0,v.getConfig)(e,"featurePopup"))?((L=new u.FeaturePopup(n)).setMap(t.map_),t.map_.set("featurePopup",L)):t.map_.set("featurePopup",void 0);var A=t.map_.get("featureTooltip");A&&A.setMap(null),(n=(0,v.getConfig)(e,"featureTooltip"))?((A=new c.FeatureTooltip(n)).setMap(t.map_),t.map_.set("featureTooltip",A)):t.map_.set("featureTooltip",void 0);var j=t.map_.get("showWMSFeatureInfo");if(j&&j.setMap(null),(n=(0,v.getConfig)(e,"showWMSFeatureInfo"))?((j=new w.ShowWMSFeatureInfo(n)).setMap(t.map_),t.map_.set("showWMSFeatureInfo",j)):t.map_.set("showWMSFeatureInfo",void 0),t.map_.set("history",new M.History),t.map_.get("userActionTracking")){var T=t.map_;t.map_.on("moveend",function(){T.dispatchEvent({type:"userActionTracking",action:"move"})}),t.map_.get("baseLayers").getLayers().forEach(function(t){t.on("change:visible",function(){t.getVisible()&&T.dispatchEvent({type:"userActionTracking",action:"baseLayerChange",value:t.get("title")})})}),t.map_.get("featureLayers").recursiveForEach(function(t){t.on("change:visible",function(){t.getVisible()&&T.dispatchEvent({type:"userActionTracking",action:"featureLayerChange",value:t.get("title")})})}),t.map_.get("featurePopup")&&t.map_.get("featurePopup").on("change:visible",function(){this.getVisible()&&T.dispatchEvent({type:"userActionTracking",action:"popupOpen",value:this.getFeature().get("name")})});var I=!0,N=!1,F=void 0;try{for(var D,R=t.map_.getModules()[Symbol.iterator]();!(I=(D=R.next()).done);I=!0){D.value.enableUserActionTracking()}}catch(t){N=!0,F=t}finally{try{!I&&R.return&&R.return()}finally{if(N)throw F}}t.map_.getControls().forEach(function(t){t instanceof g.PrintButton&&t.on("click",function(){T.dispatchEvent({type:"userActionTracking",action:"print"})}),t instanceof y.MeasurementButton&&("LineString"===t.getType()?t.on("measurement",function(){T.dispatchEvent({type:"userActionTracking",action:"measureLine"})}):"Polygon"===t.getType()&&t.on("measurement",function(){T.dispatchEvent({type:"userActionTracking",action:"measureArea"})}))})}t.map_.set("ready:ui",!0)}}).catch(function(t){p.Debug.error(t)})}}],[{key:"templateCSS",value:function(t,e){return e=e.map(b.parseCSSColor),t.replace(/(rgba?\([^)]*\))|(#[0-9a-f]{6})/g,function(t){var n=(0,b.parseCSSColor)(t),i=function(t){for(var e=0,n=-1,i=0;i<3;i++)0!==t[i]&&(e++,n=i);return e>1?-1:n}(n);if(i>-1){var r=n[3],o=n[i]/120,a=[e[i][0]*o,e[i][1]*o,e[i][2]*o,e[i][3]*r];return"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}return t})}},{key:"fixUrls",value:function(t,e){var n=(0,v.urlDirname)(e);return t.replace(/url\("([^"]*)"\)/g,function(t,e){return'url("'+(0,v.urlJoin)(n,e)+'")'})}}]),t}()},function(t,e,n){var i=n(151),r=n(198);t.exports=function(t,e){return r(i(e),t)}},function(t,e,n){var i=n(212);t.exports=function(t){return i(t,1)}},function(t,e,n){var i=n(200),r=n(40),o="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return r(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e,n){var i=n(33);t.exports=function(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:i(t,e,n)}},function(t,e,n){var i=n(51),r=n(108),o=n(9),a=n(370),s=n(14),l="Expected a function",u=Math.max;t.exports=function(t,e){if("function"!=typeof t)throw new TypeError(l);return e=null==e?0:u(s(e),0),o(function(n){var o=n[e],s=a(n,0,e);return o&&r(s,o),i(t,this,s)})}},function(t,e,n){var i=n(9),r=n(14),o="Expected a function";t.exports=function(t,e){if("function"!=typeof t)throw new TypeError(o);return e=void 0===e?e:r(e),i(t,e)}},function(t,e,n){var i=n(47),r=n(220)(function(t,e){return i(t,256,void 0,void 0,void 0,e)});t.exports=r},function(t,e,n){var i=n(9),r=n(47),o=n(80),a=n(58),s=i(function(t,e){var n=a(e,o(s));return r(t,64,void 0,e,n)});s.placeholder={},t.exports=s},function(t,e,n){var i=n(9);t.exports=i},function(t,e,n){var i=n(51),r=n(22),o=n(20),a=n(10),s=n(9),l=n(82),u=n(375),c=n(11),h=Math.min,f=u(function(t,e){var n=(e=1==e.length&&c(e[0])?r(e[0],l(a)):r(o(e,1),l(a))).length;return s(function(r){for(var o=-1,a=h(r.length,n);++o<a;)r[o]=e[o].call(this,r[o]);return i(t,this,r)})});t.exports=f},function(t,e,n){var i=n(201);t.exports=function(t){return i(2,t)}},function(t,e,n){var i=n(47),r=512;t.exports=function(t){return i(t,r)}},function(t,e,n){var i=n(199),r=n(9),o=n(150),a=r(function(t,e,n){return i(t,o(e)||0,n)});t.exports=a},function(t,e,n){var i=n(199),r=n(9)(function(t,e){return i(t,1,e)});t.exports=r},function(t,e,n){var i=n(23);t.exports=function(){return i.Date.now()}},function(t,e,n){var i=n(47),r=16;function o(t,e,n){var a=i(t,r,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return a.placeholder=o.placeholder,a}o.placeholder={},t.exports=o},function(t,e,n){var i=n(47),r=8;function o(t,e,n){var a=i(t,r,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return a.placeholder=o.placeholder,a}o.placeholder={},t.exports=o},function(t,e,n){var i=n(9),r=n(47),o=n(80),a=n(58),s=i(function(t,e,n){var i=3;if(n.length){var l=a(n,o(s));i|=32}return r(e,i,t,n,l)});s.placeholder={},t.exports=s},function(t,e,n){var i=n(9),r=n(47),o=n(80),a=n(58),s=i(function(t,e,n){var i=1;if(n.length){var l=a(n,o(s));i|=32}return r(t,i,e,n,l)});s.placeholder={},t.exports=s},function(t,e,n){var i=n(208),r=n(207),o=n(58),a="__lodash_placeholder__",s=1,l=2,u=4,c=8,h=128,f=256,p=Math.min;t.exports=function(t,e){var n=t[1],d=e[1],v=n|d,y=v<(s|l|h),g=d==h&&n==c||d==h&&n==f&&t[7].length<=e[8]||d==(h|f)&&e[7].length<=e[8]&&n==c;if(!y&&!g)return t;d&s&&(t[2]=e[2],v|=n&s?0:u);var m=e[3];if(m){var _=t[3];t[3]=_?i(_,m,e[4]):m,t[4]=_?o(t[3],a):e[4]}return(m=e[5])&&(_=t[5],t[5]=_?r(_,m,e[6]):m,t[6]=_?o(t[5],a):e[6]),(m=e[7])&&(t[7]=m),d&h&&(t[8]=null==t[8]?e[8]:p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=v,t}},function(t,e,n){var i=n(51),r=n(99),o=n(23),a=1;t.exports=function(t,e,n,s){var l=e&a,u=r(t);return function e(){for(var r=-1,a=arguments.length,c=-1,h=s.length,f=Array(h+a),p=this&&this!==o&&this instanceof e?u:t;++c<h;)f[c]=s[c];for(;a--;)f[c++]=arguments[++r];return i(p,l?n:this,f)}}},function(t,e,n){var i=n(81),r=n(52),o=Math.min;t.exports=function(t,e){for(var n=t.length,a=o(e.length,n),s=i(t);a--;){var l=e[a];t[a]=r(l,n)?s[l]:void 0}return t}},function(t,e,n){var i=n(243),r=n(102),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return i(o,function(n){var i="_."+n[0];e&n[1]&&!r(t,i)&&t.push(i)}),t.sort()}},function(t,e){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var i=e.length;if(!i)return t;var r=i-1;return e[r]=(i>1?"& ":"")+e[r],e=e.join(i>2?", ":" "),t.replace(n,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;t.exports=function(t){var e=t.match(n);return e?e[1].split(i):[]}},function(t,e,n){var i=n(138),r=n(204),o=n(81);t.exports=function(t){if(t instanceof i)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e,n){var i=n(138),r=n(204),o=n(137),a=n(11),s=n(53),l=n(392),u=Object.prototype.hasOwnProperty;function c(t){if(s(t)&&!a(t)&&!(t instanceof i)){if(t instanceof r)return t;if(u.call(t,"__wrapped__"))return l(t)}return new r(t)}c.prototype=o.prototype,c.prototype.constructor=c,t.exports=c},function(t,e){t.exports={}},function(t,e,n){var i=n(394),r=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",n=i[e],o=r.call(i,e)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==t)return a.name}return e}},function(t,e,n){var i=n(138),r=n(205),o=n(395),a=n(393);t.exports=function(t){var e=o(t),n=a[e];if("function"!=typeof n||!(e in i.prototype))return!1;if(t===n)return!0;var s=r(n);return!!s&&t===s[0]}},function(t,e){t.exports=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}},function(t,e,n){var i=n(51),r=n(99),o=n(209),a=n(206),s=n(80),l=n(58),u=n(23);t.exports=function(t,e,n){var c=r(t);return function r(){for(var h=arguments.length,f=Array(h),p=h,d=s(r);p--;)f[p]=arguments[p];var v=h<3&&f[0]!==d&&f[h-1]!==d?[]:l(f,d);return(h-=v.length)<n?a(t,e,o,r.placeholder,void 0,f,v,void 0,void 0,n-h):i(this&&this!==u&&this instanceof r?c:t,this,f)}}},function(t,e,n){var i=n(99),r=n(23),o=1;t.exports=function(t,e,n){var a=e&o,s=i(t);return function e(){return(this&&this!==r&&this instanceof e?s:t).apply(a?n:this,arguments)}}},function(t,e,n){var i=n(14),r="Expected a function";t.exports=function(t,e){if("function"!=typeof e)throw new TypeError(r);return t=i(t),function(){if(--t<1)return e.apply(this,arguments)}}},function(t,e,n){var i=n(9),r=n(216),o=i(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,r(t,n)});t.exports=o},function(t,e,n){var i=n(215),r=n(91),o=n(52),a=n(40),s=n(62);t.exports=function(t,e,n,l){if(!a(t))return t;for(var u=-1,c=(e=r(e,t)).length,h=c-1,f=t;null!=f&&++u<c;){var p=s(e[u]),d=n;if(u!=h){var v=f[p];void 0===(d=l?l(v,p,f):void 0)&&(d=a(v)?v:o(e[u+1])?[]:{})}i(f,p,d),f=f[p]}return t}},function(t,e,n){var i=n(402),r=n(214);t.exports=function(t,e){return r(t||[],e||[],i)}},function(t,e,n){var i=n(215),r=n(214);t.exports=function(t,e){return r(t||[],e||[],i)}},function(t,e,n){var i=n(9)(n(141));t.exports=i},function(t,e,n){var i=n(64),r=n(9),o=n(140),a=n(27),s=n(34),l=r(function(t){var e=s(t);return e="function"==typeof e?e:void 0,o(i(t,a),void 0,e)});t.exports=l},function(t,e,n){var i=n(64),r=n(10),o=n(9),a=n(140),s=n(27),l=n(34),u=o(function(t){var e=l(t);return s(e)&&(e=void 0),a(i(t,s),r(e,2))});t.exports=u},function(t,e,n){var i=n(64),r=n(9),o=n(140),a=n(27),s=r(function(t){return o(i(t,a))});t.exports=s},function(t,e,n){var i=n(90),r=n(9),o=n(27),a=r(function(t,e){return o(t)?i(t,e):[]});t.exports=a},function(t,e,n){var i=n(59);t.exports=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?i(t,void 0,e):[]}},function(t,e,n){var i=n(10),r=n(59);t.exports=function(t,e){return t&&t.length?r(t,i(e,2)):[]}},function(t,e,n){var i=n(20),r=n(9),o=n(59),a=n(27),s=n(34),l=r(function(t){var e=s(t);return e="function"==typeof e?e:void 0,o(i(t,1,a,!0),void 0,e)});t.exports=l},function(t,e,n){var i=n(20),r=n(10),o=n(9),a=n(59),s=n(27),l=n(34),u=o(function(t){var e=l(t);return s(e)&&(e=void 0),a(i(t,1,s,!0),r(e,2))});t.exports=u},function(t,e,n){var i=n(250),r=n(218),o=n(155),a=i&&1/o(new i([,-0]))[1]==1/0?function(t){return new i(t)}:r;t.exports=a},function(t,e,n){var i=n(20),r=n(9),o=n(59),a=n(27),s=r(function(t){return o(i(t,1,a,!0))});t.exports=s},function(t,e,n){var i=n(10),r=n(101);t.exports=function(t,e){return t&&t.length?r(t,i(e,3)):[]}},function(t,e,n){var i=n(10),r=n(101);t.exports=function(t,e){return t&&t.length?r(t,i(e,3),!1,!0):[]}},function(t,e,n){var i=n(33),r=n(14);t.exports=function(t,e,n){var o=null==t?0:t.length;return o?(e=n||void 0===e?1:r(e),i(t,(e=o-e)<0?0:e,o)):[]}},function(t,e,n){var i=n(33),r=n(14);t.exports=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:r(e),i(t,0,e<0?0:e)):[]}},function(t,e,n){var i=n(33);t.exports=function(t){var e=null==t?0:t.length;return e?i(t,1,e):[]}},function(t,e,n){var i=n(10),r=n(219);t.exports=function(t,e){return t&&t.length?r(t,i(e,2)):[]}},function(t,e,n){var i=n(219);t.exports=function(t){return t&&t.length?i(t):[]}},function(t,e,n){var i=n(100),r=n(65);t.exports=function(t,e){if(null!=t&&t.length){var n=i(t,e,!0)-1;if(r(t[n],e))return n}return-1}},function(t,e,n){var i=n(10),r=n(142);t.exports=function(t,e,n){return r(t,e,i(n,2),!0)}},function(t,e,n){var i=n(100);t.exports=function(t,e){return i(t,e,!0)}},function(t,e,n){var i=n(100),r=n(65);t.exports=function(t,e){var n=null==t?0:t.length;if(n){var o=i(t,e);if(o<n&&r(t[o],e))return o}return-1}},function(t,e,n){var i=n(10),r=n(142);t.exports=function(t,e,n){return r(t,e,i(n,2))}},function(t,e,n){var i=n(100);t.exports=function(t,e){return i(t,e)}},function(t,e,n){var i=n(33),r=n(60),o=n(14);t.exports=function(t,e,n){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&r(t,e,n)?(e=0,n=a):(e=null==e?0:o(e),n=void 0===n?a:o(n)),i(t,e,n)):[]}},function(t,e){var n=Array.prototype.reverse;t.exports=function(t){return null==t?t:n.call(t)}},function(t,e,n){var i=n(10),r=n(221);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var o=-1,a=[],s=t.length;for(e=i(e,3);++o<s;){var l=t[o];e(l,o,t)&&(n.push(l),a.push(o))}return r(t,a),n}},function(t,e,n){var i=n(91),r=n(34),o=n(233),a=n(62);t.exports=function(t,e){return e=i(e,t),null==(t=o(t,e))||delete t[a(r(e))]}},function(t,e,n){var i=n(246);t.exports=function(t,e){for(var n=-1,r=e.length,o=Array(r),a=null==t;++n<r;)o[n]=a?void 0:i(t,e[n]);return o}},function(t,e,n){var i=n(22),r=n(433),o=n(221),a=n(229),s=n(220),l=n(52),u=s(function(t,e){var n=null==t?0:t.length,s=r(t,e);return o(t,i(e,function(t){return l(t,n)?+t:t}).sort(a)),s});t.exports=u},function(t,e,n){var i=n(143);t.exports=function(t,e,n){return t&&t.length&&e&&e.length?i(t,e,void 0,n):t}},function(t,e,n){var i=n(10),r=n(143);t.exports=function(t,e,n){return t&&t.length&&e&&e.length?r(t,e,i(n,2)):t}},function(t,e){t.exports=function(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}},function(t,e,n){var i=n(9)(n(222));t.exports=i},function(t,e,n){var i=n(52);t.exports=function(t,e){var n=t.length;if(n)return i(e+=e<0?n:0,n)?t[e]:void 0}},function(t,e,n){var i=n(439),r=n(14);t.exports=function(t,e){return t&&t.length?i(t,r(e)):void 0}},function(t,e){t.exports=function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}},function(t,e,n){var i=n(107),r=n(235),o=n(441),a=n(14),s=Math.max,l=Math.min;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var c=u;return void 0!==n&&(c=(c=a(n))<0?s(u+c,0):l(c,u-1)),e==e?o(t,e,c):i(t,r,c,!0)}},function(t,e){var n=Array.prototype.join;t.exports=function(t,e){return null==t?"":n.call(t,e)}},function(t,e,n){var i=n(22),r=n(145),o=n(9),a=n(144),s=n(34),l=o(function(t){var e=s(t),n=i(t,a);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?r(n,void 0,e):[]});t.exports=l},function(t,e,n){var i=n(22),r=n(145),o=n(10),a=n(9),s=n(144),l=n(34),u=a(function(t){var e=l(t),n=i(t,s);return e===l(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?r(n,o(e,2)):[]});t.exports=u},function(t,e,n){var i=n(22),r=n(145),o=n(9),a=n(144),s=o(function(t){var e=i(t,a);return e.length&&e[0]===t[0]?r(e):[]});t.exports=s},function(t,e,n){var i=n(33);t.exports=function(t){return null!=t&&t.length?i(t,0,-1):[]}},function(t,e,n){var i=n(105),r=n(14),o=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var s=null==n?0:r(n);return s<0&&(s=o(a+s,0)),i(t,e,s)}},function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}},function(t,e,n){var i=n(20),r=n(14);t.exports=function(t,e){return null!=t&&t.length?(e=void 0===e?1:r(e),i(t,e)):[]}},function(t,e,n){var i=n(20),r=1/0;t.exports=function(t){return null!=t&&t.length?i(t,r):[]}},function(t,e,n){t.exports=n(223)},function(t,e,n){var i=n(148),r=n(14),o=4294967295;t.exports=function(t){return t?i(r(t),0,o):0}},function(t,e,n){var i=n(14),r=n(453);t.exports=function(t,e,n,o){var a=t.length;for((n=i(n))<0&&(n=-n>a?0:a+n),(o=void 0===o||o>a?a:i(o))<0&&(o+=a),o=n>o?0:r(o);n<o;)t[n++]=e;return t}},function(t,e,n){var i=n(454),r=n(60);t.exports=function(t,e,n,o){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&r(t,e,n)&&(n=0,o=a),i(t,e,n,o)):[]}},function(t,e,n){var i=n(10),r=n(101);t.exports=function(t,e){return t&&t.length?r(t,i(e,3),!0):[]}},function(t,e,n){var i=n(10),r=n(101);t.exports=function(t,e){return t&&t.length?r(t,i(e,3),!0,!0):[]}},function(t,e,n){var i=n(33),r=n(14);t.exports=function(t,e,n){var o=null==t?0:t.length;return o?(e=n||void 0===e?1:r(e),i(t,0,(e=o-e)<0?0:e)):[]}},function(t,e,n){var i=n(33),r=n(14);t.exports=function(t,e,n){var o=null==t?0:t.length;return o?(e=n||void 0===e?1:r(e),i(t,e<0?0:e,o)):[]}},function(t,e,n){var i=n(90),r=n(20),o=n(9),a=n(27),s=n(34),l=o(function(t,e){var n=s(e);return a(n)&&(n=void 0),a(t)?i(t,r(e,1,a,!0),void 0,n):[]});t.exports=l},function(t,e,n){var i=n(90),r=n(20),o=n(10),a=n(9),s=n(27),l=n(34),u=a(function(t,e){var n=l(e);return s(n)&&(n=void 0),s(t)?i(t,r(e,1,s,!0),o(n,2)):[]});t.exports=u},function(t,e,n){var i=n(90),r=n(20),o=n(9),a=n(27),s=o(function(t,e){return a(t)?i(t,r(e,1,a,!0)):[]});t.exports=s},function(t,e,n){var i=n(108),r=n(20),o=n(81),a=n(11);t.exports=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],s=t;s--;)e[s-1]=arguments[s];return i(a(n)?o(n):[n],r(e,1))}},function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}},function(t,e,n){var i=n(33),r=n(60),o=n(14),a=Math.ceil,s=Math.max;t.exports=function(t,e,n){e=(n?r(t,e,n):void 0===e)?1:s(o(e),0);var l=null==t?0:t.length;if(!l||e<1)return[];for(var u=0,c=0,h=Array(a(l/e));u<l;)h[c++]=i(t,u,u+=e);return h}},function(t,e,n){t.exports={chunk:n(465),compact:n(464),concat:n(463),difference:n(462),differenceBy:n(461),differenceWith:n(460),drop:n(459),dropRight:n(458),dropRightWhile:n(457),dropWhile:n(456),fill:n(455),findIndex:n(238),findLastIndex:n(237),first:n(452),flatten:n(146),flattenDeep:n(451),flattenDepth:n(450),fromPairs:n(449),head:n(223),indexOf:n(448),initial:n(447),intersection:n(446),intersectionBy:n(445),intersectionWith:n(444),join:n(443),last:n(34),lastIndexOf:n(442),nth:n(440),pull:n(438),pullAll:n(222),pullAllBy:n(436),pullAllWith:n(435),pullAt:n(434),remove:n(431),reverse:n(430),slice:n(429),sortedIndex:n(428),sortedIndexBy:n(427),sortedIndexOf:n(426),sortedLastIndex:n(425),sortedLastIndexBy:n(424),sortedLastIndexOf:n(423),sortedUniq:n(422),sortedUniqBy:n(421),tail:n(420),take:n(419),takeRight:n(418),takeRightWhile:n(417),takeWhile:n(416),union:n(415),unionBy:n(413),unionWith:n(412),uniq:n(217),uniqBy:n(411),uniqWith:n(410),unzip:n(141),unzipWith:n(216),without:n(409),xor:n(408),xorBy:n(407),xorWith:n(406),zip:n(405),zipObject:n(404),zipObjectDeep:n(403),zipWith:n(401)}},function(t,e,n){var i=n(54);t.exports=function(t,e){var n;return i(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}},function(t,e,n){var i=n(252),r=n(10),o=n(467),a=n(11),s=n(60);t.exports=function(t,e,n){var l=a(t)?i:o;return n&&s(t,e,n)&&(e=void 0),l(t,r(e,3))}},function(t,e){var n="[\\ud800-\\udfff]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+i+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[o+i+"?",i,a,s,n].join("|")+")",h=RegExp(r+"(?="+r+")|"+c+u,"g");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e,n){var i=n(152)("length");t.exports=i},function(t,e,n){var i=n(471),r=n(470),o=n(469);t.exports=function(t){return r(t)?o(t):i(t)}},function(t,e,n){var i=n(257),r=n(251),o=n(48),a=n(234),s=n(472),l="[object Map]",u="[object Set]";t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=r(t);return e==l||e==u?t.size:i(t).length}},function(t,e,n){var i=n(103),r=n(104);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(81),r=n(103);t.exports=function(t){return r(i(t))}},function(t,e,n){var i=n(475),r=n(474),o=n(11);t.exports=function(t){return(o(t)?i:r)(t)}},function(t,e,n){var i=n(148),r=n(103),o=n(104);t.exports=function(t,e){var n=o(t);return r(n,i(e,0,n.length))}},function(t,e,n){var i=n(148),r=n(81),o=n(103);t.exports=function(t,e){return o(r(t),i(e,0,t.length))}},function(t,e,n){var i=n(478),r=n(477),o=n(11),a=n(60),s=n(14);t.exports=function(t,e,n){return e=(n?a(t,e,n):void 0===e)?1:s(e),(o(t)?i:r)(t,e)}},function(t,e,n){var i=n(226),r=n(104);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(226),r=n(480),o=n(11);t.exports=function(t){return(o(t)?i:r)(t)}},function(t,e,n){var i=n(64),r=n(240),o=n(10),a=n(11),s=n(227);t.exports=function(t,e){return(a(t)?i:r)(t,s(o(e,3)))}},function(t,e){t.exports=function(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}},function(t,e,n){var i=n(483),r=n(241),o=n(10),a=n(228),s=n(11);t.exports=function(t,e,n){var l=s(t)?i:a,u=arguments.length<3;return l(t,o(e,4),n,u,r)}},function(t,e){t.exports=function(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}},function(t,e,n){var i=n(485),r=n(54),o=n(10),a=n(228),s=n(11);t.exports=function(t,e,n){var l=s(t)?i:a,u=arguments.length<3;return l(t,o(e,4),n,u,r)}},function(t,e,n){var i=n(115)(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});t.exports=i},function(t,e,n){var i=n(229);t.exports=function(t,e,n){for(var r=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++r<s;){var u=i(o[r],a[r]);if(u)return r>=l?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var i=n(230),r=n(11);t.exports=function(t,e,n,o){return null==t?[]:(r(e)||(e=null==e?[]:[e]),r(n=o?void 0:n)||(n=null==n?[]:[n]),i(t,e,n))}},function(t,e,n){var i=n(116),r=n(115)(function(t,e,n){i(t,n,e)});t.exports=r},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var i=n(492),r=n(266),o=n(61),a=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:i(e),writable:!0})}:o;t.exports=a},function(t,e,n){var i=n(51),r=n(91),o=n(34),a=n(233),s=n(62);t.exports=function(t,e,n){e=r(e,t);var l=null==(t=a(t,e))?t:t[s(o(e))];return null==l?void 0:i(l,t,n)}},function(t,e,n){var i=n(51),r=n(54),o=n(494),a=n(9),s=n(48),l=a(function(t,e,n){var a=-1,l="function"==typeof e,u=s(t)?Array(t.length):[];return r(t,function(t){u[++a]=l?i(e,t,n):o(t,e,n)}),u});t.exports=l},function(t,e,n){var i=n(22);t.exports=function(t,e){return i(e,function(e){return t[e]})}},function(t,e){t.exports=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}},function(t,e,n){var i=n(105),r=n(48),o=n(234),a=n(14),s=n(104),l=Math.max;t.exports=function(t,e,n,u){t=r(t)?t:s(t),n=n&&!u?a(n):0;var c=t.length;return n<0&&(n=l(c+n,0)),o(t)?n<=c&&t.indexOf(e,n)>-1:!!c&&i(t,e,n)>-1}},function(t,e,n){var i=n(116),r=n(115),o=Object.prototype.hasOwnProperty,a=r(function(t,e,n){o.call(t,n)?t[n].push(e):i(t,n,[e])});t.exports=a},function(t,e,n){var i=n(20),r=n(106),o=n(14);t.exports=function(t,e,n){return n=void 0===n?1:o(n),i(r(t,e),n)}},function(t,e,n){var i=n(20),r=n(106),o=1/0;t.exports=function(t,e){return i(r(t,e),o)}},function(t,e,n){var i=n(92),r=n(159),o=n(11),a=i?i.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||r(t)||!!(a&&t&&t[a])}},function(t,e,n){var i=n(20),r=n(106);t.exports=function(t,e){return i(r(t,e),1)}},function(t,e,n){var i=n(239)(n(237));t.exports=i},function(t,e,n){var i=n(150),r=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=i(t))===r||t===-r?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,n){var i=n(239)(n(238));t.exports=i},function(t,e,n){var i=n(64),r=n(240),o=n(10),a=n(11);t.exports=function(t,e){return(a(t)?i:r)(t,o(e,3))}},function(t,e,n){var i=n(54);t.exports=function(t,e){var n=!0;return i(t,function(t,i,r){return n=!!e(t,i,r)}),n}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}},function(t,e,n){var i=n(509),r=n(508),o=n(10),a=n(11),s=n(60);t.exports=function(t,e,n){var l=a(t)?i:r;return n&&s(t,e,n)&&(e=void 0),l(t,o(e,3))}},function(t,e,n){var i=n(262)(!0);t.exports=i},function(t,e,n){var i=n(511),r=n(83);t.exports=function(t,e){return t&&i(t,e,r)}},function(t,e){t.exports=function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}},function(t,e,n){t.exports=n(242)},function(t,e,n){t.exports=n(244)},function(t,e,n){var i=n(154);t.exports=function(t){return function(e){return i(e,t)}}},function(t,e,n){var i=n(152),r=n(516),o=n(153),a=n(62);t.exports=function(t){return o(t)?i(a(t)):r(t)}},function(t,e,n){var i=n(91),r=n(159),o=n(11),a=n(52),s=n(158),l=n(62);t.exports=function(t,e,n){for(var u=-1,c=(e=i(e,t)).length,h=!1;++u<c;){var f=l(e[u]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++u!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||r(t))}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var i=n(519),r=n(518);t.exports=function(t,e){return null!=t&&r(t,e,i)}},function(t,e,n){var i=n(92),r=n(22),o=n(11),a=n(63),s=1/0,l=i?i.prototype:void 0,u=l?l.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return r(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var i=n(521);t.exports=function(t){return null==t?"":i(t)}},function(t,e,n){var i=n(245),r=500;t.exports=function(t){var e=i(t,function(t){return n.size===r&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=n(523)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,i,o){e.push(i?o.replace(r,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var i=n(254),r=n(246),o=n(520),a=n(153),s=n(248),l=n(247),u=n(62),c=1,h=2;t.exports=function(t,e){return a(t)&&s(e)?l(u(t),e):function(n){var a=r(n,t);return void 0===a&&a===e?o(n,t):i(e,a,c|h)}}},function(t,e,n){var i=n(248),r=n(83);t.exports=function(t){for(var e=r(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,i(a)]}return e}},function(t,e,n){var i=n(66)(n(23),"Promise");t.exports=i},function(t,e,n){var i=n(66)(n(23),"DataView");t.exports=i},function(t,e){t.exports=function(){return[]}},function(t,e,n){var i=n(64),r=n(529),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),i(a(t),function(e){return o.call(t,e)}))}:r;t.exports=s},function(t,e,n){var i=n(108),r=n(11);t.exports=function(t,e,n){var o=e(t);return r(t)?o:i(o,n(t))}},function(t,e,n){var i=n(531),r=n(530),o=n(83);t.exports=function(t){return i(t,o,r)}},function(t,e,n){var i=n(532),r=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,l){var u=n&r,c=i(t),h=c.length;if(h!=i(e).length&&!u)return!1;for(var f=h;f--;){var p=c[f];if(!(u?p in e:o.call(e,p)))return!1}var d=l.get(t);if(d&&l.get(e))return d==e;var v=!0;l.set(t,e),l.set(e,t);for(var y=u;++f<h;){var g=t[p=c[f]],m=e[p];if(a)var _=u?a(m,g,p,e,t,l):a(g,m,p,t,e,l);if(!(void 0===_?g===m||s(g,m,n,a,l):_)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(v=!1)}return l.delete(t),l.delete(e),v}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}},function(t,e,n){var i=n(23).Uint8Array;t.exports=i},function(t,e,n){var i=n(92),r=n(535),o=n(65),a=n(253),s=n(534),l=n(155),u=1,c=2,h="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Map]",v="[object Number]",y="[object RegExp]",g="[object Set]",m="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",M=i?i.prototype:void 0,x=M?M.valueOf:void 0;t.exports=function(t,e,n,i,M,S,P){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!S(new r(t),new r(e)));case h:case f:case v:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case y:case m:return t==e+"";case d:var O=s;case g:var k=i&u;if(O||(O=l),t.size!=e.size&&!k)return!1;var C=P.get(t);if(C)return C==e;i|=c,P.set(t,e);var E=a(O(t),O(e),i,M,S,P);return P.delete(t),E;case _:if(x)return x.call(t)==x.call(e)}return!1}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e,n){var i=n(255),r=n(253),o=n(536),a=n(533),s=n(251),l=n(11),u=n(260),c=n(258),h=1,f="[object Arguments]",p="[object Array]",d="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,g,m){var _=l(t),b=l(e),w=_?p:s(t),M=b?p:s(e),x=(w=w==f?d:w)==d,S=(M=M==f?d:M)==d,P=w==M;if(P&&u(t)){if(!u(e))return!1;_=!0,x=!1}if(P&&!x)return m||(m=new i),_||c(t)?r(t,e,n,y,g,m):o(t,e,w,n,y,g,m);if(!(n&h)){var O=x&&v.call(t,"__wrapped__"),k=S&&v.call(e,"__wrapped__");if(O||k){var C=O?t.value():t,E=k?e.value():e;return m||(m=new i),g(C,E,n,y,m)}}return!!P&&(m||(m=new i),a(t,e,n,y,g,m))}},function(t,e,n){var i=n(111);t.exports=function(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},function(t,e,n){var i=n(111);t.exports=function(t){return i(this,t).has(t)}},function(t,e,n){var i=n(111);t.exports=function(t){return i(this,t).get(t)}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var i=n(111);t.exports=function(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,n){var i=n(112),r="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?r:e,this}},function(t,e,n){var i=n(112),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return i?void 0!==e[t]:r.call(e,t)}},function(t,e,n){var i=n(112),r="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(i){var n=e[t];return n===r?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var i=n(112);t.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(t,e,n){var i=n(549),r=n(548),o=n(547),a=n(546),s=n(545);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var i=n(550),r=n(114),o=n(157);t.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(t,e,n){var i=n(114),r=n(157),o=n(156),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e,n){var i=n(114);t.exports=function(){this.__data__=new i,this.size=0}},function(t,e,n){var i=n(113);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e,n){var i=n(113);t.exports=function(t){return i(this.__data__,t)>-1}},function(t,e,n){var i=n(113);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var i=n(113),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var i=n(255),r=n(254),o=1,a=2;t.exports=function(t,e,n,s){var l=n.length,u=l,c=!s;if(null==t)return!u;for(t=Object(t);l--;){var h=n[l];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++l<u;){var f=(h=n[l])[0],p=t[f],d=h[1];if(c&&h[2]){if(void 0===p&&!(f in t))return!1}else{var v=new i;if(s)var y=s(p,d,f,t,e,v);if(!(void 0===y?r(d,p,o|a,s,v):y))return!1}}return!0}},function(t,e,n){var i=n(562),r=n(526),o=n(247);t.exports=function(t){var e=r(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var i=n(564)(Object.keys,Object);t.exports=i},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){(function(t){var i=n(264),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r&&i.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(259)(t))},function(t,e,n){var i=n(84),r=n(158),o=n(53),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&r(t.length)&&!!a[i(t)]}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var i=n(84),r=n(53),o="[object Arguments]";t.exports=function(t){return r(t)&&i(t)==o}},function(t,e,n){var i=n(261),r=n(159),o=n(11),a=n(260),s=n(52),l=n(258),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&r(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&l(t),p=n||c||h||f,d=p?i(t.length,String):[],v=d.length;for(var y in t)!e&&!u.call(t,y)||p&&("length"==y||h&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||d.push(y);return d}},function(t,e,n){var i=n(262)();t.exports=i},function(t,e,n){var i=n(572),r=n(83);t.exports=function(t,e){return t&&i(t,e,r)}},function(t,e,n){var i=n(54);t.exports=function(t,e,n,r){return i(t,function(t,i,o){e(r,t,n(t),o)}),r}},function(t,e){t.exports=function(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var i=n(23)["__core-js_shared__"];t.exports=i},function(t,e,n){var i=n(577),r=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!r&&r in t}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var i=n(92),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r}},function(t,e,n){var i=n(265),r=n(578),o=n(40),a=n(263),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(i(t)?f:s).test(a(t))}},function(t,e,n){var i=n(116),r=n(115),o=Object.prototype.hasOwnProperty,a=r(function(t,e,n){o.call(t,n)?++t[n]:i(t,n,1)});t.exports=a},function(t,e,n){t.exports={countBy:n(582),each:n(515),eachRight:n(514),every:n(510),filter:n(507),find:n(506),findLast:n(504),flatMap:n(503),flatMapDeep:n(501),flatMapDepth:n(500),forEach:n(244),forEachRight:n(242),groupBy:n(499),includes:n(498),invokeMap:n(495),keyBy:n(491),map:n(106),orderBy:n(490),partition:n(487),reduce:n(486),reduceRight:n(484),reject:n(482),sample:n(481),sampleSize:n(479),shuffle:n(476),size:n(473),some:n(468),sortBy:n(224)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attributions=void 0;var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(583),a=n(39),s=n(67),l=n(466),u=n(213),c=n(3),h=function(t){return t&&t.__esModule?t:{default:t}}(n(2));e.Attributions=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.attributions_=[],t.debouncedUpdate=(0,u.debounce)(function(){return t.update()}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,c.mixin)(h.default.Observable,a.ListenerOrganizerMixin)),r(e,[{key:"setMap",value:function(t){var e=this;this.map_&&(this.attributions_=[],this.detachAllListeners()),this.map_=t,t&&t.asSoonAs("ready:layers",!0,function(){setTimeout(function(){e.attachListeners(e.map_.getLayerGroup()),e.update()},0)})}},{key:"getArray",value:function(){return this.attributions_}},{key:"scanLayers",value:function(){return this.scanLayer(this.map_.getLayerGroup())}},{key:"scanLayer",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t&&t.getVisible()){if(t.getLayers){var i=!(t instanceof s.GroupLayer);return t.getLayers().getArray().reduce(function(r,o){return n=i?t.get("title"):null,r.concat(e.scanLayer(o,n))},[])}if(t.getVisible()){var r=t.isBaseLayer?this.map_.get("localiser").localiseUsingDictionary("Attribution baseLayerLabel"):n||t.get("title");if(r)return this.extractAttributions(t,this.labelize(r))}}return[]}},{key:"extractAttributions",value:function(t,e){if(t.getSource&&t.getSource()){var n=t.getSource().getAttributions();return n?n().map(function(t){return[e,t]}):[]}}},{key:"labelize",value:function(t){return t.replace(/<[^>]*>/," ").replace(/\s{2,}/," ")}},{key:"update",value:function(){this.attributions_=function t(e){return{groupBy:function(n){return t((0,o.groupBy)(e,n))},forEach:function(n){return t(e.forEach(n))},map:function(n){return t((0,o.map)(e,n))},asArray:function(){return e}}}(this.scanLayers()).groupBy(function(t){var e=i(t,2),n=e[0];e[1];return n}).map(function(t,e){return[e,t.map(function(t){return t[1]})]}).groupBy(function(t){var e=i(t,2),n=(e[0],e[1]);return 1===(n=(0,l.uniq)(n)).length?n[0]:n.join(" & ")}).map(function(t,e){return[t.map(function(t){return t[0]}),e]}).map(function(t){var e=i(t,2),n=e[0],r=e[1],o=void 0;return o=1===n.length?n[0]:n.slice(0,-1).join(", ")+" & "+n[n.length-1],o+=": "+r}).asArray(),this.dispatchEvent("change",this.attributions_)}},{key:"attachListeners",value:function(t){var e=this;t.getLayers&&(t.getLayers().forEach(function(t){return e.attachListeners(t)}),this.listenAt(t.getLayers()).on("add",function(t){e.attachListeners(t.element),e.debouncedUpdate()}).on("remove",function(t){e.detachFrom(t.element),e.debouncedUpdate()})),t instanceof s.GroupLayer||this.listenAt(t).on("change:visible",function(){e.debouncedUpdate()}).on("change:source",function(){t.getVisible()&&e.debouncedUpdate()})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMTSSource=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(3),o=n(13);e.WMTSSource=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.url;t.url="_",t.tileLoadFunction=function(t,e){(0,r.asyncImageLoad)(t.getImage(),i.originalUrlObject.extend(e.slice(1))).catch(function(t){return o.Debug.error(t)})};var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.originalUrlObject=n,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.source.WMTS),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClusterSource=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(13);e.ClusterSource=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.source=t,n.geometryFunction=n.geometryFunction||e.defaultGeometryFunction,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.source.Cluster),i(e,null,[{key:"defaultGeometryFunction",value:function(t){var e=t.getGeometry();return e instanceof r.default.geom.Point?e:e instanceof r.default.geom.LineString?new r.default.geom.Point(r.default.extent.getCenter(e.getExtent())):e instanceof r.default.geom.Polygon?new r.default.geom.Point(r.default.extent.getCenter(e.getExtent())):e instanceof r.default.geom.Circle?new r.default.Point(e.getCenter()):(o.Debug.warn("Trying to cluster unsupported geometry type."),null)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryTileWMSSource=e.QueryImageWMSSource=e.QueryWMSMixin=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),o=n(267);var a=e.QueryWMSMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"initialize",value:function(t){this.setQueryValues(t.queryValues||[])}},{key:"setQueryValues",value:function(t){this.queryValues_=t,this.updateParams(Object.assign({},this.getParams(),{LAYERS:t})),this.changed()}},{key:"getQueryValues",value:function(){return this.queryValues_}}]),t}();e.QueryImageWMSSource=(0,r.mixin)(o.ImageWMSSource,a),e.QueryTileWMSSource=(0,r.mixin)(o.TileWMSSource,a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseSilentGroupLayer=e.SilentGroupLayer=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(93),a=n(161),s=n(3);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=e.SilentGroupLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=new WeakMap;return n.getLayers().on("add",function(t){var e=t.element;e.provideMap&&e.provideMap(n.getProvidedMap()),i.set(e,e.on(["change:visible","change:childVisible"],function(){n.dispatchEvent({type:"change:childVisible",child:e})}))}),n.getLayers().on("remove",function(t){var e=t.element;e.provideMap&&e.provideMap(null),r.default.Observable.unByKey(i.get(e)),i.delete(e)}),n}return c(e,(0,s.mixin)(r.default.layer.Group,o.ProvideMapMixin)),i(e,[{key:"provideMap",value:function(t){(function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"provideMap",this).call(this,t),this.getLayers().forEach(function(e){e.provideMap&&e.provideMap(t)})}}]),e}();e.BaseSilentGroupLayer=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,(0,s.mixin)(h,a.BaseLayerMixin)),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryVectorSource=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(160);e.QueryVectorSource=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.changedQueryValuesCount_=0,n.setQueryValues(t.queryValues||[]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.SourceServerVector),i(e,[{key:"setQueryValues",value:function(t){this.queryValues_=t,this.urlTemplate.expandTemplate("apiValue",this.queryValues_,!0),this.changedQueryValuesCount_++,this.changed()}},{key:"addFeatures",value:function(t){this.changedQueryValuesCount_>0&&(this.changedQueryValuesCount_--,this.clear()),function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addFeatures",this).call(this,t)}},{key:"getQueryValues",value:function(){return this.queryValues_}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTileLayer=void 0;var i=n(268),r=n(161),o=n(3);e.BaseTileLayer=(0,o.mixin)(i.TileLayer,r.BaseLayerMixin)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyBaseLayer=void 0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),r=n(269);e.EmptyBaseLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.source=new i.default.source.ImageCanvas({state:"ready",canvasFunction:function(){}}),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.BaseLayerImage),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerFactory=e.LayerType=e.SuperType=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=x(n(2)),o=x(n(1)),a=n(269),s=n(591),l=n(590),u=n(268),c=n(67),h=n(85),f=n(160),p=n(589),d=n(41),v=n(3),y=n(13),g=n(267),m=n(588),_=n(117),b=n(587),w=n(586),M=n(585);function x(t){return t&&t.__esModule?t:{default:t}}var S=e.SuperType={BASELAYER:"baseLayer",FEATURELAYER:"featureLayer",QUERYLAYER:"queryLayer"},P=e.LayerType={CATEGORY:"Category",SILENTGROUP:"SilentGroup",GEOJSON:"GeoJSON",KML:"KML",WMS:"WMS",TILEWMS:"TileWMS",WMTS:"WMTS",OSM:"OSM",STAMEN:"Stamen",INTERN:"Intern",EMPTY:"Empty",XYZ:"XYZ",BING:"Bing"};e.LayerFactory=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e}return i(t,[{key:"setMapConfigProjection",value:function(t){this.mapProjection=t}},{key:"getMapProjection",value:function(){return this.mapProjection}},{key:"addLayers",value:function(t,e,n,i){var r=this;return e.map(function(e){return r.addLayer(t,e,n,i)})}},{key:"addLayer",value:function(t,e,n,i){var o=void 0,a=(0,d.copyDeep)(e);if(i||this.configureLayerIsIdOk_(a.id)){if(!a.type)throw new Error("Layer needs a type. Layer id: "+a.id+". Layer title: "+a.title+".");this.configureLayerAvailability_(a),this.configureLayerTitle_(a),n===S.BASELAYER&&(a.groupLayer=this.map_.get("layerConfigurator").getBaseLayerGroup()),a.source&&this.configureLayerSourceAttribution_(a.source),this.configureLayerVisibility_(a);var s=function(e){t.getLayers().push(e)};(o=this.createLayer(a.type,a,n,i))instanceof r.default.Collection?o.forEach(s):s(o)}return o}},{key:"superTypeNotSupported",value:function(t,e){throw new Error(t+" is not configured for superType '"+e+"'")}},{key:"createLayer",value:function(t,e,n,i){var o=this;n===S.QUERYLAYER&&(e.hasOwnProperty("apiKey")||y.Debug.error("Each query layer needs to have an apiKey."),e.source.projection=this.mapProjection),e.source&&(e.source.localiser=this.map_.get("localiser"));var x=void 0,O=void 0,k=void 0,C=!1;e.source&&(e.source.localiser=this.map_.get("localiser"),C=e.source.localised);var E=(0,d.take)(e,"style");switch(t){case P.SILENTGROUP:O=(0,d.take)(e,"layers"),x=n===S.BASELAYER?new m.BaseSilentGroupLayer(e):new m.SilentGroupLayer(e),this.addLayers(x,O,n,!0),x.getLayers().forEach(function(t){t.setVisible(!0)});break;case P.CATEGORY:O=(0,d.take)(e,"layers"),x=new c.GroupLayer(e),this.addLayers(x,O,n,i);var L=!1;x.getLayers().forEach(function(t){t.set("category",x),L=L||t.get("available")});var A=x.getLayers().getLength();if(!1!==L){if(!1!==x.get("available")&&A>0)return!0===L&&x.set("available",!0),x.setVisible(!0),n===S.BASELAYER&&x.set("activateChildren",!1),x;if(!0===L)return x.getLayers()}break;case P.EMPTY:n===S.BASELAYER?x=new s.EmptyBaseLayer(e):(e.source=new r.default.source.Vector,x=new h.VectorLayer(e));break;case P.XYZ:e.source.url=_.URL.extractFromConfig(e.source,"url",void 0,this.map_).finalize(),e.source=new r.default.source.XYZ(e.source),x=n===S.BASELAYER?new l.BaseTileLayer(e):new u.TileLayer(e);break;case P.OSM:e.source.url=_.URL.extractFromConfig(e.source,"url",void 0,this.map_).finalize(),e.source=new r.default.source.OSM(e.source),x=n===S.BASELAYER?new l.BaseTileLayer(e):new u.TileLayer(e);break;case P.STAMEN:e.source=new r.default.source.Stamen(e.source),x=n===S.BASELAYER?new l.BaseTileLayer(e):new u.TileLayer(e);break;case P.BING:e.source=new r.default.source.BingMaps(e.source),x=n===S.BASELAYER?new l.BaseTileLayer(e):new u.TileLayer(e);break;case P.WMS:e.categoryButtons&&(e.source.params.LAYERS=[]),e.source.url=_.URL.extractFromConfig(e.source,"url",void 0,this.map_),n===S.BASELAYER?(e.source=new g.ImageWMSSource(e.source),x=new a.BaseLayerImage(e)):n===S.QUERYLAYER?(e.visible=!1,e.source=new b.QueryImageWMSSource(e.source),x=new a.ImageLayer(e)):(e.source=new g.ImageWMSSource(e.source),x=new a.ImageLayer(e)),x.getSource().hasFeatureInfo()&&this.map_.asSoonAs("ready:ui",!0,function(){o.map_.get("showWMSFeatureInfo")&&o.map_.get("showWMSFeatureInfo").addLayer(x)});break;case P.TILEWMS:e.source.tileSize?(e.source.tileGrid=r.default.tilegrid.createXYZ({tileSize:e.source.tileSize}),delete e.source.tileSize):e.source.tileGrid&&(e.source.tileGrid=new r.default.tilegrid.TileGrid(e.source.tileGrid)),e.source.url=_.URL.extractFromConfig(e.source,"url",void 0,this.map_),n===S.BASELAYER?(e.source=new g.TileWMSSource(e.source),x=new l.BaseTileLayer(e)):n===S.QUERYLAYER?(e.visible=!1,e.source=new b.QueryTileWMSSource(e.source),x=new u.TileLayer(e)):(e.source=new g.TileWMSSource(e.source),x=new u.TileLayer(e)),x.getSource().hasFeatureInfo()&&this.map_.asSoonAs("ready:ui",!0,function(){o.map_.get("showWMSFeatureInfo")&&o.map_.get("showWMSFeatureInfo").addLayer(x)});break;case P.WMTS:var j=(0,d.take)(e,"source");if(!j.autoConfig){if(!j.tileGrid)throw new Error("You have to provide either a tileGrid or use autoConfig for WMTS Source");j.tileGrid=new r.default.tilegrid.WMTS(j.tileGrid),j.url=_.URL.extractFromConfig(j,"url",void 0,this.map_),e.source=new M.WMTSSource(j)}x=n===S.BASELAYER?new l.BaseTileLayer(e):new u.TileLayer(e),j.autoConfig&&this.setWMTSSourceFromCapabilities(x,j);break;case P.GEOJSON:this.configureLayerSourceLoadingStrategy_(e.source),e.source.url=_.URL.extractFromConfig(e.source,"url",void 0,this.map_),e.source.defaultStyle=this.map_.get("styling").getStyle(E||"#defaultStyle"),e.source.type="GeoJSON",e.source.bboxProjection=e.source.bboxProjection||this.map_.get("interfaceProjection"),e.source.styling=this.map_.get("styling"),k=(0,d.take)(e.source,"cluster"),n===S.QUERYLAYER?(e.visible=!1,e.source=new p.QueryVectorSource(e.source)):e.source=new f.SourceServerVector(e.source),k&&(k=(0,v.asObject)(k),e.source=new w.ClusterSource(e.source,k)),x=new h.VectorLayer(e);break;case P.KML:this.configureLayerSourceLoadingStrategy_(e.source),e.source.url=_.URL.extractFromConfig(e.source,"url",void 0,this.map_),e.source.defaultStyle=this.map_.get("styling").getStyle(E||"#defaultStyle"),e.source.type="KML",e.source.bboxProjection=e.source.bboxProjection||this.map_.get("interfaceProjection"),e.source.styling=this.map_.get("styling"),k=(0,d.take)(e.source,"cluster"),n===S.QUERYLAYER?(e.visible=!1,e.source=new p.QueryVectorSource(e.source)):e.source=new f.SourceServerVector(e.source),k&&(e.source=new w.ClusterSource(e.source,(0,v.asObject)(k))),x=new h.VectorLayer(e);break;case P.INTERN:if(e.source.hasOwnProperty("features"))for(var T=0;T<e.source.features.length;T++)e.source.features[T]=this.createFeature(e.source.features[T]);e.source=new r.default.source.Vector(e.source),n===S.QUERYLAYER?this.superTypeNotSupported(t,n):x=new h.VectorLayer(e)}var I=!0,N=!1,F=void 0;try{for(var D,R=this.map_.getModules()[Symbol.iterator]();!(I=(D=R.next()).done);I=!0){var B=D.value;if(x)break;x=B.createLayer(e.type,e,n,i)}}catch(t){N=!0,F=t}finally{try{!I&&R.return&&R.return()}finally{if(N)throw F}}if(!x)throw new Error("layer with type '"+e.type+"' could not be created.");return x.setStyle&&(x.setStyle(this.map_.get("styling").getStyle(E)),this.map_.get("styling").manageLayer(x)),n===S.BASELAYER&&e.source?x.getSource().getProjection()&&(this.mapProjection?this.mapProjection&&this.mapProjection!==x.getSource().getProjection()&&y.Debug.warn("The baseLayers are not in mapProjection or a baseLayers has a different projection than another! This might cause reprojection issues."):this.mapProjection=x.getSource().getProjection()):n===S.QUERYLAYER&&this.map_.get("urlApi").addApiLayer(x,e.apiKey),C&&this.map_.get("localiser").on("change:language",function(){return x.getSource().refresh()}),x}},{key:"configureLayerIsIdOk_",value:function(t){var e=this.map_.get("layerIds");if(0===t||t&&("string"==typeof t||!isNaN(t))){for(var n=0,i=e.length;n<i;n++)if(t===e[n])return y.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1;return e.push(t),this.map_.set("layerIds",e),!0}return y.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1}},{key:"configureLayerAvailability_",value:function(t){return t.available=!1!==t.available,t.alwaysVisible||(t.available=t.hasOwnProperty("availableMobile")?t.availableMobile:t.available,this.map_.get("ignoreLayerAvailability")&&(t.available=!0)),t}},{key:"configureLayerSourceAttribution_",value:function(t){return(0,v.checkFor)(t,"attribution")&&(t.attributions=[this.map_.get("localiser").selectL10N(t.attribution)]),t}},{key:"configureLayerSourceLoadingStrategy_",value:function(t){return t.loadingStrategy=t.hasOwnProperty("loadingStrategy")?t.loadingStrategy:this.map_.get("loadingStrategy"),t}},{key:"configureLayerTitle_",value:function(t){return t.hasOwnProperty("title")?t.title=this.map_.get("localiser").selectL10N(t.title):t.title="No title given",t}},{key:"configureLayerVisibility_",value:function(t){return!0===t.alwaysVisible?t.visible=!0:t.visible=!0===t.visible,t}},{key:"createFeature",value:function(t){var e=(0,d.copyDeep)(t),n=(0,d.take)(e,"id"),i=(0,d.take)(e,"style"),o=new r.default.format.WKT,a=(0,d.take)(e,"geometryWKT")||(0,d.take)(e,"geographyWKT");e.geometry=o.readGeometry(a).transform(this.map_.get("interfaceProjection"),this.map_.get("mapProjection"));var s=new r.default.Feature(e);return i&&this.map_.get("styling").styleFeature(s,i),n&&s.setId(n),s}},{key:"setWMTSSourceFromCapabilities",value:function(t,e){var n=_.URL.extractFromConfig(e,"url",void 0,this.map_),i=n.clone().addParam("Service=WMTS").addParam("Request=GetCapabilities");o.default.ajax({url:i.finalize(),dataType:"text xml",crossDomain:!0,success:function(i){var o=(new r.default.format.WMTSCapabilities).read(i),a=r.default.source.WMTS.optionsFromCapabilities(o,(0,d.take)(e,"config"));a.urls=a.urls.map(function(t){var e=n.clone();return e.url=t,e.finalize()}),e=(0,d.mergeDeep)(e,a),t.setSource(new r.default.source.WMTS(e))}}),t.setSource(new r.default.source.ImageCanvas({state:"ready",canvasFunction:function(){}}))}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerConfigurator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(67),a=n(41),s=n(3),l=n(13),u=n(592),c=n(584);e.LayerConfigurator=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.map_.on("change:layerConfig",this.configureLayers.bind(this)),this.layerFactory_=new u.LayerFactory(e)}return i(t,[{key:"configureLayers",value:function(){var t=this;this.map_.set("ready:layers",!1),this.map_.getLayerGroup()instanceof o.GroupLayer||this.map_.setLayerGroup(new o.GroupLayer);var e=this.map_.getLayerGroup();e.getLayers().clear();var n=(0,a.copyDeep)(this.map_.get("layerConfig")),i=this.map_.get("mapConfig");if(this.map_.set("layerIds",[]),this.layerFactory_.setMapConfigProjection(i.hasOwnProperty("mapProjection")?r.default.proj.get(i.mapProjection):null),this.map_.set("loadingStrategy",i.hasOwnProperty("loadingStrategy")?i.loadingStrategy:"ALL"),this.map_.set("ignoreLayerAvailability",!!i.hasOwnProperty("ignoreLayerAvailability")&&i.ignoreLayerAvailability),this.baseLayerGroup_=this.map_.get("baseLayers")||new o.GroupLayer,this.baseLayerGroup_.getLayers().clear(),n.hasOwnProperty("baseLayers")&&n.baseLayers instanceof Array){if(l.Debug.tryOrThrow(function(){t.layerFactory_.addLayers(t.baseLayerGroup_,n.baseLayers,"baseLayer")}),0===this.baseLayerGroup_.getLayers().getLength())if(0!==n.baseLayers.length){var u=(0,a.copyDeep)(n.baseLayers[0]);u.alwaysVisible=!0,this.layerFactory_.addLayers(this.baseLayerGroup_,u,"baseLayer",!0)}else l.Debug.warn("There is no baselayer available!");var h=void 0;if(this.baseLayerGroup_.recursiveForEach(function(t){t instanceof o.GroupLayer||(h=h||t.getVisible())}),!h&&this.baseLayerGroup_.getLayers().getLength()){!function t(e){e instanceof o.GroupLayer?t(e.getLayersArray()[0]):e.setVisible(!0)}(this.baseLayerGroup_)}this.map_.get("baseLayers")||this.baseLayerGroup_.getLayers().on("remove",function(e){t.baseLayerGroup_.getLayers().getLength()>0&&e.element.getVisible()&&t.baseLayerGroup_.getLayers().item(0).setVisible(!0)}),this.map_.set("baseLayers",this.baseLayerGroup_),e.getLayers().push(this.baseLayerGroup_)}else l.Debug.warn("The mapConfig option 'baseLayers' is not set or not an Array!");this.map_.set("mapProjection",this.layerFactory_.getMapProjection()||r.default.proj.get("EPSG:3857"));var f=this.map_.get("featureLayers")||new o.GroupLayer;f.getLayers().clear(),this.layerFactory_.addLayers(f,n.featureLayers||[],"featureLayer"),this.map_.set("featureLayers",f),e.getLayers().push(f);var p=this.map_.get("fixedFeatureLayers")||new o.GroupLayer;p.getLayers().clear(),(0,s.checkFor)(n,"fixedFeatureLayers")&&(this.layerFactory_.addLayers(p,n.fixedFeatureLayers,"featureLayer"),this.map_.set("fixedFeatureLayers",p),e.getLayers().push(p));var d=this.map_.get("queryLayers")||new o.GroupLayer;d.getLayers().clear(),n.hasOwnProperty("queryLayers")&&n.queryLayers instanceof Array&&(this.layerFactory_.addLayers(d,n.queryLayers,"queryLayer",!0),this.map_.set("queryLayers",d),e.getLayers().push(d));var v=[],y=!1,g=!1;!function e(n){n.getLayers&&(n.getLayers().on("add",function(t){e(t.element)}),n.getLayers().forEach(e)),n.isLoading&&n.isLoading()&&(y||(y=!0,t.map_.dispatchEvent("layersloadstart"),t.map_.set("allLayersLoaded",!1)),g=!0,v.push(n)),n.on("loadcountstart",function(){y||(y=!0,t.map_.dispatchEvent("layersloadstart"),t.map_.set("allLayersLoaded",!1)),g=!0,v.push(n)}),n.on("loadcountend",function(){v.splice(v.indexOf(n),1),0===v.length&&(g=!1,t.map_.afterPostrender(function(){g||(t.map_.dispatchEvent("layersloadend"),y=!1,t.map_.set("allLayersLoaded",!0))}),t.map_.render())})}(this.map_.getLayerGroup()),this.map_.set("allLayersLoaded",!1);var m=!1;this.map_.once("layersloadstart",function(){m=!0}),this.map_.once("postrender",function(){t.map_.once("postrender",function(){m||t.map_.set("allLayersLoaded",!0)})});var _=this.map_.get("attributions");_||(_=new c.Attributions,this.map_.set("attributions",_)),_.setMap(this.map_),this.map_.set("ready:layers",!0)}},{key:"getBaseLayerGroup",value:function(){return this.baseLayerGroup_}},{key:"getFactory",value:function(){return this.layerFactory_}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Styling=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=h(n(2)),a=h(n(1)),s=n(41),l=n(3),u=n(13),c=n(270);function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n=(0,s.copyDeep)(t);if(e){var i=!0,o=!1,a=void 0;try{for(var l,u=Object.keys(e)[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,h=e[c];if(t.hasOwnProperty(c)){var p=t[c];if("object"===(void 0===p?"undefined":r(p))&&!(p instanceof Array)){var d=t[c];d.hasOwnProperty("type")?h.hasOwnProperty("type")&&t[c].type===h.type&&(n[c]=f(d,h)):n[c]=f(d,h)}}else"object"!==(void 0===h?"undefined":r(h))||h instanceof Array?n[c]=h:n[c]=(0,s.copyDeep)(h)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}return n}e.Styling=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleConfigMap_=new Map,this.styleConfigMap_.has("#defaultStyle")||this.styleConfigMap_.set("#defaultStyle",{stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"},image:{type:"circle",stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"}}}),n.styleConfigMap){var i=!0,r=!1,s=void 0;try{for(var l,u=Object.keys(n.styleConfigMap)[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;this.styleConfigMap_.set(c,n.styleConfigMap[c])}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}}this.styleMap_=new Map,this.allStyles_=new Set,n.scaleIcons&&this.setGlobalIconScale(n.scaleIcons),this.managingFeatureStyle_=function(t,n){var i=t.get("managedStyle");return a.default.isFunction(i)&&(i=i(t,n)),i||(i=e.getStyle("#defaultStyle")),a.default.isArray(i)?i.map(function(n){return e.adjustStyle_(t,n)}):e.adjustStyle_(t,i)},this.nullStyle_=new o.default.style.Style({image:null}),this.manageStyles_=!1!==n.manageStyles}return i(t,[{key:"setGlobalIconScale",value:function(t){this.globalIconScale_=t}},{key:"getGlobalIconScale",value:function(){return this.globalIconScale_||1}},{key:"getStyleFromConfig",value:function(t){var e=f(t,this.styleConfigMap_.get("#default"));function n(t){t=t||{};var n=(0,s.copy)(t);return(0,l.checkFor)(t,"fill")?n.fill=new o.default.style.Fill(f(t.fill,e.fill)):n.fill=new o.default.style.Fill(e.fill),(0,l.checkFor)(t,"stroke")?n.stroke=new o.default.style.Stroke(f(t.stroke,e.stroke)):n.stroke=new o.default.style.Stroke(e.stroke),n}var i=n(e);i.text=new o.default.style.Text(n(e.text));var r=!1;return e.hasOwnProperty("image")&&("icon"===e.image.type&&e.image.hasOwnProperty("src")&&e.image.src?(i.image=new o.default.style.Icon(e.image),r=!0):"circle"===e.image.type?(i.image=new o.default.style.Circle(n(e.image)),r=!0):"regularShape"===e.image.type&&(i.image=new o.default.style.RegularShape(n(e.image)),r=!0),r&&i.image.setScale((i.image.getScale()||1)*this.getGlobalIconScale())),new o.default.style.Style(i)}},{key:"getConfigFromStyle",value:function(t){throw new Error("Not implemented yet")}},{key:"getStyleById",value:function(t){if(!this.styleMap_.has(t)){if(!this.styleConfigMap_.has(t))return u.Debug.error("No style found for id "+t+". Using default style."),this.styleMap_.get("#defaultStyle");this.styleMap_.set(t,this.getStyleFromConfig(this.getConfigById(t)))}return this.styleMap_.get(t)}},{key:"getConfigById",value:function(t){return this.styleConfigMap_.has(t)?this.styleConfigMap_.get(t):(u.Debug.error("No style config found for id "+t+". Using default style."),this.styleConfigMap_.get("#defaultStyle"))}},{key:"getStyle",value:function(t){return void 0===t?this.getStyleById("#defaultStyle"):t instanceof o.default.style.Style||a.default.isFunction(t)?t:"object"===(void 0===t?"undefined":r(t))?this.getStyleFromConfig(t):this.getStyleById(t)}},{key:"adjustStyle_",value:function(t,e){if(t.get("hidden"))return this.nullStyle_;var n=e.clone();return this.scaleStyle_(n),void 0!==t.get("opacity")&&this.changeColorOpacity_(n,t.get("opacity")),n}},{key:"scaleStyle_",value:function(t){var e=t.getImage();if(e){var n=t.getImage().getScale()||1;e.setScale(n*this.getGlobalIconScale())}}},{key:"changeColorOpacity_",value:function(t,e){var n=function(t,e){var n=t.getColor();if(null!==n){if(!(n instanceof Array)){if("string"!=typeof n)throw new Error("Type not supported");n=(0,c.parseCSSColor)(n)}n[3]=n[3]*e}t.setColor(n)};t.getImage()&&t.getImage().setOpacity(e),t.getFill()&&n(t.getFill(),e),t.getStroke()&&n(t.getStroke(),e),t.getText()&&(t.getText().getFill()&&n(t.getText().getFill(),e),t.getText().getStroke()&&n(t.getText().getStroke(),e))}},{key:"manageFeature",value:function(t){if(this.manageStyles_){var e=t.getStyle();e&&!t.get("managedStyle")&&(t.set("managedStyle",e),t.setStyle(this.managingFeatureStyle_))}}},{key:"manageFeatureCollection",value:function(t){var e=this;this.manageStyles_&&(t.forEach(function(t){e.manageFeature(t)}),t.on("add",function(t){e.manageFeature(t.element)}))}},{key:"manageLayer",value:function(t){var e=this;this.manageStyles_&&(t.getStyle()&&!t.get("managedStyle")&&(t.set("managedStyle",t.getStyle()),t.setStyle(function(n,i){var r=t.get("managedStyle");return a.default.isFunction(r)&&(r=r(n,i)),r||(r=e.getStyle("#defaultStyle")),a.default.isArray(r)?r.map(function(t){return e.adjustStyle_(n,t)}):e.adjustStyle_(n,r)})),t.getSource().getFeatures().forEach(function(t){e.manageFeature(t)}),t.getSource().on("addfeature",function(t){e.manageFeature(t.feature)}))}}]),t}()},function(t,e){!function(n,i){"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):n.proj4=i()}(this,function(){"use strict";function t(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(X,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(X,"")===r)return t[n]}function e(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Q}function n(t){return new e(t).output()}function i(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,o=n.reduce(function(t,e){return r(e,t),t},i);e&&(t[e]=o)}function r(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void r(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){var o;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&r(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&r(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void i(e,n,t);default:for(o=-1;++o<t.length;)if(!Array.isArray(t[o]))return r(t,e[n]);return i(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}function o(t){return t*nt}function a(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;"GEOGCS"===t.type&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(t.datum_params=n.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",o],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["azimuth","Azimuth"],["alpha","azimuth",o],["srsCode","name"]].forEach(function(e){return function(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=o(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function s(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?s[t]=H(arguments[1]):s[t]=it(arguments[1]):s[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?s.apply(e,t):s(t)});if("string"==typeof t){if(t in s)return s[t]}else"EPSG"in t?s["EPSG:"+t.EPSG]=t:"ESRI"in t?s["ESRI:"+t.ESRI]=t:"IAU2000"in t?s["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function l(e){var n=t(e,"authority");if(n){var i=t(n,"epsg");return i&&ot.indexOf(i)>-1}}function u(e){var n=t(e,"extension");if(n)return t(n,"proj4")}function c(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in s}(t))return s[t];if(function(t){return rt.some(function(e){return t.indexOf(e)>-1})}(t)){var e=it(t);if(l(e))return s["EPSG:3857"];var n=u(e);return n?H(n):e}return function(t){return"+"===t[0]}(t)?H(t):void 0}function h(t){return t}function f(t,e){var n=dt.length;return t.names?(dt[n]=t,t.names.forEach(function(t){pt[t.toLowerCase()]=n}),this):(console.log(e),!0)}function p(e,n){if(!(this instanceof p))return new p(e);n=n||function(t){if(t)throw t};var i=c(e);if("object"==typeof i){var r=p.projections.get(i.projName);if(r){if(i.datumCode&&"none"!==i.datumCode){var o=t(mt,i.datumCode);o&&(i.datum_params=o.towgs84?o.towgs84.split(","):null,i.ellps=o.ellipse,i.datumName=o.datumName?o.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84";var a=function(e,n,i,r,o){if(!e){var a=t(yt,r);a||(a=gt),e=a.a,n=a.b,i=a.rf}return i&&!n&&(n=(1-1/i)*e),(0===i||Math.abs(e-n)<V)&&(o=!0,n=e),{a:e,b:n,rf:i,sphere:o}}(i.a,i.b,i.rf,i.ellps,i.sphere),s=function(t,e,n,i){var r=t*t,o=e*e,a=(r-o)/r,s=0;return i?(r=(t*=1-a*(D+a*(R+a*B)))*t,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(r-o)/o}}(a.a,a.b,a.rf,i.R_A),l=i.datum||function(t,e,n,i,r,o){var a={};return a.datum_type=void 0===t||"none"===t?I:T,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=A),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=j,a.datum_params[3]*=N,a.datum_params[4]*=N,a.datum_params[5]*=N,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=i,a.es=r,a.ep2=o,a}(i.datumCode,i.datum_params,a.a,a.b,s.es,s.ep2);at(this,i),at(this,r),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=l,this.init(),n(null,this)}else n(e)}else n(e)}function d(t){return t===A||t===j}function v(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function y(t,e,n){var i;return Array.isArray(n)&&(n=wt(n)),Mt(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===A||t.datum.datum_type===j)&&"WGS84"!==e.datumCode||(e.datum.datum_type===A||e.datum.datum_type===j)&&"WGS84"!==t.datumCode}(t,e)&&(n=y(t,i=new p("WGS84"),n),t=i),"enu"!==t.axis&&(n=bt(t,!1,n)),"longlat"===t.projName?n={x:n.x*z,y:n.y*z}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=_t(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*$,y:n.y*$}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?bt(e,!0,n):n}function g(t,e,n){var i,r,o;return Array.isArray(n)?(i=y(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):(r=y(t,e,n),2===(o=Object.keys(n)).length?r:(o.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=n[t])}),r))}function m(t){return t instanceof p?t:t.oProj?t.oProj:p(t)}function _(t,e,n){t=m(t);var i,r=!1;return void 0===e?(e=t,t=xt,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=xt,r=!0),e=m(e),n?g(t,e,n):(i={forward:function(n){return g(t,e,n)},inverse:function(n){return g(e,t,n)}},r&&(i.oProj=e),i)}function b(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,n){var i=P(n);return function(t,e,n){var i=n-1,r=Pt.charCodeAt(i),o=Ot.charCodeAt(i),a=r+t-1,s=o+e,l=!1;return a>At&&(a=a-At+kt-1,l=!0),(a===Ct||r<Ct&&a>Ct||(a>Ct||r<Ct)&&l)&&a++,(a===Et||r<Et&&a>Et||(a>Et||r<Et)&&l)&&++a===Ct&&a++,a>At&&(a=a-At+kt-1),s>Lt?(s=s-Lt+kt-1,l=!0):l=!1,(s===Ct||o<Ct&&s>Ct||(s>Ct||o<Ct)&&l)&&s++,(s===Et||o<Et&&s>Et||(s>Et||o<Et)&&l)&&++s===Ct&&s++,s>Lt&&(s=s-Lt+kt-1),String.fromCharCode(a)+String.fromCharCode(s)}(Math.floor(t/1e5),Math.floor(e/1e5)%20,i)}(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}(function(t){var e,n,i,r,o,a,s=t.lat,l=t.lon,u=6378137,c=M(s),h=M(l);a=Math.floor((l+180)/6)+1,180===l&&(a=60),s>=56&&s<64&&l>=3&&l<12&&(a=32),s>=72&&s<84&&(l>=0&&l<9?a=31:l>=9&&l<21?a=33:l>=21&&l<33?a=35:l>=33&&l<42&&(a=37)),o=M(6*(a-1)-180+3),e=u/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),n=Math.tan(c)*Math.tan(c),i=.006739496752268451*Math.cos(c)*Math.cos(c);var f=.9996*e*((r=Math.cos(c)*(h-o))+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,p=.9996*(u*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c))+e*Math.tan(c)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));return s<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(f),zoneNumber:a,zoneLetter:function(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}(s)}}({lat:t[1],lon:t[0]}),e)}function w(t){var e=S(O(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function M(t){return t*(Math.PI/180)}function x(t){return t/Math.PI*180}function S(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,a,s,l,u,c,h,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=n-5e5,y=e;i<"N"&&(y-=1e7),c=6*(r-1)-180+3,f=(h=y/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),s=.006739496752268451*Math.cos(f)*Math.cos(f),l=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),u=v/(.9996*o);var g=f-o*Math.tan(f)/l*(u*u/2-(5+3*a+10*s-4*s*s-.06065547077041606)*u*u*u*u/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*u*u*u*u*u*u/720);g=x(g);var m,_=(u-(1+2*a+s)*u*u*u/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*u*u*u*u*u/120)/Math.cos(f);if(_=c+x(_),t.accuracy){var b=S({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});m={top:b.lat,right:b.lon,bottom:g,left:_}}else m={lat:g,lon:_};return m}function P(t){var e=t%St;return 0===e&&(e=St),e}function O(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var a=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;i=t.substring(o,o+=2);for(var l=P(a),u=function(t,e){for(var n=Pt.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(++n===Ct&&n++,n===Et&&n++,n>At){if(r)throw"Bad character: "+t;n=kt,r=!0}i+=1e5}return i}(i.charAt(0),l),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=Ot.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(++n===Ct&&n++,n===Et&&n++,n>Lt){if(r)throw"Bad character: "+t;n=kt,r=!0}i+=1e5}return i}(i.charAt(1),l);c<k(s);)c+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,v=h/2,y=0,g=0;return v>0&&(f=1e5/Math.pow(10,v),p=t.substring(o,o+v),y=parseFloat(p)*f,d=t.substring(o+v),g=parseFloat(d)*f),{easting:y+u,northing:g+c,zoneLetter:s,zoneNumber:a,accuracy:f}}function k(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function C(t,e,n){if(!(this instanceof C))return new C(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function E(t,e,n,i){var r;return t<V?(i.value=Fe.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=U?i.value=Fe.AREA_0:r>U&&r<=F+U?(i.value=Fe.AREA_1,r-=F):r>F+U||r<=-(F+U)?(i.value=Fe.AREA_2,r=r>=0?r-W:r+W):(i.value=Fe.AREA_3,r+=F)),r}function L(t,e){var n=t+e;return n<-W?n+=G:n>+W&&(n-=G),n}var A=1,j=2,T=4,I=5,N=484813681109536e-20,F=Math.PI/2,D=.16666666666666666,R=.04722222222222222,B=.022156084656084655,V=1e-10,z=.017453292519943295,$=57.29577951308232,U=Math.PI/4,G=2*Math.PI,W=3.14159265359,Y={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},q={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},X=/[\s_\-\/\(\)]/g,H=function(e){var n,i,r,o={},a=e.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*z},lat_1:function(t){o.lat1=t*z},lat_2:function(t){o.lat2=t*z},lat_ts:function(t){o.lat_ts=t*z},lon_0:function(t){o.long0=t*z},lon_1:function(t){o.long1=t*z},lon_2:function(t){o.long2=t*z},alpha:function(t){o.alpha=parseFloat(t)*z},lonc:function(t){o.longc=t*z},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(e){o.units=e;var n=t(q,e);n&&(o.to_meter=n.to_meter)},from_greenwich:function(t){o.from_greenwich=t*z},pm:function(e){var n=t(Y,e);o.from_greenwich=(n||parseFloat(e))*z},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(o.axis=t)}};for(n in a)i=a[n],n in s?"function"==typeof(r=s[n])?r(i):o[r]=i:o[n]=i;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o},Q=1,Z=/\s/,K=/[A-Za-z]/,J=/[A-Za-z84]/,tt=/[,\]]/,et=/[\d\.E\-\+]/;e.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;Z.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Q:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},e.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(tt.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},e.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Q)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Q,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},e.prototype.number=function(t){if(!et.test(t)){if(tt.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},e.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},e.prototype.keyword=function(t){if(J.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=Q)}if(!tt.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},e.prototype.neutral=function(t){if(K.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(et.test(t))return this.word=t,void(this.state=3);if(!tt.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},e.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var nt=.017453292519943295,it=function(t){var e=n(t),i=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",i]);var s={};return r(e,s),a(s),s};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(s);var rt=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],ot=["3857","900913","3785","102113"],at=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},st=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},lt=function(t){return t<0?-1:1},ut=function(t){return Math.abs(t)<=W?t:t-lt(t)*G},ct=function(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(F-e))/i},ht=function(t,e){for(var n,i,r=.5*t,o=F-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=i=F-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999},ft=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=st(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,r=t.y;if(r*$>90&&r*$<-90&&i*$>180&&i*$<-180)return null;if(Math.abs(Math.abs(r)-F)<=V)return null;if(this.sphere)e=this.x0+this.a*this.k0*ut(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(U+.5*r));else{var o=Math.sin(r),a=ct(this.e,r,o);e=this.x0+this.a*this.k0*ut(i-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=F-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=ht(this.e,o)))return null}return e=ut(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:h,inverse:h,names:["longlat","identity"]}],pt={},dt=[],vt={start:function(){ft.forEach(f)},add:f,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==pt[e]&&dt[pt[e]]?dt[pt[e]]:void 0}},yt={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},gt=yt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};yt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var mt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};p.projections=vt,p.projections.start();var _t=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===A?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==j||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?n:t.datum_type===I||e.datum_type===I?n:t.es!==e.es||t.a!==e.a||d(t.datum_type)||d(e.datum_type)?(n=function(t,e,n){var i,r,o,a,s=t.x,l=t.y,u=t.z?t.z:0;if(l<-F&&l>-1.001*F)l=-F;else if(l>F&&l<1.001*F)l=F;else{if(l<-F)return{x:-1/0,y:-1/0,z:t.z};if(l>F)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(l),a=Math.cos(l),o=r*r,{x:((i=n/Math.sqrt(1-e*o))+u)*a*Math.cos(s),y:(i+u)*a*Math.sin(s),z:(i*(1-e)+u)*r}}(n,t.es,t.a),d(t.datum_type)&&(n=function(t,e,n){if(e===A)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===j){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+s*t.z)+i,y:u*(l*t.x+t.y-a*t.z)+r,z:u*(-s*t.x+a*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),d(e.datum_type)&&(n=function(t,e,n){if(e===A)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===j){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=(t.x-i)/u,h=(t.y-r)/u,f=(t.z-o)/u;return{x:c+l*h-s*f,y:-l*c+h+a*f,z:s*c-a*h+f}}}(n,e.datum_type,e.datum_params)),function(t,e,n,i){var r,o,a,s,l,u,c,h,f,p,d,v,y,g,m,_=t.x,b=t.y,w=t.z?t.z:0;if(r=Math.sqrt(_*_+b*b),o=Math.sqrt(_*_+b*b+w*w),r/n<1e-12){if(g=0,o/n<1e-12)return m=-i,{x:t.x,y:t.y,z:t.z}}else g=Math.atan2(b,_);a=w/o,h=(s=r/o)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*s*s)),f=a*l,y=0;do{y++,u=e*(c=n/Math.sqrt(1-e*f*f))/(c+(m=r*h+w*f-c*(1-e*f*f))),v=(d=a*(l=1/Math.sqrt(1-u*(2-u)*s*s)))*h-(p=s*(1-u)*l)*f,h=p,f=d}while(v*v>1e-24&&y<30);return{x:g,y:Math.atan(d/Math.abs(p)),z:m}}(n,e.es,e.a,e.b)):n},bt=function(t,e,n){var i,r,o,a=n.x,s=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=a,r="x"):1===o?(i=s,r="y"):(i=l,r="z"),t.axis[o]){case"e":u[r]=i;break;case"w":u[r]=-i;break;case"n":u[r]=i;break;case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u},wt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},Mt=function(t){v(t.x),v(t.y)},xt=p("WGS84"),St=6,Pt="AJSAJS",Ot="AFAFAF",kt=65,Ct=73,Et=79,Lt=86,At=90,jt={forward:b,inverse:function(t){var e=S(O(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:w};C.fromMGRS=function(t){return new C(w(t))},C.prototype.toMGRS=function(t){return b([this.x,this.y],t)};var Tt=.01068115234375,It=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Tt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Tt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Nt=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))},Ft=function(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var a=Math.sin(r),s=1-e*a*a;if(r-=s=(Nt(r,a,Math.cos(r),n)-t)*(s*Math.sqrt(s))*i,Math.abs(s)<V)return r}return r},Dt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=It(this.es),this.ml0=Nt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.x,o=t.y,a=ut(r-this.long0),s=Math.sin(o),l=Math.cos(o);if(this.es){var u=l*a,c=Math.pow(u,2),h=this.ep2*Math.pow(l,2),f=Math.pow(h,2),p=Math.abs(l)>V?Math.tan(o):0,d=Math.pow(p,2),v=Math.pow(d,2);e=1-this.es*Math.pow(s,2),u/=Math.sqrt(e);var y=Nt(o,s,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-d+h+c/20*(5-18*d+v+14*h-58*d*h+c/42*(61+179*v-v*d-479*d)))))+this.x0,i=this.a*(this.k0*(y-this.ml0+s*a*u/2*(1+c/12*(5-d+9*h+4*f+c/30*(61+v-58*d+270*h-330*d*h+c/56*(1385+543*v-v*d-3111*d))))))+this.y0}else{var g=l*Math.sin(a);if(Math.abs(Math.abs(g)-1)<V)return 93;if(n=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,i=l*Math.cos(a)/Math.sqrt(1-Math.pow(g,2)),(g=Math.abs(i))>=1){if(g-1>V)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=Ft(e,this.es,this.en),Math.abs(n)<F){var s=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>V?Math.tan(n):0,c=this.ep2*Math.pow(l,2),h=Math.pow(c,2),f=Math.pow(u,2),p=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var d=o*Math.sqrt(e)/this.k0,v=Math.pow(d,2);i=n-(e*=u)*v/(1-this.es)*.5*(1-v/12*(5+3*f-9*c*f+c-4*h-v/30*(61+90*f-252*c*f+45*p+46*c-v/56*(1385+3633*f+4095*p+1574*p*f)))),r=ut(this.long0+d*(1-v/6*(1+2*f+c-v/20*(5+28*f+24*p+8*c*f+6*c-v/42*(61+662*f+1320*p+720*p*f))))/l)}else i=F*lt(a),r=0;else{var y=Math.exp(o/this.k0),g=.5*(y-1/y),m=this.lat0+a/this.k0,_=Math.cos(m);e=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(g,2))),i=Math.asin(e),a<0&&(i=-i),r=0===g&&0===_?0:ut(Math.atan2(g,_)+this.long0)}return t.x=r,t.y=i,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Rt=function(t){var e=Math.exp(t);return(e-1/e)/2},Bt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},Vt=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Bt(1,e)+1))),t<0?-e:e},zt=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],a=0;--r>=0;)n=i*o-a+t[r],a=o,o=n;return e+n*Math.sin(2*e)},$t=function(t,e,n){for(var i,r,o=Math.sin(e),a=Math.cos(e),s=Rt(n),l=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),u=2*a*l,c=-2*o*s,h=t.length-1,f=t[h],p=0,d=0,v=0;--h>=0;)i=d,r=p,f=u*(d=f)-i-c*(p=v)+t[h],v=c*d-r+u*p;return[(u=o*l)*f-(c=a*s)*v,u*v+c*f]},Ut={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=zt(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],a=0;--r>=0;)n=i*o-a+t[r],a=o,o=n;return Math.sin(e)*n}(this.gtu,2*i))},forward:function(t){var e=ut(t.x-this.long0),n=t.y;n=zt(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),a=Math.cos(e);n=Math.atan2(i,a*r),e=Math.atan2(o*r,Bt(i,r*a)),e=Vt(Math.tan(e));var s,l,u=$t(this.gtu,2*n,2*e);return n+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,l=1/0),t.x=s,t.y=l,t},inverse:function(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=$t(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(Rt(i));var a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i);r=Math.atan2(a*u,Bt(l,u*s)),i=Math.atan2(l,u*s),e=ut(i+this.long0),n=zt(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Gt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(ut(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*z,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ut.init.apply(this),this.forward=Ut.forward,this.inverse=Ut.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Wt=function(t,e){return Math.pow((1-t)/(1+t),e)},Yt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+U)/(Math.pow(Math.tan(.5*this.lat0+U),this.C)*Wt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+U),this.C)*Wt(this.e*Math.sin(n),this.ratexp))-F,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+U)/this.K,1/this.C),r=20;r>0&&(n=2*Math.atan(i*Wt(this.e*Math.sin(t.y),-.5*this.e))-F,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]},qt={init:function(){Yt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=ut(t.x-this.long0),Yt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),n=Math.cos(a),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,Yt.inverse.apply(this,[t]),t.x=ut(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Xt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=V&&(this.k0=.5*(1+lt(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=V&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=V&&(this.k0=.5*this.cons*st(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ct(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=st(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-F,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,a,s=t.x,l=t.y,u=Math.sin(l),c=Math.cos(l),h=ut(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=V&&Math.abs(l+this.lat0)<=V?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(h)),t.x=this.a*e*c*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*c*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,u,this.e))-F,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=V?(o=ct(this.e,l*this.con,this.con*u),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<V?(e=2*this.a*this.k0/(1+r*Math.cos(h)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(h))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(h))+this.y0),t.x=e*r*Math.sin(h)+this.x0,t))},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=V?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=ut(Math.abs(this.coslat0)<V?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=V){if(a<=V)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*ht(this.e,i),e=this.con*ut(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=V?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/a),e=ut(this.long0+Math.atan2(t.x*Math.sin(r),a*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*ht(this.e,Math.tan(.5*(F+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(F+t))*Math.pow((1-e)/(1+e),.5*n)}},Ht={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t},names:["somerc"]},Qt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i,r,o=ct(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(a*a<1&&(a=1),isNaN(this.longc)){var s=ct(this.e,this.lat1,Math.sin(this.lat1)),l=ct(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var u=Math.pow(s,this.bl),c=Math.pow(l,this.bl);r=.5*((i=this.el/u)-1/i);var h=(this.el*this.el-c*u)/(this.el*this.el+c*u),f=(c-u)/(c+u),p=ut(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*p)/f)/this.bl,this.long0=ut(this.long0);var d=ut(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/r),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else i=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=i*Math.pow(o,this.bl),r=.5*(i-1/i),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,n,i,r=t.x,o=t.y,a=ut(r-this.long0);if(Math.abs(Math.abs(o)-F)<=V)i=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(U+i*this.gamma0*.5)),e=-1*i*F*this.al/this.bl;else{var s=ct(this.e,o,Math.sin(o)),l=this.el/Math.pow(s,this.bl),u=.5*(l-1/l),c=.5*(l+1/l),h=Math.sin(this.bl*a),f=(u*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(f)-1)<=V?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-f)/(1+f))/this.bl,e=Math.abs(Math.cos(this.bl*a))<=V?this.al*this.bl*a:this.al*Math.atan2(u*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),a=Math.sin(this.bl*e/this.al),s=(a*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,l=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<V?(t.x=this.long0,t.y=F):Math.abs(s+1)<V?(t.x=this.long0,t.y=-1*F):(t.y=ht(this.e,l),t.x=ut(this.long0-Math.atan2(r*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},Zt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<V)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=st(this.e,e,n),r=ct(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=st(this.e,o,a),l=ct(this.e,this.lat2,o),u=ct(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>V?this.ns=Math.log(i/s)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=V&&(n=lt(n)*(F-2*V));var i,r,o=Math.abs(Math.abs(n)-F);if(o>V)i=ct(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var a=this.ns*ut(e-this.long0);return t.x=this.k0*(r*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,t},inverse:function(t){var e,n,i,r,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),n=1):(e=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*a,n*s)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=ht(this.e,i)))return null}else r=-F;return o=ut(l/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Kt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,a,s,l=t.x,u=t.y,c=ut(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,a,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,u+=1}while(0===s&&u<15);return u>=15?null:t},names:["Krovak","krovak"]},Jt=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},te=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},ee=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ne=function(t){return.05859375*t*t*(1+.75*t)},ie=function(t){return t*t*t*(35/3072)},re=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},oe=function(t){return Math.abs(t)<F?t:t-lt(t)*Math.PI},ae=function(t,e,n,i,r){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN},se={init:function(){this.sphere||(this.e0=te(this.es),this.e1=ee(this.es),this.e2=ne(this.es),this.e3=ie(this.es),this.ml0=this.a*Jt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=ut(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),a=Math.cos(r),s=re(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),u=i*Math.cos(r),c=u*u,h=this.es*a*a/(1-this.es);e=s*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=this.a*Jt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*o/a*c*(.5+(5-l+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=this.ml0/this.a+r,s=ae(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-F)<=V)return t.x=this.long0,t.y=F,r<0&&(t.y*=-1),t;var l=re(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=i*this.a/l,f=h*h;e=s-l*Math.tan(s)/u*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}return t.x=ut(n+this.long0),t.y=oe(e),t},names:["Cassini","Cassini_Soldner","cass"]},le=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},ue=.3333333333333333,ce=.17222222222222222,he=.10257936507936508,fe=.06388888888888888,pe=.0664021164021164,de=.016415012942191543,ve={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-F)<V?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<V?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=le(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*ue,e=t*t,n[0]+=e*ce,n[1]=e*fe,e*=t,n[0]+=e*he,n[1]+=e*pe,n[2]=e*de,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=le(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,a,s,l,u,c,h=t.x,f=t.y;if(h=ut(h-this.long0),this.sphere){if(o=Math.sin(f),c=Math.cos(f),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*i:1+this.sinph0*o+this.cosph0*c*i)<=V)return null;e=(n=Math.sqrt(2/n))*c*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.phi0)<V)return null;n=U-.5*f,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=i}}else{switch(s=0,l=0,u=0,i=Math.cos(h),r=Math.sin(h),o=Math.sin(f),a=le(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*i;break;case this.EQUIT:u=1+l*i;break;case this.N_POLE:u=F+f,a=this.qp-a;break;case this.S_POLE:u=f-F,a=this.qp+a}if(Math.abs(u)<V)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*l*i):(u=Math.sqrt(2/(1+l*i)))*s*this.ymf,e=this.xmf*u*l*r;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(u=Math.sqrt(a))*r,n=i*(this.mode===this.S_POLE?u:-u)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,a,s,l=t.x/this.a,u=t.y/this.a;if(this.sphere){var c,h=0,f=0;if((n=.5*(c=Math.sqrt(l*l+u*u)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=V?0:Math.asin(u*f/c),l*=f,u=h*c;break;case this.OBLIQ:n=Math.abs(c)<=V?this.phi0:Math.asin(h*this.sinph0+u*f*this.cosph0/c),l*=f*this.cosph0,u=(h-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:u=-u,n=F-n;break;case this.S_POLE:n-=F}e=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,u):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,u*=this.dd,(a=Math.sqrt(l*l+u*u))<V)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*a/this.rq),i=Math.cos(r),l*=r=Math.sin(r),this.mode===this.OBLIQ?(s=i*this.sinb1+u*r*this.cosb1/a,o=this.qp*s,u=a*this.cosb1*i-u*this.sinb1*r):(s=u*r/a,o=this.qp*s,u=a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),!(o=l*l+u*u))return t.x=0,t.y=this.phi0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(l,u),n=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}(Math.asin(s),this.apa)}return t.x=ut(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},ye=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},ge={init:function(){Math.abs(this.lat1+this.lat2)<V||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=st(this.e3,this.sin_po,this.cos_po),this.qs1=le(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=st(this.e3,this.sin_po,this.cos_po),this.qs2=le(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=le(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>V?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=le(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*ut(e-this.long0),a=r*Math.sin(o)+this.x0,s=this.rh-r*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),o=ut(r/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,a,s=ye(.5*e);if(t<V)return s;for(var l=t*t,u=1;u<=25;u++)if(n=Math.sin(s),i=Math.cos(s),s+=a=.5*(o=1-(r=t*n)*r)*o/i*(e/(1-l)-n/o+.5/t*Math.log((1-r)/(1+r))),Math.abs(a)<=1e-7)return s;return null}},me={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,a,s,l=t.x,u=t.y;return i=ut(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=V?(a=this.x0+1*this.a*n*Math.sin(i)/o,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),a=ye(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=ut(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]},_e={init:function(){this.sphere||(this.k0=st(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.x,r=t.y,o=ut(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=le(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=ut(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*F:F;for(var i,r,o,a,s=Math.asin(.5*e),l=0;l<30;l++)if(r=Math.sin(s),o=Math.cos(s),a=t*r,s+=i=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(i)<=1e-10)return s;return NaN}(this.e,2*t.y*this.k0/this.a),e=ut(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},be={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,i=ut(e-this.long0),r=oe(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,n=t.y;return t.x=ut(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=oe(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},we={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=te(this.es),this.e1=ee(this.es),this.e2=ne(this.es),this.e3=ie(this.es),this.ml0=this.a*Jt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.x,o=t.y,a=ut(r-this.long0);if(i=a*Math.sin(o),this.sphere)Math.abs(o)<=V?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(oe(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=V)e=this.a*a,n=-1*this.ml0;else{var s=re(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(i),n=this.a*Jt(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,a,s,l,u;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=V)e=ut(i/this.a+this.long0),n=0;else{var c;for(a=this.lat0+r/this.a,s=i*i/this.a/this.a+a*a,l=a,o=20;o;--o)if(l+=u=-1*(a*(l*(c=Math.tan(l))+1)-l-.5*(l*l+s)*c)/((l-a)/c-1),Math.abs(u)<=V){n=l;break}e=ut(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=V)n=0,e=ut(this.long0+i/this.a);else{var h,f,p,d,v;for(a=(this.ml0+r)/this.a,s=i*i/this.a/this.a+a*a,l=a,o=20;o;--o)if(v=this.e*Math.sin(l),h=Math.sqrt(1-v*v)*Math.tan(l),f=this.a*Jt(this.e0,this.e1,this.e2,this.e3,l),p=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(a*(h*(d=f/this.a)+1)-d-.5*h*(d*d+s))/(this.es*Math.sin(2*l)*(d*d+s-2*a*d)/(4*h)+(a-d)*(h*p-2/Math.sin(2*l))-p),Math.abs(u)<=V){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ut(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},Me={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,i=t.y-this.lat0,r=n-this.long0,o=i/N*1e-5,a=r,s=1,l=0;for(e=1;e<=10;e++)s*=o,l+=this.A[e]*s;var u,c=l,h=a,f=1,p=0,d=0,v=0;for(e=1;e<=6;e++)u=p*c+f*h,f=f*c-p*h,p=u,d=d+this.B_re[e]*f-this.B_im[e]*p,v=v+this.B_im[e]*f+this.B_re[e]*p;return t.x=v*this.a+this.x0,t.y=d*this.a+this.y0,t},inverse:function(t){var e,n,i=t.x,r=t.y,o=i-this.x0,a=(r-this.y0)/this.a,s=o/this.a,l=1,u=0,c=0,h=0;for(e=1;e<=6;e++)n=u*a+l*s,l=l*a-u*s,u=n,c=c+this.C_re[e]*l-this.C_im[e]*u,h=h+this.C_im[e]*l+this.C_re[e]*u;for(var f=0;f<this.iterations;f++){var p,d=c,v=h,y=a,g=s;for(e=2;e<=6;e++)p=v*c+d*h,d=d*c-v*h,v=p,y+=(e-1)*(this.B_re[e]*d-this.B_im[e]*v),g+=(e-1)*(this.B_im[e]*d+this.B_re[e]*v);d=1,v=0;var m=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)p=v*c+d*h,d=d*c-v*h,v=p,m+=e*(this.B_re[e]*d-this.B_im[e]*v),_+=e*(this.B_im[e]*d+this.B_re[e]*v);var b=m*m+_*_;c=(y*m+g*_)/b,h=(g*m-y*_)/b}var w=c,M=h,x=1,S=0;for(e=1;e<=9;e++)x*=w,S+=this.D[e]*x;var P=this.lat0+S*N*1e5,O=this.long0+M;return t.x=O,t.y=P,t},names:["New_Zealand_Map_Grid","nzmg"]},xe={init:function(){},forward:function(t){var e=t.x,n=t.y,i=ut(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=ut(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Se={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=It(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=ut(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),a=20;a;--a){var s=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<V)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);n=this.a*Nt(r,l,u,this.en),e=this.a*i*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=ye((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=ye(Math.sin(e)/this.n)),i=ut(i+this.long0),e=oe(e)):(e=Ft(t.y/this.a,this.es,this.en),(r=Math.abs(e))<F?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=ut(n)):r-V<F&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]},Pe={init:function(){},forward:function(t){for(var e=t.x,n=t.y,i=ut(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var a=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=a,Math.abs(a)<V)break}r/=2,Math.PI/2-Math.abs(n)<V&&(i=0);var s=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=s,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=ut(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]},Oe={init:function(){Math.abs(this.lat1+this.lat2)<V||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=te(this.es),this.e1=ee(this.es),this.e2=ne(this.es),this.e3=ie(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=st(this.e,this.sinphi,this.cosphi),this.ml1=Jt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<V?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=st(this.e,this.sinphi,this.cosphi),this.ml2=Jt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Jt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=Jt(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*ut(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=ut(this.long0+o/this.ns),i=oe(this.g-n/this.a),t.x=r,t.y=i,t;var a=this.g-n/this.a;return i=ae(a,this.e0,this.e1,this.e2,this.e3),r=ut(this.long0+o/this.ns),t.x=r,t.y=i,t},names:["Equidistant_Conic","eqdc"]},ke={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,r=t.y,o=ut(i-this.long0);Math.abs(r)<=V&&(e=this.x0+this.R*o,n=this.y0);var a=ye(2*Math.abs(r/Math.PI));(Math.abs(o)<=V||Math.abs(Math.abs(r)-F)<=V)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),l=s*s,u=Math.sin(a),c=Math.cos(a),h=c/(u+c-1),f=h*h,p=h*(2/u-1),d=p*p,v=Math.PI*this.R*(s*(h-d)+Math.sqrt(l*(h-d)*(h-d)-(d+l)*(f-d)))/(d+l);o<0&&(v=-v),e=this.x0+v;var y=l+h;return v=Math.PI*this.R*(p*y-s*Math.sqrt((d+l)*(l+1)-y*y))/(d+l),n=r>=0?this.y0+v:this.y0-v,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,a,s,l,u,c,h,f;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(i=t.x/h)*i+(r=t.y/h)*r,h=3*(r*r/(l=-2*(a=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(s=a-2*r*r+i*i)*s*s/l/l/l-9*a*s/l/l)/27)/(u=(a-s*s/3/l)/l)/(c=2*Math.sqrt(-u/3)),Math.abs(h)>1&&(h=h>=0?1:-1),f=Math.acos(h)/3,n=t.y>=0?(-c*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-s/3/l)*Math.PI,e=Math.abs(i)<V?this.long0:ut(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Ce={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,a,s,l,u,c,h,f,p,d,v,y,g,m,_,b,w,M,x=t.x,S=t.y,P=Math.sin(t.y),O=Math.cos(t.y),k=ut(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=V?(t.x=this.x0+this.a*(F-S)*Math.sin(k),t.y=this.y0-this.a*(F-S)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=V?(t.x=this.x0+this.a*(F+S)*Math.sin(k),t.y=this.y0+this.a*(F+S)*Math.cos(k),t):(m=this.sin_p12*P+this.cos_p12*O*Math.cos(k),g=(y=Math.acos(m))/Math.sin(y),t.x=this.x0+this.a*g*O*Math.sin(k),t.y=this.y0+this.a*g*(this.cos_p12*P-this.sin_p12*O*Math.cos(k)),t):(e=te(this.es),n=ee(this.es),i=ne(this.es),r=ie(this.es),Math.abs(this.sin_p12-1)<=V?(o=this.a*Jt(e,n,i,r,F),a=this.a*Jt(e,n,i,r,S),t.x=this.x0+(o-a)*Math.sin(k),t.y=this.y0-(o-a)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=V?(o=this.a*Jt(e,n,i,r,F),a=this.a*Jt(e,n,i,r,S),t.x=this.x0+(o+a)*Math.sin(k),t.y=this.y0+(o+a)*Math.cos(k),t):(s=P/O,l=re(this.a,this.e,this.sin_p12),u=re(this.a,this.e,P),c=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(u*O)),_=0===(h=Math.atan2(Math.sin(k),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(k)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=V?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(k)*Math.cos(c)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),y=l*_*(1-(b=_*_)*(v=(p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*p)*(1-v)/6+(w=b*_)/8*(d=f*p)*(1-2*v)+(M=w*_)/120*(v*(4-7*v)-3*f*f*(1-7*v))-M*_/48*d),t.x=this.x0+y*Math.sin(h),t.y=this.y0+y*Math.cos(h),t))},inverse:function(t){var e,n,i,r,o,a,s,l,u,c,h,f,p,d,v,y,g,m,_,b,w,M;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*F*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=V?a=this.lat0:(a=ye(r*this.sin_p12+t.y*i*this.cos_p12/e),s=Math.abs(this.lat0)-F,o=ut(Math.abs(s)<=V?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=a,t}return l=te(this.es),u=ee(this.es),c=ne(this.es),h=ie(this.es),Math.abs(this.sin_p12-1)<=V?(f=this.a*Jt(l,u,c,h,F),e=Math.sqrt(t.x*t.x+t.y*t.y),a=ae((f-e)/this.a,l,u,c,h),o=ut(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=V?(f=this.a*Jt(l,u,c,h,F),e=Math.sqrt(t.x*t.x+t.y*t.y),a=ae((e-f)/this.a,l,u,c,h),o=ut(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),v=Math.atan2(t.x,t.y),p=re(this.a,this.e,this.sin_p12),y=Math.cos(v),m=-(g=this.e*this.cos_p12*y)*g/(1-this.es),_=3*this.es*(1-m)*this.sin_p12*this.cos_p12*y/(1-this.es),M=1-m*(w=(b=e/p)-m*(1+m)*Math.pow(b,3)/6-_*(1+3*m)*Math.pow(b,4)/24)*w/2-b*w*w*w/6,d=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*y),o=ut(this.long0+Math.asin(Math.sin(v)*Math.sin(w)/Math.cos(d))),a=Math.atan((1-this.es*M*this.sin_p12/Math.sin(d))*Math.tan(d)/(1-this.es)),t.x=o,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]},Ee={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,a,s,l=t.x,u=t.y;return i=ut(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=V)&&(a=1*this.a*n*Math.sin(i),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=s,t},inverse:function(t){var e,n,i,r,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=ye(e/this.a),i=Math.sin(n),r=Math.cos(n),a=this.long0,Math.abs(e)<=V?(s=this.lat0,t.x=a,t.y=s,t):(s=ye(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-F,Math.abs(o)<=V?(a=ut(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=s,t):(a=ut(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=a,t.y=s,t))},names:["ortho"]},Le=1,Ae=2,je=3,Te=4,Ie=5,Ne=6,Fe={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},De={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=F-U/2?this.face=Ie:this.lat0<=-(F-U/2)?this.face=Ne:Math.abs(this.long0)<=U?this.face=Le:Math.abs(this.long0)<=F+U?this.face=this.long0>0?Ae:Te:this.face=je,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,a,s={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Ie)r=F-e,n>=U&&n<=F+U?(l.value=Fe.AREA_0,i=n-F):n>F+U||n<=-(F+U)?(l.value=Fe.AREA_1,i=n>0?n-W:n+W):n>-(F+U)&&n<=-U?(l.value=Fe.AREA_2,i=n+F):(l.value=Fe.AREA_3,i=n);else if(this.face===Ne)r=F+e,n>=U&&n<=F+U?(l.value=Fe.AREA_0,i=-n+F):n<U&&n>=-U?(l.value=Fe.AREA_1,i=-n):n<-U&&n>=-(F+U)?(l.value=Fe.AREA_2,i=-n-F):(l.value=Fe.AREA_3,i=n>0?-n+W:-n-W);else{var u,c,h,f,p,d;this.face===Ae?n=L(n,+F):this.face===je?n=L(n,+W):this.face===Te&&(n=L(n,-F)),f=Math.sin(e),p=Math.cos(e),d=Math.sin(n),u=p*Math.cos(n),c=p*d,h=f,this.face===Le?i=E(r=Math.acos(u),h,c,l):this.face===Ae?i=E(r=Math.acos(c),h,-u,l):this.face===je?i=E(r=Math.acos(-u),h,-c,l):this.face===Te?i=E(r=Math.acos(-c),h,u,l):(r=i=0,l.value=Fe.AREA_0)}return a=Math.atan(12/W*(i+Math.acos(Math.sin(i)*Math.cos(U))-F)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Fe.AREA_1?a+=F:l.value===Fe.AREA_2?a+=W:l.value===Fe.AREA_3&&(a+=1.5*W),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var e,n,i,r,o,a,s,l,u,c,h,f,p={lam:0,phi:0},d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Fe.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Fe.AREA_1,e-=F):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Fe.AREA_2,e=e<0?e+W:e-W):(d.value=Fe.AREA_3,e+=F),u=W/12*Math.tan(e),o=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),a=Math.atan(o),(s=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:s>1&&(s=1),this.face===Ie)l=Math.acos(s),p.phi=F-l,d.value===Fe.AREA_0?p.lam=a+F:d.value===Fe.AREA_1?p.lam=a<0?a+W:a-W:d.value===Fe.AREA_2?p.lam=a-F:p.lam=a;else if(this.face===Ne)l=Math.acos(s),p.phi=l-F,d.value===Fe.AREA_0?p.lam=-a+F:d.value===Fe.AREA_1?p.lam=-a:d.value===Fe.AREA_2?p.lam=-a-F:p.lam=a<0?-a-W:-a+W;else{var v,y,g;u=(v=s)*v,y=(u+=(g=u>=1?0:Math.sqrt(1-u)*Math.sin(a))*g)>=1?0:Math.sqrt(1-u),d.value===Fe.AREA_1?(u=y,y=-g,g=u):d.value===Fe.AREA_2?(y=-y,g=-g):d.value===Fe.AREA_3&&(u=y,y=g,g=-u),this.face===Ae?(u=v,v=-y,y=u):this.face===je?(v=-v,y=-y):this.face===Te&&(u=v,v=y,y=-u),p.phi=Math.acos(-g)-F,p.lam=Math.atan2(y,v),this.face===Ae?p.lam=L(p.lam,-F):this.face===je?p.lam=L(p.lam,-W):this.face===Te&&(p.lam=L(p.lam,+F))}0!==this.es&&(c=p.phi<0?1:0,h=Math.tan(p.phi),f=this.b/Math.sqrt(h*h+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),c&&(p.phi=-p.phi));return p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Re=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Be=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Ve=$/5,ze=1/Ve,$e=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Ue={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=ut(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Ve);i<0?i=0:i>=18&&(i=17);var r={x:$e(Re[i],n=$*(n-ze*i))*e,y:$e(Be[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=Re[18][0],e.y=t.y<0?-F:F;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(Be[n][0]>e.y)--n;else{if(!(Be[n+1][0]<=e.y))break;++n}var i=Be[n],r=5*(e.y-i[0])/(Be[n+1][0]-i[0]);r=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}(function(t){return($e(i,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(i,t)},r,V,100),e.x/=$e(Re[n],r),e.y=(5*n+r)*z,t.y<0&&(e.y=-e.y)}return e.x=ut(e.x+this.long0),e},names:["Robinson","robin"]};return _.defaultDatum="WGS84",_.Proj=p,_.WGS84=new _.Proj("WGS84"),_.Point=C,_.toPoint=wt,_.defs=s,_.transform=y,_.mgrs=jt,_.version="2.5.0",function(t){t.Proj.projections.add(Dt),t.Proj.projections.add(Ut),t.Proj.projections.add(Gt),t.Proj.projections.add(qt),t.Proj.projections.add(Xt),t.Proj.projections.add(Ht),t.Proj.projections.add(Qt),t.Proj.projections.add(Zt),t.Proj.projections.add(Kt),t.Proj.projections.add(se),t.Proj.projections.add(ve),t.Proj.projections.add(ge),t.Proj.projections.add(me),t.Proj.projections.add(_e),t.Proj.projections.add(be),t.Proj.projections.add(we),t.Proj.projections.add(Me),t.Proj.projections.add(xe),t.Proj.projections.add(Se),t.Proj.projections.add(Pe),t.Proj.projections.add(Oe),t.Proj.projections.add(ke),t.Proj.projections.add(Ce),t.Proj.projections.add(Ee),t.Proj.projections.add(De),t.Proj.projections.add(Ue)}(_),_})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapConfigurator=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=d(n(2)),o=d(n(1)),a=d(n(595)),s=n(594),l=n(593),u=n(366),c=n(41),h=n(3),f=n(335),p=n(13);function d(t){return t&&t.__esModule?t:{default:t}}e.MapConfigurator=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.layerConfigurator_=new l.LayerConfigurator(e),this.UIConfigurator_=new u.UIConfigurator(e),e.set("layerConfigurator",this.layerConfigurator_),e.set("UIConfigurator",this.UIConfigurator_),this.configureMap(),this.firstRun_=!1}return i(t,[{key:"configureLayers",value:function(){this.layerConfigurator_.configureLayers()}},{key:"configureUI",value:function(){this.UIConfigurator_.configureUI()}},{key:"configureMap",value:function(){var t=this;if(this.firstRun_)throw p.Debug.error("configureMap is supposed to be called only once"),p.Debug.warn('If you would like to change that, please think about something because of the asynchronous nature of "ready", "ready:ui" and "ready:layers"'),new Error;var e=(0,c.copyDeep)(this.map_.get("mapConfig"));e.enableContextMenu||(0,o.default)(this.map_.getTarget()).on("contextmenu",function(t){(0,o.default)(t.target).is("input[type=text]")||(0,o.default)(t.target).is("textarea")||t.preventDefault()}),this.map_.set("userActionTracking",e.userActionTracking);var n=e.hasOwnProperty("interfaceProjection")?e.interfaceProjection:"EPSG:4326";this.map_.set("interfaceProjection",n);var i={};e.hasOwnProperty("manageStyles")&&(i.manageStyles=e.manageStyles),e.hasOwnProperty("styleMap")&&(i.styleConfigMap=e.styleMap);var l=e.hasOwnProperty("scaleIcons")?e.scaleIcons:1;i.scaleIcons=l,this.map_.set("scaleIcons",l),this.map_.set("styling",new s.Styling(i));for(var u=e.hasOwnProperty("additionalProjections")?e.additionalProjections:[],d=0,v=u.length;d<v;d++)a.default.defs(u[d].code,u[d].definition);if(u.length>0&&r.default.proj.proj4.register(a.default),(0,h.checkFor)(e,"measurementProjection"))try{this.map_.set("measurementProjection",r.default.proj.get(e.measurementProjection))}catch(t){throw new Error("measurementProjection is not available, check for spelling or try to add it to additionalProjections with a proj4 definition.")}this.configureLayers();var y=this.map_.get("mapProjection"),g=e.view||{};g.projection=y,(0,h.checkFor)(e.view,"center")&&(g.center=r.default.proj.transform(e.view.center,n,y)),(0,h.checkFor)(e.view,"extent")&&(g.extent=r.default.extent.applyTransform(e.view.extent,r.default.proj.getTransform(n,y)));var m=this.map_.getView();m&&(g.center=m.getCenter()||e.view.center,g.resolution=m.getResolution()||e.view.resolution,g.rotation=m.getRotation()||e.view.rotation);var _=new r.default.View(g);!m&&(0,h.checkFor)(e.view,"fit")&&_.fit(r.default.proj.transformExtent(e.view.fit,n,y),{size:this.map_.getSize()}),this.map_.setView(_),(0,o.default)(window).on("resize",function(){t.map_.dispatchEvent("resize")});var b=(0,o.default)(this.map_.getViewport());b.on("mousedown",function(){b.addClass("mousedown")}),b.on("mouseup",function(){b.removeClass("mousedown")}),b.focus(),b.on("click",function(){b.focus()}),p.Debug.tryOrThrow(function(){t.configureUI()}),this.map_.set("api",new f.API(this.map_,e.api));var w=!0,M=!1,x=void 0;try{for(var S,P=this.map_.getModules()[Symbol.iterator]();!(w=(S=P.next()).done);w=!0){S.value.configureMap(e)}}catch(t){M=!0,x=t}finally{try{!w&&P.return&&P.return()}finally{if(M)throw x}}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(164);Object.defineProperty(e,"G4UMap",{enumerable:!0,get:function(){return i.G4UMap}});var r=n(134);Object.defineProperty(e,"registerModule",{enumerable:!0,get:function(){return r.registerModule}});var o=n(160);Object.defineProperty(e,"SourceServerVector",{enumerable:!0,get:function(){return o.SourceServerVector}});var a=n(67);Object.defineProperty(e,"GroupLayer",{enumerable:!0,get:function(){return a.GroupLayer}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"./conf/client.commented.json",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"./conf/layers.commented.json",i=arguments[3];return(0,r.createMapInternal)(t,e,n,i)};var i=n(597);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=n(330),o=n(134);n(328),n(327),n(326);var a=n(325);(0,o.registerModule)(new a.URLAPIModule)},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){var i=n(0),r=n(599)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e,n){n(600),t.exports=n(38).RegExp.escape},function(t,e,n){(function(e){!function(e){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",u="object"==typeof t,c=e.regeneratorRuntime;if(c)u&&(t.exports=c);else{(c=e.regeneratorRuntime=u?t.exports:{}).wrap=b;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",v={},y={};y[a]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==i&&r.call(m,a)&&(y=m);var _=S.prototype=M.prototype=Object.create(y);x.prototype=_.constructor=S,S.constructor=x,S[l]=x.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(_),t},c.awrap=function(t){return{__await:t}},P(O.prototype),O.prototype[s]=function(){return this},c.AsyncIterator=O,c.async=function(t,e,n,i){var r=new O(b(t,e,n,i));return c.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},P(_),_[l]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return s.type="throw",s.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:A(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),v}}}function b(t,e,n,i){var r=e&&e.prototype instanceof M?e:M,o=Object.create(r.prototype),a=new L(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===d){if("throw"===r)throw o;return j()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=w(t,e,n);if("normal"===l.type){if(i=n.done?d:f,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function M(){}function x(){}function S(){}function P(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(t){function n(e,i,o,a){var s=w(t[e],t,i);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},a)}a(s.arg)}var i;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function r(){return new Promise(function(i,r){n(t,e,i,r)})}return i=i?i.then(r,r):r()}}function k(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,k(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=w(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,v;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:n,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(191))},function(t,e,n){for(var i=n(169),r=n(76),o=n(25),a=n(5),s=n(26),l=n(87),u=n(12),c=u("iterator"),h=u("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),v=0;v<d.length;v++){var y,g=d[v],m=p[g],_=a[g],b=_&&_.prototype;if(b&&(b[c]||s(b,c,f),b[h]||s(b,h,g),l[g]=f,m))for(y in i)b[y]||o(b,y,i[y],!0)}},function(t,e,n){var i=n(0),r=n(168);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i=n(5),r=n(0),o=n(123),a=[].slice,s=/MSIE .\./.test(o),l=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&a.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*s,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(t,e,n){"use strict";var i=n(0),r=n(5),o=n(38),a=n(167)(),s=n(12)("observable"),l=n(21),u=n(4),c=n(71),h=n(69),f=n(26),p=n(70),d=p.RETURN,v=function(t){return null==t?void 0:l(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},m=function(t){g(t)||(t._o=void 0,y(t))},_=function(t,e){u(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}g(this)&&y(this)};_.prototype=h({},{unsubscribe:function(){m(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!g(e)){var n=e._o;try{var i=v(n.next);if(i)return i.call(n,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(g(e))throw t;var n=e._o;e._o=void 0;try{var i=v(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!g(e)){var n=e._o;e._o=void 0;try{var i=v(n.complete);t=i?i.call(n,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var w=function(t){c(this,w,"Observable","_f")._f=l(t)};h(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(n,i){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})})}}),h(w,{from:function(t){var e="function"==typeof this?this:w,n=v(u(t)[s]);if(n){var i=u(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}}),function(){e=!0}})}}),f(w.prototype,s,function(){return this}),i(i.G,{Observable:w}),n(72)("Observable")},function(t,e,n){var i=n(0),r=n(167)(),o=n(5).process,a="process"==n(36)(o);i(i.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},function(t,e,n){var i=n(49),r=n(4),o=n(21),a=i.key,s=i.set;i.exp({metadata:function(t,e){return function(n,i){s(t,e,(void 0!==i?r:o)(n),a(i))}}})},function(t,e,n){var i=n(49),r=n(4),o=i.has,a=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(49),r=n(4),o=n(28),a=i.has,s=i.key,l=function(t,e,n){if(a(t,e,n))return!0;var i=o(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(49),r=n(4),o=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var i=n(49),r=n(4),o=i.get,a=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(281),r=n(272),o=n(49),a=n(4),s=n(28),l=o.keys,u=o.key,c=function(t,e){var n=l(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?r(new i(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,e,n){var i=n(49),r=n(4),o=n(28),a=i.has,s=i.get,l=i.key,u=function(t,e,n){if(a(t,e,n))return s(t,e,n);var i=o(e);return null!==i?u(t,i,n):void 0};i.exp({getMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var i=n(49),r=n(4),o=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=a(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=s.get(e);return l.delete(n),!!l.size||s.delete(e)}})},function(t,e,n){var i=n(49),r=n(4),o=i.key,a=i.set;i.exp({defineMetadata:function(t,e,n,i){a(t,e,r(n),o(i))}})},function(t,e,n){"use strict";var i=n(0),r=n(166),o=n(285);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var i=n(0),r=n(38),o=n(5),a=n(124),s=n(284);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>>16)+((r*s>>>0)+(65535&l)>>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{scale:n(271)})},function(t,e,n){var i=n(0),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},function(t,e,n){var i=n(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(0);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>16,s=i>>16,l=(a*o>>>0)+(r*o>>>16);return a*s+(l>>16)+((r*s>>>0)+(65535&l)>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,n){var i=n(0),r=n(271),o=n(291);i(i.S,"Math",{fscale:function(t,e,n,i,a){return o(r(t,e,n,i,a))}})},function(t,e,n){var i=n(0),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},function(t,e,n){var i=n(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(0);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var i=n(0),r=n(36);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(5)})},function(t,e,n){var i=n(0);i(i.G,{global:n(5)})},function(t,e,n){n(118)("WeakSet")},function(t,e,n){n(118)("WeakMap")},function(t,e,n){n(118)("Set")},function(t,e,n){n(118)("Map")},function(t,e,n){n(119)("WeakSet")},function(t,e,n){n(119)("WeakMap")},function(t,e,n){n(119)("Set")},function(t,e,n){n(119)("Map")},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(273)("Set")})},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(273)("Map")})},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(46),a=n(28),s=n(29).f;n(17)&&i(i.P+n(120),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.set}while(n=a(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(46),a=n(28),s=n(29).f;n(17)&&i(i.P+n(120),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(21),a=n(16);n(17)&&i(i.P+n(120),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(21),a=n(16);n(17)&&i(i.P+n(120),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(0),r=n(274)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(274)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(277),o=n(30),a=n(29),s=n(173);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),l=a.f,u=r(i),c={},h=0;u.length>h;)void 0!==(n=l(i,e=u[h++]))&&s(c,e,n);return c}})},function(t,e,n){n(189)("observable")},function(t,e,n){n(189)("asyncIterator")},function(t,e,n){"use strict";var i=n(0),r=n(45),o=n(15),a=n(128),s=n(126),l=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};n(177)(u,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):s.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(t.lastIndex),new u(i,e)}})},function(t,e,n){"use strict";n(88)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";n(88)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";var i=n(0),r=n(275),o=n(123);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(275),o=n(123);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(179)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(276),o=n(19),a=n(15),s=n(44),l=n(171);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),i=l(e,0);return r(i,e,e,n,0,void 0===t?1:s(t)),i}}),n(55)("flatten")},function(t,e,n){"use strict";var i=n(0),r=n(276),o=n(19),a=n(15),s=n(21),l=n(171);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return s(t),e=a(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(55)("flatMap")},function(t,e,n){"use strict";var i=n(0),r=n(131)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(55)("includes")},function(t,e,n){var i=n(0),r=n(185);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){var i=n(16),r=n(29),o=n(28),a=n(31),s=n(0),l=n(78),u=n(4),c=n(7);s(s.S,"Reflect",{set:function t(e,n,s){var h,f,p=arguments.length<4?e:arguments[3],d=r.f(u(e),n);if(!d){if(c(f=o(e)))return t(f,n,s,p);d=l(0)}if(a(d,"value")){if(!1===d.writable||!c(p))return!1;if(h=r.f(p,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,i.f(p,n,h)}else i.f(p,n,l(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,n){var i=n(0),r=n(4),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(277)})},function(t,e,n){var i=n(0),r=n(4),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(28),o=n(4);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){var i=n(29),r=n(0),o=n(4);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(29),r=n(28),o=n(31),a=n(0),s=n(7),l=n(4);a(a.S,"Reflect",{get:function t(e,n){var a,u,c=arguments.length<3?e:arguments[2];return l(e)===c?e[n]:(a=i.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(u=r(e))?t(u,n,c):void 0}})},function(t,e,n){"use strict";var i=n(0),r=n(4),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(177)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var i=n(0),r=n(29).f,o=n(4);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var i=n(16),r=n(0),o=n(4),a=n(46);r(r.S+r.F*n(6)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(74),o=n(21),a=n(4),s=n(7),l=n(6),u=n(298),c=(n(5).Reflect||{}).construct,h=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!l(function(){c(function(){})});i(i.S+i.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var l=n.prototype,p=r(s(l)?l:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var i=n(0),r=n(21),o=n(4),a=(n(5).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(6)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return a?a(i,e,l):s.call(i,e,l)}})},function(t,e,n){n(50)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(50)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(50)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(50)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(50)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(50)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(50)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){n(50)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(50)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(121).ABV,{DataView:n(165).DataView})},function(t,e,n){"use strict";var i=n(0),r=n(121),o=n(165),a=n(4),s=n(75),l=n(15),u=n(7),c=n(5).ArrayBuffer,h=n(124),f=o.ArrayBuffer,p=o.DataView,d=r.ABV&&c.isView,v=f.prototype.slice,y=r.VIEW;i(i.G+i.W+i.F*(c!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||u(t)&&y in t}}),i(i.P+i.U+i.F*n(6)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(h(this,f))(l(r-i)),u=new p(this),c=new p(o),d=0;i<r;)c.setUint8(d++,u.getUint8(i++));return o}}),n(72)("ArrayBuffer")},function(t,e,n){"use strict";var i=n(279),r=n(86);n(122)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i,r,o,a,s=n(56),l=n(5),u=n(37),c=n(94),h=n(0),f=n(7),p=n(21),d=n(71),v=n(70),y=n(124),g=n(168).set,m=n(167)(),_=n(166),b=n(285),w=n(123),M=n(284),x=l.TypeError,S=l.process,P=S&&S.versions,O=P&&P.v8||"",k=l.Promise,C="process"==c(S),E=function(){},L=r=_.f,A=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[n(12)("species")]=function(t){t(E,E)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==O.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),j=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},T=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a,s=r?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(r||(2==t._h&&F(t),t._h=1),!0===s?n=i:(c&&c.enter(),n=s(i),c&&(c.exit(),a=!0)),n===e.promise?u(x("Promise-chain cycle")):(o=j(n))?o.call(n,l,u):l(n)):u(i)}catch(t){c&&!a&&c.exit(),u(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)})}},I=function(t){g.call(l,function(){var e,n,i,r=t._v,o=N(t);if(o&&(e=b(function(){C?S.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=C||N(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){g.call(l,function(){var e;C?S.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),T(e,!0))},R=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=j(t))?m(function(){var i={_w:n,_d:!1};try{e.call(t,u(R,i,1),u(D,i,1))}catch(t){D.call(i,t)}}):(n._v=t,n._s=1,T(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};A||(k=function(t){d(this,k,"Promise","_h"),p(t),i.call(this);try{t(u(R,this,1),u(D,this,1))}catch(t){D.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(69)(k.prototype,{then:function(t,e){var n=L(y(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&T(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(R,t,1),this.reject=u(D,t,1)},_.f=L=function(t){return t===k||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!A,{Promise:k}),n(89)(k,"Promise"),n(72)("Promise"),a=n(38).Promise,h(h.S+h.F*!A,"Promise",{reject:function(t){var e=L(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!A),"Promise",{resolve:function(t){return M(s&&this===a?k:this,t)}}),h(h.S+h.F*!(A&&n(127)(function(t){k.all(t).catch(E)})),"Promise",{all:function(t){var e=this,n=L(e),i=n.resolve,r=n.reject,o=b(function(){var n=[],o=0,a=1;v(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=L(e),i=n.reject,r=b(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){n(125)("split",2,function(t,e,i){"use strict";var r=n(128),o=i,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,l,u,c,h,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,p+"g");for(s||(i=new RegExp("^"+y.source+"$(?!\\s)",p));(l=y.exec(n))&&!((u=l.index+l[0].length)>d&&(f.push(n.slice(d,l.index)),!s&&l.length>1&&l[0].replace(i,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(l[h]=void 0)}),l.length>1&&l.index<n.length&&a.apply(f,l.slice(1)),c=l[0].length,d=u,f.length>=v));)y.lastIndex===l.index&&y.lastIndex++;return d===n.length?!c&&y.test("")||f.push(""):f.push(n.slice(d)),f.length>v?f.slice(0,v):f}}else"0".split(void 0,0).length&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,r){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(t,e,n){n(125)("search",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){n(125)("replace",2,function(t,e,n){return[function(i,r){"use strict";var o=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(t,e,n){n(125)("match",1,function(t,e,n){return[function(n){"use strict";var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]})},function(t,e,n){"use strict";n(286);var i=n(4),r=n(126),o=n(17),a=/./.toString,s=function(t){n(25)(RegExp.prototype,"toString",t,!0)};n(6)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){var i=n(5),r=n(183),o=n(16).f,a=n(73).f,s=n(128),l=n(126),u=i.RegExp,c=u,h=u.prototype,f=/a/g,p=/a/g,d=new u(f)!==f;if(n(17)&&(!d||n(6)(function(){return p[n(12)("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function(t,e){var n=this instanceof u,i=s(t),o=void 0===e;return!n&&i&&t.constructor===u&&o?t:r(d?new c(i&&!o?t.source:t,e):c((i=t instanceof u)?t.source:t,i&&o?l.call(t):e),n?this:h,u)};for(var v=function(t){t in u||o(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},y=a(c),g=0;y.length>g;)v(y[g++]);h.constructor=u,u.prototype=h,n(25)(i,"RegExp",u)}n(72)("RegExp")},function(t,e,n){n(72)("Array")},function(t,e,n){"use strict";var i=n(0),r=n(42)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(55)(o)},function(t,e,n){"use strict";var i=n(0),r=n(42)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(55)("find")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(170)}),n(55)("fill")},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(288)}),n(55)("copyWithin")},function(t,e,n){"use strict";var i=n(0),r=n(30),o=n(44),a=n(15),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(35)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),n=a(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){"use strict";var i=n(0),r=n(131)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(35)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(289);i(i.P+i.F*!n(35)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(289);i(i.P+i.F*!n(35)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(42)(4);i(i.P+i.F*!n(35)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(42)(3);i(i.P+i.F*!n(35)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(42)(2);i(i.P+i.F*!n(35)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(42)(1);i(i.P+i.F*!n(35)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(7),r=n(129),o=n(12)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(0),r=n(42)(0),o=n(35)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(21),o=n(19),a=n(6),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(35)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(0),r=n(186),o=n(36),a=n(75),s=n(15),l=[].slice;i(i.P+i.F*n(6)(function(){r&&l.call(r)}),"Array",{slice:function(t,e){var n=s(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=a(t,n),u=a(e,n),c=s(u-r),h=new Array(c),f=0;f<c;f++)h[f]="String"==i?this.charAt(r+f):this[r+f];return h}})},function(t,e,n){"use strict";var i=n(0),r=n(30),o=[].join;i(i.P+i.F*(n(96)!=Object||!n(35)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(173);i(i.S+i.F*n(6)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(37),r=n(0),o=n(19),a=n(290),s=n(174),l=n(15),u=n(173),c=n(172);r(r.S+r.F*!n(127)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,y=void 0!==v,g=0,m=c(f);if(y&&(v=i(v,d>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(n=new p(e=l(f.length));e>g;g++)u(n,g,y?v(f[g],g):f[g]);else for(h=m.call(f),n=new p;!(r=h.next()).done;g++)u(n,g,y?a(h,v,[r.value,g],!0):r.value);return n.length=g,n}})},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(129)})},function(t,e,n){"use strict";var i=n(4),r=n(46);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(12)("toPrimitive"),r=Date.prototype;i in r||n(26)(r,i,n(716))},function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(25)(i,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,n){"use strict";var i=n(6),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var i=n(0),r=n(719);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(46);i(i.P+i.F*n(6)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";n(24)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){"use strict";n(24)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(24)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(24)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(24)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(24)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(24)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(24)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(24)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(24)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(24)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(24)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(24)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";var i=n(0),r=n(15),o=n(176),a="".startsWith;i(i.P+i.F*n(175)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(182)})},function(t,e,n){"use strict";var i=n(0),r=n(176);i(i.P+i.F*n(175)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(0),r=n(15),o=n(176),a="".endsWith;i(i.P+i.F*n(175)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),s=void 0===n?i:Math.min(r(n),i),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){"use strict";var i=n(0),r=n(179)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(179)(!0);n(178)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n(88)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){var i=n(0),r=n(30),o=n(15);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){var i=n(0),r=n(75),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;i>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),r=n(180),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(0),r=n(180),o=Math.exp;i(i.S+i.F*n(6)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(181)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(292)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(6)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,a=0,s=arguments.length,l=0;a<s;)l<(n=r(arguments[a++]))?(o=o*(i=l/n)*i+1,l=n):o+=n>0?(i=n/l)*i:n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(291)})},function(t,e,n){var i=n(0),r=n(180);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),r=n(181);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var i=n(0),r=n(292),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var i=n(0),r=n(296);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(0),r=n(295);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0),r=n(293),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(293)})},function(t,e,n){var i=n(0),r=n(5).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(294),a=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(44),o=n(294),a=n(182),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*u[n],u[n]=i%1e7,i=l(i/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=l(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(6)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,i,s,l=o(this,c),u=r(t),v="",y="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*d(2,69,1))-69)<0?l*d(2,-e,1):l/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=u;i>=7;)h(1e7,0),i-=7;for(h(d(10,i,1),0),i=e-1;i>=23;)f(1<<23),i-=23;f(1<<i),h(1,1),f(2),y=p()}else h(0,n),h(1<<-e,0),y=p()+a.call("0",u);return y=u>0?v+((s=y.length)<=u?"0."+a.call("0",u-s)+y:y.slice(0,s-u)+"."+y.slice(s-u)):v+y}})},function(t,e,n){"use strict";var i=n(5),r=n(31),o=n(36),a=n(183),s=n(46),l=n(6),u=n(73).f,c=n(29).f,h=n(16).f,f=n(88).trim,p=i.Number,d=p,v=p.prototype,y="Number"==o(n(74)(v)),g="trim"in String.prototype,m=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=g?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var a,l=e.slice(2),u=0,c=l.length;u<c;u++)if((a=l.charCodeAt(u))<48||a>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(y?l(function(){v.valueOf.call(n)}):"Number"!=o(n))?a(new d(m(e)),n,p):m(e)};for(var _,b=n(17)?u(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)r(d,_=b[w])&&!r(p,_)&&h(p,_,c(d,_));p.prototype=v,v.constructor=p,n(25)(i,"Number",p)}},function(t,e,n){var i=n(0),r=n(295);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){var i=n(0),r=n(296);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){"use strict";var i=n(7),r=n(28),o=n(12)("hasInstance"),a=Function.prototype;o in a||n(16).f(a,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(16).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(17)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(298)})},function(t,e,n){"use strict";var i=n(94),r={};r[n(12)("toStringTag")]="z",r+""!="[object z]"&&n(25)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(185).set})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(781)})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(299)})},function(t,e,n){var i=n(7);n(43)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(7);n(43)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(7);n(43)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(7),r=n(57).onFreeze;n(43)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(7),r=n(57).onFreeze;n(43)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(7),r=n(57).onFreeze;n(43)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){n(43)("getOwnPropertyNames",function(){return n(300).f})},function(t,e,n){var i=n(19),r=n(76);n(43)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(19),r=n(28);n(43)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(30),r=n(29).f;n(43)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(17),"Object",{defineProperties:n(301)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(17),"Object",{defineProperty:n(16).f})},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(74)})},function(t,e,n){var i=n(76),r=n(130),o=n(95);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){"use strict";var i=n(5),r=n(31),o=n(17),a=n(0),s=n(25),l=n(57).KEY,u=n(6),c=n(132),h=n(89),f=n(77),p=n(12),d=n(303),v=n(189),y=n(797),g=n(129),m=n(4),_=n(7),b=n(30),w=n(46),M=n(78),x=n(74),S=n(300),P=n(29),O=n(16),k=n(76),C=P.f,E=O.f,L=S.f,A=i.Symbol,j=i.JSON,T=j&&j.stringify,I=p("_hidden"),N=p("toPrimitive"),F={}.propertyIsEnumerable,D=c("symbol-registry"),R=c("symbols"),B=c("op-symbols"),V=Object.prototype,z="function"==typeof A,$=i.QObject,U=!$||!$.prototype||!$.prototype.findChild,G=o&&u(function(){return 7!=x(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=C(V,e);i&&delete V[e],E(t,e,n),i&&t!==V&&E(V,e,i)}:E,W=function(t){var e=R[t]=x(A.prototype);return e._k=t,e},Y=z&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},q=function(t,e,n){return t===V&&q(B,e,n),m(t),e=w(e,!0),m(n),r(R,e)?(n.enumerable?(r(t,I)&&t[I][e]&&(t[I][e]=!1),n=x(n,{enumerable:M(0,!1)})):(r(t,I)||E(t,I,M(1,{})),t[I][e]=!0),G(t,e,n)):E(t,e,n)},X=function(t,e){m(t);for(var n,i=y(e=b(e)),r=0,o=i.length;o>r;)q(t,n=i[r++],e[n]);return t},H=function(t){var e=F.call(this,t=w(t,!0));return!(this===V&&r(R,t)&&!r(B,t))&&(!(e||!r(this,t)||!r(R,t)||r(this,I)&&this[I][t])||e)},Q=function(t,e){if(t=b(t),e=w(e,!0),t!==V||!r(R,e)||r(B,e)){var n=C(t,e);return!n||!r(R,e)||r(t,I)&&t[I][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=L(b(t)),i=[],o=0;n.length>o;)r(R,e=n[o++])||e==I||e==l||i.push(e);return i},K=function(t){for(var e,n=t===V,i=L(n?B:b(t)),o=[],a=0;i.length>a;)!r(R,e=i[a++])||n&&!r(V,e)||o.push(R[e]);return o};z||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(B,n),r(this,I)&&r(this[I],t)&&(this[I][t]=!1),G(this,t,M(1,n))};return o&&U&&G(V,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),P.f=Q,O.f=q,n(73).f=S.f=Z,n(95).f=H,n(130).f=K,o&&!n(56)&&s(V,"propertyIsEnumerable",H,!0),d.f=function(t){return W(p(t))}),a(a.G+a.W+a.F*!z,{Symbol:A});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;J.length>tt;)p(J[tt++]);for(var et=k(p.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return r(D,t+="")?D[t]:D[t]=A(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!z,"Object",{create:function(t,e){return void 0===e?x(t):X(x(t),e)},defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:K}),j&&a(a.S+a.F*(!z||u(function(){var t=A();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!Y(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),i[1]=e,T.apply(j,i)}}),A.prototype[N]||n(26)(A.prototype,N,A.prototype.valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){n(798),n(796),n(795),n(794),n(793),n(792),n(791),n(790),n(789),n(788),n(787),n(786),n(785),n(784),n(783),n(782),n(780),n(779),n(778),n(777),n(776),n(775),n(774),n(773),n(772),n(771),n(770),n(769),n(768),n(767),n(766),n(765),n(764),n(763),n(762),n(761),n(760),n(759),n(758),n(757),n(756),n(755),n(754),n(753),n(752),n(751),n(750),n(749),n(748),n(747),n(746),n(745),n(744),n(743),n(742),n(741),n(740),n(739),n(738),n(737),n(736),n(735),n(734),n(733),n(732),n(731),n(730),n(729),n(728),n(727),n(726),n(725),n(724),n(723),n(722),n(721),n(720),n(718),n(717),n(715),n(714),n(713),n(712),n(711),n(710),n(709),n(707),n(706),n(705),n(704),n(703),n(702),n(701),n(700),n(699),n(698),n(697),n(696),n(695),n(169),n(694),n(693),n(286),n(692),n(691),n(690),n(689),n(688),n(283),n(281),n(280),n(687),n(686),n(685),n(684),n(683),n(682),n(681),n(680),n(679),n(678),n(677),n(676),n(675),n(674),n(673),n(672),n(671),n(670),n(669),n(668),n(667),n(666),n(665),n(664),n(663),n(662),n(661),n(660),n(659),n(658),n(657),n(656),n(655),n(654),n(653),n(652),n(651),n(650),n(649),n(648),n(647),n(646),n(645),n(644),n(643),n(642),n(641),n(640),n(639),n(638),n(637),n(636),n(635),n(634),n(633),n(632),n(631),n(630),n(629),n(628),n(627),n(626),n(625),n(624),n(623),n(622),n(621),n(620),n(619),n(618),n(617),n(616),n(615),n(614),n(613),n(612),n(611),n(610),n(609),n(608),n(607),n(606),n(605),n(604),n(603),t.exports=n(38)},function(t,e,n){"use strict";(function(t){if(n(799),n(602),n(601),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function i(t,n,i){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:i})}i(String.prototype,"padLeft","".padStart),i(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&i(Array,t,Function.call.bind([][t]))})}).call(this,n(191))},function(t,e,n){n(800),t.exports=n(598)},,,function(t,e){},,,function(t,e){},,function(t,e){},,,function(t,e){},,,,function(t,e){},,function(t,e){},,function(t,e){},,,function(t,e){},,function(t,e){},,,function(t,e){},,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,function(t,e){},,,,function(t,e){},,function(t,e){},,,,,,,,function(t,e){},,,,function(t,e){},,,,,,,function(t,e){},,,function(t,e){},,function(t,e){},,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,,,,function(t,e){}])});